"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2334],{11318:function(e,r,s){s.d(r,{p:function(){return InfoTooltipButton},Z:function(){return h}});var l=s(85893),d=s(19521),c=s(67294),m=s(79632);let p=(0,d.ZP)(m.zx).attrs(e=>({...e,forwardedAs:"span",onClick:e=>e.preventDefault(),kind:"default",size:"md",variant:"textOnly",color:"main0"})).withConfig({displayName:"styles__StyledInfoTooltipButton",componentId:"sc-15cvlnj-0"})(()=>[{cursor:"help !important"}]);var u=s(43251);let InfoTooltipButton=e=>{let{children:r,tooltipContent:s,plain:d,align:m="right",vAlign:p="center",iconSize:h="1em",...g}=e,[v,j]=(0,c.useState)(!1);(0,c.useEffect)(()=>{j(!0)},[]);let _=(0,c.useRef)(null),w=[];switch("left"===m&&w.push({order:"-1"}),p){case"top":w.push({marginBottom:"0.5rem"});break;case"bottom":w.push({marginBottom:"-0.25rem"})}let C=(0,l.jsx)(y,{name:"info-circle",size:h,$_css:w});return(0,l.jsxs)(l.Fragment,{children:[d?(0,l.jsxs)(x,{ref:_,children:[r,C]}):(0,l.jsxs)(f,{ref:_,children:[r,C]}),v&&(0,l.jsx)(u.Z,{...g,targetRef:_,content:s})]})};InfoTooltipButton.displayName="InfoTooltipButton";var h=(0,c.memo)(InfoTooltipButton),y=(0,d.ZP)(m.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-1jqd2c1-0"})(["",""],e=>e.$_css),x=(0,d.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-1jqd2c1-1"})({display:"inline-flex",cursor:"help",alignItems:"center",gap:"0.625rem"}),f=(0,d.ZP)(p).withConfig({displayName:"cmp___StyledStyledInfoTooltipButton",componentId:"sc-1jqd2c1-2"})({display:"inline-flex",alignItems:"center",gap:"0.625rem"})},21836:function(e,r,s){s.d(r,{Z:function(){return l.Z}});var l=s(11318)},43251:function(e,r,s){s.d(r,{Z:function(){return p}});var l=s(85893),d=s(19521),c=s(67294),m=s(79632);let ResponsiveTooltip=e=>{let r=(0,m._K)("md");return(0,l.jsx)(u,{...e,$_css:r?{position:"fixed !important",left:"0px !important",top:"0px !important",zIndex:"20 !important",margin:"1.5rem",height:"calc(100% - 3rem) !important",width:"calc(100% - 3rem) !important",maxWidth:"100% !important",transform:"none !important"}:""})};ResponsiveTooltip.displayName="ResponsiveTooltip";var p=(0,c.memo)(ResponsiveTooltip),u=(0,d.ZP)(m.u).withConfig({displayName:"cmp___StyledTooltip",componentId:"sc-vdmo8c-0"})(["",""],e=>e.$_css)},32424:function(e,r,s){s.d(r,{Z:function(){return S}});var l=s(85893),d=s(19521),c=s(67294),m=s(79632),p=s(11505),u=s(76696),h=s(77541),y=s(49107),x=s(11163),f=s(18395),g=s(68091),v=s(36541),j=s(50586),_=s(86780),w=s(9911),C=s(47104);let SSHKeyDetail=e=>{let{sshKeyId:r,showDelete:s=!1}=e,{sshKey:S,theme:M,handleCopyKey:F,handleCopyLabel:A,handleDelete:B}=function(e){let{sshKeyId:r}=e,s=(0,d.Fg)(),l=(0,x.useRouter)(),{dispatchDeleteEntity:p}=(0,v.w)({entityName:"ssh"}),{entities:u}=(0,g.X)({ids:r}),[h]=u||[],y=(0,m.vx)((null==h?void 0:h.label)||""),w=(0,m.vx)((null==h?void 0:h.key)||""),C=(0,f.p)(),{next:S,stop:N,noti:I}=(0,_.A)({}),Z=(0,c.useCallback)(async()=>{if(!C)throw j.Z.ConnectYourWallet;if(!h)throw j.Z.SSHKeyNotFound;let e=await C.getDelSteps(h),r=e.map(e=>_.n[e]),s=C.delSteps(h);try{for(;;){let{done:e}=await s.next();if(e)break;await S(r)}p(h.id),await l.replace("/console")}catch(l){console.error(l);let e=l.message,r=null==l?void 0:l.cause,s="string"==typeof r?r:null==r?void 0:r.message;null==I||I.add({variant:"error",title:"Error",text:e,detail:s})}finally{await N()}},[p,C,h,S,l,N,I]);return{sshKey:h,theme:s,handleCopyLabel:y,handleCopyKey:w,handleDelete:Z}}({sshKeyId:r});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(N,{children:[(0,l.jsxs)(I,{children:[(0,l.jsx)(Z,{name:"key",className:"text-main0"}),(0,l.jsx)("div",{className:"tp-body2",children:S?S.label||(0,y.zN)(S.id):(0,l.jsx)(C.Z,{width:"10rem"})}),(0,l.jsx)(D,{kind:"secondary",variant:(null==S?void 0:S.confirmed)?"success":"warning",children:S?S.confirmed?"READY":(0,l.jsxs)(P,{children:[(0,l.jsx)(b,{children:"CONFIRMING"}),(0,l.jsx)(p.s5,{strokeColor:M.color.base2,width:".8rem"})]}):"LOADING"})]}),(0,l.jsx)("div",{children:s&&(0,l.jsx)(m.zx,{kind:"functional",variant:"error",size:"md",onClick:B,children:(0,l.jsx)(m.JO,{name:"trash"})})})]}),(0,l.jsxs)(m.Jy,{children:[(0,l.jsxs)(E,{children:[(0,l.jsx)(k,{variant:"accent",children:S?w.K_[S.type]:(0,l.jsx)(C.Z,{width:"5rem",height:"1.3rem"})}),(0,l.jsxs)(T,{children:[(0,l.jsx)("div",{className:"tp-info text-main0",children:"KEY"}),(0,l.jsx)(u.Z,{iconName:"copy",onClick:F,children:S?S.key:(0,l.jsx)(C.Z,{width:"12rem"})})]})]}),(0,l.jsx)(h.Z,{}),(null==S?void 0:S.label)&&(0,l.jsxs)(R,{children:[(0,l.jsx)("div",{className:"tp-info text-main0",children:"LABEL"}),(0,l.jsx)("div",{children:(0,l.jsx)(u.Z,{iconName:"copy",onClick:A,children:(0,l.jsx)(h.x,{children:null==S?void 0:S.label})})})]}),(0,l.jsxs)(O,{children:[(0,l.jsx)("div",{className:"tp-info text-main0",children:"EXPLORER"}),(0,l.jsx)("div",{children:S?(0,l.jsx)("a",{className:"tp-body1 fs-16",href:S.url,target:"_blank",referrerPolicy:"no-referrer",children:(0,l.jsx)(u.Z,{iconName:"square-up-right",children:(0,l.jsx)(h.x,{children:(0,y.bs)(S.url,80)})})}):(0,l.jsx)(C.Z,{width:"10rem"})})]}),(0,l.jsxs)(q,{children:[(0,l.jsx)("div",{className:"tp-info text-main0",children:"CREATED ON"}),(0,l.jsx)("div",{children:(0,l.jsx)(h.x,{className:"fs-10 tp-body1",children:S?S.date:(0,l.jsx)(C.Z,{width:"4rem"})})})]})]})]})};SSHKeyDetail.displayName="SSHKeyDetail";var S=(0,c.memo)(SSHKeyDetail),N=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1leuqyp-0"})({display:"flex",justifyContent:"space-between",paddingBottom:"1.25rem"}),I=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1leuqyp-1"})({display:"flex",alignItems:"center"}),Z=(0,d.ZP)(m.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-1leuqyp-2"})({marginRight:"1rem"}),D=(0,d.ZP)(m.__).withConfig({displayName:"cmp___StyledLabel",componentId:"sc-1leuqyp-3"})({marginLeft:"1rem"}),P=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1leuqyp-4"})({display:"flex",alignItems:"center"}),b=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-1leuqyp-5"})({marginRight:"0.5rem"}),E=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-1leuqyp-6"})({display:"flex",alignItems:"center",justifyContent:"flex-start",overflow:"hidden"}),k=(0,d.ZP)(m.Vp).withConfig({displayName:"cmp___StyledTag",componentId:"sc-1leuqyp-7"})({marginRight:"1rem",whiteSpace:"nowrap"}),T=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-1leuqyp-8"})({flex:"1 1 auto"}),R=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-1leuqyp-9"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),O=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv8",componentId:"sc-1leuqyp-10"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),q=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv9",componentId:"sc-1leuqyp-11"})({marginTop:"1.25rem",marginBottom:"1.25rem"})},62394:function(e,r,s){s.d(r,{h:function(){return SidePanel},Z:function(){return h}});var l=s(85893),d=s(19521),c=s(67294);let m=d.ZP.div.withConfig({displayName:"styles__StyledBackdrop",componentId:"sc-1j8r6n5-0"})(["",""],e=>{let{theme:r,$isOpen:s}=e;return(0,d.iv)(["position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.5);transition:opacity ","ms ease-in-out,visibility ","ms ease-in-out;opacity:0;visibility:hidden;z-index:28;",""],r.transition.duration.normal,r.transition.duration.normal,s&&(0,d.iv)(["opacity:1;visibility:visible;"]))}),p=d.ZP.div.withConfig({displayName:"styles__StyledHeader",componentId:"sc-1j8r6n5-1"})(["",""],e=>{let{theme:r}=e;return(0,d.iv)([""," background:",";"],{position:"sticky",top:"0px",paddingBottom:"1rem",paddingTop:"2.5rem"},r.color.background)}),u=d.ZP.div.withConfig({displayName:"styles__StyledSidePanel",componentId:"sc-1j8r6n5-2"})(["",""],e=>{let{theme:r,$isOpen:s}=e;return(0,d.iv)(["position:fixed;background-color:",";overflow-y:auto;top:1rem;right:1rem;bottom:1rem;width:50vw;transform:translateX(100%);transition:transform ","ms ease-in-out;z-index:50;"," @media (max-width:768px){top:auto;bottom:0;left:0.5rem;right:0.5 rem;height:80vh;width:initial;border-radius:1.5rem 1.5rem 0 0;transform:translateY(100%);transition:transform ","ms ease-in-out;","}"],r.color.background,r.transition.duration.normal,s?(0,d.iv)(["transform:translateX(0);"]):(0,d.iv)(["transform:translateX(100%);"]),r.transition.duration.normal,s?(0,d.iv)(["transform:translateY(0);"]):(0,d.iv)(["transform:translateY(100%);"]))}),SidePanel=e=>{let{children:r,title:s,isOpen:d,onClose:c}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m,{$isOpen:d,onClick:c}),(0,l.jsxs)(u,{$isOpen:d,children:[(0,l.jsx)(p,{children:(0,l.jsx)(y,{className:"tp-h5",children:s})}),(0,l.jsx)(x,{children:r})]})]})};SidePanel.displayName="SidePanel";var h=(0,c.memo)(SidePanel),y=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-e5voeh-0"})({display:"flex",width:"100%",alignItems:"center",justifyContent:"flex-start",paddingLeft:"3rem",paddingRight:"3rem"}),x=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-e5voeh-1"})({padding:"3rem"})},69429:function(e,r,s){s.d(r,{M:function(){return Slide},i:function(){return u}});var l=s(85893),d=s(19521),c=s(67294);let m=d.ZP.div.withConfig({displayName:"styles__StyledSlide",componentId:"sc-1qzr443-0"})([""]),p=d.ZP.div.withConfig({displayName:"styles__StyledSlider",componentId:"sc-1qzr443-1"})(["",""],e=>{let{theme:r,slidesCount:s,activeIndex:l}=e;return(0,d.iv)(["display:flex;width:","%;transform:translateX(-","%);transition:all ","ms ",";","{flex:0 0 ","%;}"],100*s,l*(100/s),r.transition.duration.normal,r.transition.timing,m,100/s)}),Slider=e=>{let{activeIndex:r,children:s}=e,d=c.Children.count(s);return(0,l.jsx)(h,{children:(0,l.jsx)(p,{slidesCount:d,activeIndex:r,children:s})})};Slider.displayName="Slider";let Slide=e=>{let{children:r}=e;return(0,l.jsx)(m,{children:r})};var u=(0,c.memo)(Slider),h=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-tu70y8-0"})({width:"100%",overflow:"hidden"})},27917:function(e,r,s){s.d(r,{Z:function(){return S}});var l=s(85893),d=s(19521),c=s(67294),m=s(79632),p=s(11505),u=s(76696),h=s(77541),y=s(49107),x=s(11163),f=s(90805),g=s(7770),v=s(36541),j=s(50586),_=s(86780),w=s(9911),C=s(47104);let VolumeDetail=e=>{let{volumeId:r,showDelete:s=!1}=e,{volume:S,theme:A,handleDelete:B,handleCopyHash:z,handleDownload:L}=function(e){let{volumeId:r}=e,s=(0,d.Fg)(),l=(0,x.useRouter)(),{dispatchDeleteEntity:p}=(0,v.w)({entityName:"volume"}),{entities:u}=(0,g.S)({ids:r}),[h]=u||[],y=(0,f.B)(),{next:w,stop:C,noti:S}=(0,_.A)({}),N=(0,m.vx)((null==h?void 0:h.id)||""),I=(0,c.useCallback)(async()=>{if(!y)throw j.Z.ConnectYourWallet;if(!h)throw j.Z.WebsiteNotFound;let e=await y.getDelSteps(h),r=e.map(e=>_.n[e]),s=y.delSteps(h);try{for(;;){let{done:e}=await s.next();if(e)break;await w(r)}p(h.id),await l.replace("/console")}catch(l){console.error(l);let e=l.message,r=null==l?void 0:l.cause,s="string"==typeof r?r:null==r?void 0:r.message;null==S||S.add({variant:"error",title:"Error",text:e,detail:s})}finally{await C()}},[p,y,h,l,w,S,C]),Z=(0,c.useCallback)(async()=>{if(!y)throw j.Z.ConnectYourWallet;if(!h)throw j.Z.WebsiteNotFound;await y.download(h)},[y,h]);return{volume:h,theme:s,handleDelete:I,handleDownload:Z,handleCopyHash:N}}({volumeId:r});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(N,{children:[(0,l.jsxs)(I,{children:[(0,l.jsx)(Z,{name:"floppy-disk",className:"text-main0"}),(0,l.jsx)("div",{className:"tp-body2",children:S?(0,y.zN)(S.id):(0,l.jsx)(C.Z,{width:"10rem"})}),(0,l.jsx)(D,{kind:"secondary",variant:(null==S?void 0:S.confirmed)?"success":"warning",children:S?S.confirmed?"READY":(0,l.jsxs)(P,{children:[(0,l.jsx)(b,{children:"CONFIRMING"}),(0,l.jsx)(p.s5,{strokeColor:A.color.base2,width:".8rem"})]}):"LOADING"})]}),(0,l.jsxs)(E,{children:[(0,l.jsx)(m.zx,{size:"md",variant:"tertiary",color:"main0",kind:"default",forwardedAs:"a",onClick:L,children:(0,l.jsx)(m.JO,{name:"download"})}),s&&(0,l.jsx)(m.zx,{kind:"functional",variant:"error",size:"md",onClick:B,children:(0,l.jsx)(m.JO,{name:"trash"})})]})]}),(0,l.jsxs)(m.Jy,{children:[(0,l.jsxs)(k,{children:[(0,l.jsx)(T,{variant:"accent",children:S?w.K_[S.type]:(0,l.jsx)(C.Z,{width:"5rem",height:"1.3em"})}),(0,l.jsxs)(R,{children:[(0,l.jsx)("div",{className:"tp-info text-main0",children:"ITEM HASH"}),(0,l.jsx)(u.Z,{iconName:"copy",onClick:z,children:S?S.id:(0,l.jsx)(C.Z,{width:"12rem"})})]})]}),(0,l.jsx)(h.Z,{}),(0,l.jsxs)(O,{children:[(0,l.jsx)("div",{className:"tp-info text-main0",children:"EXPLORER"}),(0,l.jsx)("div",{children:S?(0,l.jsx)("a",{className:"tp-body1 fs-16",href:S.url,target:"_blank",referrerPolicy:"no-referrer",children:(0,l.jsx)(u.Z,{iconName:"square-up-right",children:(0,l.jsx)(h.x,{children:(0,y.bs)(S.url,80)})})}):(0,l.jsx)(C.Z,{width:"10rem"})})]}),(0,l.jsxs)(q,{children:[(0,l.jsxs)(M,{children:[(0,l.jsx)("div",{className:"tp-info text-main0",children:"SIZE"}),(0,l.jsx)("div",{children:(0,l.jsx)(h.x,{className:"fs-10 tp-body1",children:S?(0,y.eB)(S.size,"MiB"):(0,l.jsx)(C.Z,{width:"2rem"})})})]}),(0,l.jsxs)(F,{children:[(0,l.jsx)("div",{className:"tp-info text-main0",children:"CREATED ON"}),(0,l.jsx)("div",{children:(0,l.jsx)(h.x,{className:"fs-10 tp-body1",children:S?S.date:(0,l.jsx)(C.Z,{width:"5rem"})})})]})]})]})]})};VolumeDetail.displayName="VolumeDetail";var S=(0,c.memo)(VolumeDetail),N=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-72i0ie-0"})({display:"flex",justifyContent:"space-between",paddingBottom:"1.25rem"}),I=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-72i0ie-1"})({display:"flex",alignItems:"center"}),Z=(0,d.ZP)(m.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-72i0ie-2"})({marginRight:"1rem"}),D=(0,d.ZP)(m.__).withConfig({displayName:"cmp___StyledLabel",componentId:"sc-72i0ie-3"})({marginLeft:"1rem"}),P=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-72i0ie-4"})({display:"flex",alignItems:"center"}),b=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-72i0ie-5"})({marginRight:"0.5rem"}),E=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-72i0ie-6"})({display:"flex",flexWrap:"wrap",justifyContent:"flex-end",gap:"0.5rem","@media (min-width: 36rem)":{gap:"1rem"}}),k=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-72i0ie-7"})({display:"flex",alignItems:"center",justifyContent:"flex-start",overflow:"hidden"}),T=(0,d.ZP)(m.Vp).withConfig({displayName:"cmp___StyledTag",componentId:"sc-72i0ie-8"})({marginRight:"1rem",whiteSpace:"nowrap"}),R=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-72i0ie-9"})({flex:"1 1 auto"}),O=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv8",componentId:"sc-72i0ie-10"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),q=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv9",componentId:"sc-72i0ie-11"})({marginTop:"1.25rem",marginBottom:"1.25rem",display:"flex"}),M=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv10",componentId:"sc-72i0ie-12"})({marginRight:"1.25rem"}),F=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv11",componentId:"sc-72i0ie-13"})({marginRight:"1.25rem"})},24541:function(e,r,s){s.d(r,{Z:function(){return g}});var l=s(85893),d=s(19521),c=s(67294),m=s(79632),p=s(47104),u=s(77541),h=s(29159),y=s(9911),x=s(43251),f=s(33697);let DomainCard=e=>{let{domain:r,onDomainClick:s}=e,d=(0,c.useRef)(null),{id:p,name:g,status:C}=r;return(0,l.jsxs)(h.Z,{onClick:()=>{s(r)},children:[(0,l.jsx)(v,{id:y.DA[y.py.Domain],color:"base2",size:"2.5rem"}),(0,l.jsxs)("div",{children:[(0,l.jsx)(f.Z,{children:"DOMAIN"}),(0,l.jsxs)(j,{children:[(0,l.jsx)(u.x,{children:g}),C?!C.status&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{ref:d,children:(0,l.jsx)(m.JO,{size:"md",name:"warning",color:"warning"})}),(0,l.jsx)(x.Z,{my:"bottom-right",at:"top-center",targetRef:d,content:C.help})]}):(0,l.jsx)(_,{color:"main0",size:"3em"})]})]}),(0,l.jsx)(w,{name:"eye",className:"openEntityIcon"})]},p)},EntityCustomDomains=e=>{let{customDomains:r,onCustomDomainClick:s}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(C,{className:"tp-h7 fs-24",children:"CUSTOM DOMAINS"}),(0,l.jsx)(m.Jy,{children:(0,l.jsx)(S,{children:r.length?r.map(e=>e&&(0,l.jsx)(DomainCard,{domain:e,onDomainClick:s},e.id)):(0,l.jsxs)(h.Z,{disabled:!0,onClick:()=>null,children:[(0,l.jsx)(N,{id:y.DA[y.py.Domain],color:"base2",size:"2.5rem"}),(0,l.jsxs)("div",{children:[(0,l.jsx)(f.Z,{children:"DOMAIN"}),(0,l.jsx)(u.x,{children:(0,l.jsx)(p.Z,{width:"7rem"})})]}),(0,l.jsx)(I,{name:"eye",className:"openEntityIcon"})]})})})]})};EntityCustomDomains.displayName="EntityCustomDomains";var g=(0,c.memo)(EntityCustomDomains),v=(0,d.ZP)(m._7).withConfig({displayName:"cmp___StyledObjectImg",componentId:"sc-ue1tqr-0"})({minHeight:"3rem",minWidth:"3rem"}),j=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-ue1tqr-1"})({display:"flex",alignItems:"center",gap:"0.5rem"}),_=(0,d.ZP)(m.$j).withConfig({displayName:"cmp___StyledSpinner",componentId:"sc-ue1tqr-2"})({margin:"-1rem"}),w=(0,d.ZP)(m.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-ue1tqr-3"})({position:"absolute",right:"0.5rem",top:"0.5rem"}),C=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-ue1tqr-4"})({marginBottom:"0.5rem",textTransform:"uppercase"}),S=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-ue1tqr-5"})({display:"flex",flexWrap:"wrap",gap:"1rem"}),N=(0,d.ZP)(m._7).withConfig({displayName:"cmp___StyledObjectImg2",componentId:"sc-ue1tqr-6"})({minHeight:"3rem",minWidth:"3rem"}),I=(0,d.ZP)(m.JO).withConfig({displayName:"cmp___StyledIcon2",componentId:"sc-ue1tqr-7"})({position:"absolute",right:"0.5rem",top:"0.5rem"})},25491:function(e,r,s){s.d(r,{Z:function(){return m}});var l=s(85893),d=s(19521),c=s(67294);let EntityDataColumns=e=>{let{leftColumnElements:r,rightColumnElements:s}=e,d=(0,c.useCallback)(e=>e.filter(Boolean).map((e,r)=>(0,l.jsx)("div",{children:e},r)),[]);return(0,l.jsxs)(p,{children:[(0,l.jsx)(u,{children:d(r)}),(0,l.jsx)(h,{children:d(s)})]})};EntityDataColumns.displayName="EntityDataColumns";var m=(0,c.memo)(EntityDataColumns),p=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1vr25hv-0"})({display:"flex",width:"100%",flexWrap:"wrap",columnGap:"6rem",rowGap:"2.25rem",paddingLeft:"3rem",paddingRight:"3rem",paddingTop:"1.5rem",paddingBottom:"1.5rem"}),u=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1vr25hv-1"})({display:"flex",width:"50%",flex:"1 1 0%",flexDirection:"column",rowGap:"2.25rem"}),h=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1vr25hv-2"})({display:"flex",width:"50%",flex:"1 1 0%",flexDirection:"column",rowGap:"2.25rem"})},21204:function(e,r,s){s.d(r,{Z:function(){return g}});var l=s(85893),d=s(19521),c=s(67294),m=s(79632),p=s(47104),u=s(77541),h=s(76696),y=s(49107),x=s(1801),f=s(33697);let EntityHostingCRN=e=>{let{nodeDetails:r,termsAndConditionsHash:s}=e,d=(0,x.c)(),[g,w]=(0,c.useState)();return(0,c.useEffect)(()=>{let fetchTermsAndConditions=async()=>{if(!d||!s)return w(void 0);try{var e;let{content:r}=await d.get(s);if(!r)return w(void 0);let l=r.item_hash,c=null===(e=r.metadata)||void 0===e?void 0:e.name,m="https://ipfs.aleph.im/ipfs/".concat(l,"?filename=").concat(c);w({cid:l,name:c,url:m})}catch(e){console.error(e)}};fetchTermsAndConditions()},[d,s]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(v,{className:"tp-h7 fs-24",children:"HOSTING CRN"}),(0,l.jsx)(m.Jy,{children:(0,l.jsxs)(j,{children:[(0,l.jsxs)(_,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(f.Z,{children:"NAME"}),(0,l.jsx)("div",{children:(0,l.jsx)(u.x,{children:r?r.name:(0,l.jsx)(p.Z,{width:"7rem"})})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(f.Z,{children:"URL"}),(0,l.jsx)("div",{children:r?(0,l.jsx)("a",{className:"tp-body1 fs-16",href:r.url,target:"_blank",referrerPolicy:"no-referrer",children:(0,l.jsx)(h.Z,{iconName:"square-up-right",children:(0,l.jsx)(u.x,{children:(0,y.bs)(r.url,80)})})}):(0,l.jsx)(p.Z,{width:"12rem"})})]})]}),g&&(0,l.jsxs)("div",{children:[(0,l.jsx)(f.Z,{children:"ACCEPTED T&C"}),(0,l.jsx)("div",{children:(0,l.jsx)("a",{className:"tp-body1 fs-16",href:g.url,target:"_blank",referrerPolicy:"no-referrer",children:(0,l.jsx)(h.Z,{iconName:"square-up-right",children:(0,l.jsx)(u.x,{children:g.name})})})})]})]})})]})};EntityHostingCRN.displayName="EntityHostingCRN";var g=(0,c.memo)(EntityHostingCRN),v=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-6n9s3u-0"})({marginBottom:"0.5rem",textTransform:"uppercase"}),j=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-6n9s3u-1"})({display:"flex",flexDirection:"column",gap:"1rem"}),_=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-6n9s3u-2"})({display:"flex",gap:"1rem"})},73635:function(e,r,s){s.d(r,{Z:function(){return x}});var l=s(85893),d=s(19521),c=s(67294),m=s(79632),p=s(77541),u=s(29159),h=s(49107),y=s(2334);function LinkedVolumeItem(e){let{volume:r,onClick:s}=e,d=(0,m.vx)(r.id),x=(0,c.useCallback)(e=>{d(),e.preventDefault()},[d]);return(0,l.jsxs)(f,{children:[(0,l.jsxs)(u.Z,{onClick:s,children:[(0,l.jsx)(g,{id:"Object16",color:"base2",size:"2.5rem"}),(0,l.jsxs)(v,{children:[(0,l.jsx)("div",{className:"tp-info",children:r.mount}),(0,l.jsx)(p.x,{className:"fs-12",children:(0,h.eB)(r.size,"MiB")})]}),(0,l.jsx)(j,{name:"eye",className:"openEntityIcon"})]}),(0,l.jsxs)(y.L,{onClick:x,children:[(0,l.jsx)(m.JO,{name:"copy"}),"copy hash"]})]})}let EntityLinkedVolumes=e=>{let{linkedVolumes:r,onImmutableVolumeClick:s}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(_,{className:"tp-h7 fs-24",children:"LINKED VOLUMES"}),(0,l.jsx)(m.Jy,{children:(0,l.jsx)(w,{children:r.map(e=>e&&(0,l.jsx)(LinkedVolumeItem,{volume:e,onClick:()=>s(e)},"linked-volume-".concat(e.id)))})})]})};EntityLinkedVolumes.displayName="EntityLinkedVolumes";var x=(0,c.memo)(EntityLinkedVolumes),f=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-qd3djw-0"})({display:"flex",flexWrap:"wrap",alignItems:"center",gap:"1rem"}),g=(0,d.ZP)(m._7).withConfig({displayName:"cmp___StyledObjectImg",componentId:"sc-qd3djw-1"})({minHeight:"3rem",minWidth:"3rem"}),v=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-qd3djw-2"})({display:"flex",flexDirection:"column",alignItems:"flex-start"}),j=(0,d.ZP)(m.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-qd3djw-3"})({position:"absolute",right:"0.5rem",top:"0.5rem"}),_=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-qd3djw-4"})({marginBottom:"0.5rem",textTransform:"uppercase"}),w=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-qd3djw-5"})({display:"flex",flexDirection:"column",gap:"1rem"})},98642:function(e,r,s){s.d(r,{W:function(){return p},V:function(){return j}});var l=s(85893),d=s(19521),c=s(67294),m=s(35616);let EntityLogsContent=e=>{let{logs:r}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u,{className:"tp-h7",children:"LOGS"}),(0,l.jsx)(h,{children:"Real-time logs of the of the virtual machine. Use this to debug any issue with the boot of your instance and to monitor the behavior of your instance while it is running."}),(0,l.jsx)(y,{children:(0,l.jsx)(m.Z,{logs:r})})]})};EntityLogsContent.displayName="EntityLogsContent";var p=(0,c.memo)(EntityLogsContent),u=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1rd4813-0"})({width:"100%",textAlign:"center"}),h=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1rd4813-1"})({width:"100%",maxWidth:"48rem"}),y=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1rd4813-2"})({width:"100%"}),x=s(79632),f=s(77541),g=s(2334),v=s(33697);let EntityLogsControl=e=>{let{onViewLogs:r,onDownloadLogs:s,disabled:d=!1,downloadingLogs:c=!1}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(_,{className:"tp-h7 fs-24",children:"LOGS"}),(0,l.jsx)(x.Jy,{children:(0,l.jsxs)(w,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(v.Z,{children:"INFO"}),(0,l.jsx)(f.x,{children:"Real-time logs of the of the virtual machine. Use this to debug any issue with the boot of your instance and to monitor the behavior of your instance while it is running."})]}),(0,l.jsxs)(C,{children:[(0,l.jsxs)(g.L,{onClick:r,disabled:d,children:[(0,l.jsx)(x.JO,{name:"eye"}),"view"]}),(0,l.jsxs)(g.L,{onClick:s,disabled:d||c,children:[(0,l.jsx)(x.JO,{name:c?"spinner":"download",spin:c}),c?"downloading...":"download logs"]})]})]})})]})};EntityLogsControl.displayName="EntityLogsControl";var j=(0,c.memo)(EntityLogsControl),_=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-8l9wsv-0"})({marginBottom:"0.5rem",textTransform:"uppercase"}),w=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-8l9wsv-1"})({display:"flex",flexDirection:"column",gap:"1rem"}),C=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-8l9wsv-2"})({display:"flex",flexWrap:"wrap",gap:"1.5rem"})},91986:function(e,r,s){s.d(r,{Z:function(){return j}});var l=s(85893),d=s(19521),c=s(67294),m=s(79632),p=s(77541),u=s(36286),h=s(25819),y=s(9911);function getTimeComponents(e){let r=e%86400;return{days:Math.floor(e/86400),hours:Math.floor(r/3600),minutes:Math.floor(r%3600/60),seconds:Math.floor(r%60)}}var x=s(47104),f=s(76696),g=s(49107),v=s(33697);let PaymentCard=e=>{let{paymentData:r}=e,{isStream:s,totalSpent:d,formattedBlockchain:j,formattedFlowRate:D,formattedStartDate:P,formattedDuration:b,loading:E,receiverAddress:k,receiverType:T,handleCopyReceiverAddress:R}=function(e){let{cost:r,paymentType:s,runningTime:l,startTime:d,blockchain:p,loading:x=!1}=e,f=(0,c.useMemo)(()=>{if(s===u.uG.superfluid)return e.receiver},[e,s]),g=(0,c.useMemo)(()=>s===u.uG.superfluid,[s]),v=(0,c.useMemo)(()=>{if(!r)return;if(!g)return r.toString();if(!l)return;let{days:e,hours:s,minutes:d}=getTimeComponents(l);return(r*(24*e+s+d/60)).toFixed(6)},[r,g,l]),j=(0,c.useMemo)(()=>{if(p)return h.DR[p].name},[p]),_=(0,c.useMemo)(()=>{if(!g||!r)return;let e=24*r;return"~".concat(e.toFixed(4),"/day")},[r,g]),w=(0,c.useMemo)(()=>{if(!d)return;let e=new Date(1e3*d);return e.toLocaleString("en-US",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})},[d]),C=(0,c.useMemo)(()=>{if(!l)return;let{days:e,hours:r,minutes:s,seconds:d}=getTimeComponents(l),c=r.toString().padStart(2,"0"),m=s.toString().padStart(2,"0"),p=d.toString().padStart(2,"0");return e>0?"".concat(e," ").concat(1===e?"Day":"Days"," ").concat(c,":").concat(m,":").concat(p):"".concat(c,":").concat(m,":").concat(p)},[l]),S=(0,c.useMemo)(()=>{if(f)return(console.log("Receiver address:",f),console.log("communityWalletAddress:",y.qq),f==y.qq)?"Community Wallet (20%)":"Node Operator (80%)"},[f]),N=(0,m.vx)(f||"");return{isStream:g,totalSpent:v,formattedBlockchain:j,formattedFlowRate:_,formattedStartDate:w,formattedDuration:C,loading:x,receiverAddress:f,receiverType:S,handleCopyReceiverAddress:N}}(r);return(0,l.jsx)(m.Jy,{children:(0,l.jsxs)(_,{children:[(0,l.jsxs)(w,{children:[(0,l.jsxs)(C,{className:"bg-main0 text-base0",children:[(0,l.jsx)(m.TR,{img:"aleph",color:"base0",byAleph:!1}),(0,l.jsx)(S,{children:"ALEPH"})]}),(0,l.jsx)(N,{className:"text-base2 fs-18",children:d||(0,l.jsx)(x.Z,{width:"5rem"})})]}),(0,l.jsxs)(I,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(v.Z,{children:"TYPE"}),(0,l.jsx)(p.x,{children:E?(0,l.jsx)(x.Z,{width:"5rem"}):s?"Stream":"Holding"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(v.Z,{children:"BLOCKCHAIN"}),(0,l.jsx)(p.x,{children:j||(0,l.jsx)(x.Z,{width:"3rem"})})]}),T&&(0,l.jsxs)("div",{children:[(0,l.jsx)(v.Z,{children:"RECEIVER"}),(0,l.jsx)(p.x,{children:T})]}),k&&(0,l.jsxs)("div",{children:[(0,l.jsx)(v.Z,{children:"RECEIVER ADDRESS"}),(0,l.jsx)(f.Z,{iconName:"copy",onClick:R,children:(0,g.zN)(k)})]})]}),(0,l.jsxs)(Z,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(v.Z,{children:"START DATE"}),(0,l.jsx)(p.x,{children:P||(0,l.jsx)(x.Z,{width:"8rem"})})]}),s&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(v.Z,{children:"FLOW RATE"}),(0,l.jsx)(p.x,{children:D||(0,l.jsx)(x.Z,{width:"5rem"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(v.Z,{children:"TIME ELAPSED"}),(0,l.jsx)(p.x,{children:b||(0,l.jsx)(x.Z,{width:"4rem"})})]})]})]})]})})},EntityPayment=e=>{let{payments:r}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(D,{className:"tp-h7 fs-24",children:"PAYMENT"}),(0,l.jsx)(P,{children:r.map((e,r)=>(0,l.jsx)(PaymentCard,{paymentData:e},"payment-".concat(r,"-").concat(e.paymentType)))})]})};EntityPayment.displayName="EntityPayment";var j=(0,c.memo)(EntityPayment),_=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1uiuq9y-0"})({display:"flex",flexDirection:"column",gap:"1rem",padding:"1rem"}),w=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1uiuq9y-1"})({display:"flex",alignItems:"center",gap:"1rem"}),C=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1uiuq9y-2"})({display:"flex",alignItems:"center",gap:"0.25rem",paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"}),S=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-1uiuq9y-3"})({fontWeight:"700",textTransform:"uppercase",lineHeight:"1.625"}),N=(0,d.ZP)("p").withConfig({displayName:"cmp___StyledP",componentId:"sc-1uiuq9y-4"})({fontWeight:"700"}),I=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-1uiuq9y-5"})({display:"flex",flexWrap:"wrap",columnGap:"1.5rem",rowGap:"1rem"}),Z=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-1uiuq9y-6"})({display:"flex",flexWrap:"wrap",columnGap:"1.5rem",rowGap:"1rem"}),D=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-1uiuq9y-7"})({marginBottom:"0.5rem",textTransform:"uppercase"}),P=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv8",componentId:"sc-1uiuq9y-8"})({display:"flex",flexDirection:"column",gap:"1rem"})},40256:function(e,r,s){s.d(r,{Z:function(){return h}});var l=s(85893),d=s(19521),c=s(67294),m=s(79632),p=s(77541),u=s(49107);let EntityPersistentStorage=e=>{let{persistentVolumes:r}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(y,{className:"tp-h7 fs-24",children:"PERSISTENT STORAGE"}),(0,l.jsx)(m.Jy,{children:(0,l.jsxs)(x,{children:[(0,l.jsx)(f,{id:"Object16",color:"main0",size:"3rem"}),(0,l.jsx)(g,{children:r.map((e,r)=>e&&(0,l.jsx)("div",{children:(0,l.jsx)(v,{className:"bg-base1",children:(0,l.jsxs)(j,{children:[(0,l.jsx)("div",{className:"tp-info fs-12",children:e.name}),(0,l.jsx)("div",{className:"tp-info",children:e.mount}),(0,l.jsx)(_,{children:(0,l.jsx)(p.x,{className:"fs-12",children:(0,u.eB)(e.size_mib,"MiB")})})]})})},"persistent-volume-".concat(r)))})]})})]})};EntityPersistentStorage.displayName="EntityPersistentStorage";var h=(0,c.memo)(EntityPersistentStorage),y=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-sjix65-0"})({marginBottom:"0.5rem",textTransform:"uppercase"}),x=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-sjix65-1"})({display:"flex",gap:"1rem"}),f=(0,d.ZP)(m._7).withConfig({displayName:"cmp___StyledObjectImg",componentId:"sc-sjix65-2"})({minHeight:"4rem",minWidth:"4rem"}),g=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-sjix65-3"})({display:"flex",flexWrap:"wrap",gap:"1rem"}),v=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-sjix65-4"})({display:"flex",gap:"0.5rem",padding:"0.75rem",opacity:"0.6"}),j=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-sjix65-5"})({display:"flex",flexDirection:"column",gap:"0.25rem"}),_=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-sjix65-6"})({display:"flex",alignItems:"center",justifyContent:"space-between",gap:"1rem"})},33697:function(e,r,s){s.d(r,{Z:function(){return m}});var l=s(85893),d=s(19521),c=s(67294);let InfoTitle=e=>{let{children:r}=e;return(0,l.jsx)(p,{className:"tp-info text-main0 fs-12",children:r})};InfoTitle.displayName="InfoTitle";var m=(0,c.memo)(InfoTitle),p=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-19molqx-0"})({textAlign:"left"})},1712:function(e,r,s){s.d(r,{Z:function(){return y}});var l=s(85893),d=s(19521),c=s(67294),m=s(79632),p=s(19584),u=s(11505),h=s(47104);let ManageEntityHeader=e=>{let{name:r,labelVariant:s,isAllocated:c,entity:y,type:C,showStop:S=!1,stopDisabled:N,onStop:I,showStart:Z=!1,startDisabled:D,onStart:P,showReboot:b=!1,rebootDisabled:E,onReboot:k,showDelete:T=!1,deleteDisabled:R,onDelete:O,showDownload:q=!1,downloadDisabled:M,onDownload:F,onBack:A}=e,B=(0,d.Fg)();return(0,l.jsx)(x,{children:(0,l.jsxs)(f,{children:[(0,l.jsx)(g,{children:(0,l.jsx)(p.Z,{handleBack:A})}),(0,l.jsxs)(v,{children:[(0,l.jsx)(m.__,{kind:"secondary",variant:s,children:(0,l.jsxs)(j,{children:[(0,l.jsx)(m.JO,{name:"alien-8bit",className:"text-".concat(s)}),c?"ALLOCATED":(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{children:y?"CONFIRMING":"LOADING"}),(0,l.jsx)(u.s5,{strokeColor:B.color.base2,width:".8rem"})]})]})}),(0,l.jsx)(_,{className:"tp-h7 fs-18",children:y?r:(0,l.jsx)(h.Z,{width:"20rem"})})]}),(0,l.jsxs)(w,{children:[S&&(0,l.jsx)(m.u,{content:"Stop ".concat(C),my:"bottom-center",at:"top-center",children:(0,l.jsx)(m.zx,{kind:"functional",variant:"secondary",size:"sm",onClick:I,disabled:N,children:(0,l.jsx)(m.JO,{name:"stop"})})}),Z&&(0,l.jsx)(m.u,{content:"Reallocate ".concat(C),my:"bottom-center",at:"top-center",children:(0,l.jsx)(m.zx,{kind:"functional",variant:"secondary",size:"sm",onClick:P,disabled:D,children:(0,l.jsx)(m.JO,{name:"play"})})}),b&&(0,l.jsx)(m.u,{content:"Reboot ".concat(C),my:"bottom-center",at:"top-center",children:(0,l.jsx)(m.zx,{kind:"functional",variant:"secondary",size:"sm",onClick:k,disabled:E,children:(0,l.jsx)(m.JO,{name:"arrow-rotate-backward"})})}),q&&(0,l.jsx)(m.u,{content:"Download ".concat(C),my:"bottom-center",at:"top-center",children:(0,l.jsx)(m.zx,{variant:"tertiary",color:"main0",kind:"default",forwardedAs:"a",size:"sm",onClick:F,disabled:M,children:(0,l.jsx)(m.JO,{name:"download"})})}),T&&(0,l.jsx)(m.u,{content:"Remove ".concat(C),my:"bottom-center",at:"top-center",children:(0,l.jsx)(m.zx,{kind:"functional",variant:"error",size:"sm",onClick:O,disabled:R,children:(0,l.jsx)(m.JO,{name:"trash"})})})]})]})})};ManageEntityHeader.displayName="ManageEntityHeader";var y=(0,c.memo)(ManageEntityHeader),x=(0,d.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-aqirr5-0"})({paddingTop:"0px !important",paddingBottom:"1.5rem",paddingLeft:"3rem",paddingRight:"3rem","@media (min-width: 48rem)":{paddingTop:"2.5rem !important"}}),f=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-aqirr5-1"})({display:"flex",alignItems:"center",justifyContent:"space-between",gap:"2rem",paddingTop:"0px !important",paddingBottom:"0px !important",paddingLeft:"0px",paddingRight:"0px","@media (min-width: 48rem)":{paddingTop:"2.5rem !important"}}),g=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-aqirr5-2"})({flex:"1 1 0%"}),v=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-aqirr5-3"})({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.5rem",textAlign:"center","@media (min-width: 48rem)":{flexDirection:"row"}}),j=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-aqirr5-4"})({display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"}),_=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-aqirr5-5"})({textTransform:"uppercase"}),w=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-aqirr5-6"})({display:"flex",flex:"1 1 0%",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-end",gap:"1rem","@media (min-width: 48rem)":{flexWrap:"nowrap"}})},29159:function(e,r,s){s.d(r,{Z:function(){return u}});var l=s(85893),d=s(19521),c=s(67294),m=s(79632);let p=d.ZP.button.withConfig({displayName:"styles__StyledRelatedEntityCard",componentId:"sc-vpko2b-0"})([""," ",""],{position:"relative",display:"flex",width:"fit-content",alignItems:"center",gap:"1rem",padding:"0.5rem",paddingRight:"2rem"},e=>{let{theme:r,$disabled:s}=e;return(0,d.iv)(["transition-property:all;transition-duration:","ms;transition-timing-function:",";.openEntityIcon{transition-property:all;transition-duration:","ms;transition-timing-function:",";}",""],r.transition.duration.fast,r.transition.timing,r.transition.duration.fast,r.transition.timing,s?(0,d.iv)(["background-color:",";opacity:0.5;cursor:not-allowed;"],r.color.base1):(0,d.iv)(["background-color:",";.openEntityIcon{color:",";}&:hover{background-color:","30;.openEntityIcon{color:",";}}"],r.color.base1,r.color.purple2,r.color.purple4,r.color.main0))}),RelatedEntityCard=e=>{let{children:r,disabled:s=!1,onClick:d}=e,m=(0,c.useCallback)(()=>{s||d()},[s,d]);return(0,l.jsxs)(p,{onClick:m,$disabled:s,children:[r,(0,l.jsx)(h,{name:"eye",className:"openEntityIcon"})]})};RelatedEntityCard.displayName="RelatedEntityCard";var u=(0,c.memo)(RelatedEntityCard),h=(0,d.ZP)(m.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-1pmn4kk-0"})({position:"absolute",right:"0.5rem",top:"0.5rem"})},2334:function(e,r,s){s.d(r,{L:function(){return FunctionalButton},Z:function(){return ManageInstance}});var l=s(85893),d=s(19521),c=s(9008),m=s.n(c),p=s(79632),u=s(11163),h=s(67294),y=s(99978),x=s(96370),f=s(57125),g=s(36286),v=s(49107),j=s(37850),_=s(50090),w=s(63831),C=s(68091),S=s(62394),N=s(32424),I=s(27917),Z=s(69429),D=s(91986),P=s(47104),b=s(76696),E=s(77541),k=s(9911),T=s(33697);let InstanceDetails=e=>{let{instance:r}=e,s=(0,p.vx)((null==r?void 0:r.id)||"");return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(O,{className:"tp-h7 fs-24",children:"INSTANCE DETAILS"}),(0,l.jsx)(p.Jy,{children:(0,l.jsxs)(q,{children:[(0,l.jsx)(M,{id:k.DA[k.py.Instance],color:"main0",size:"6rem"}),(0,l.jsxs)(F,{children:[(0,l.jsxs)(A,{children:[(0,l.jsx)(T.Z,{children:"ITEM HASH"}),r?(0,l.jsx)(b.Z,{iconName:"copy",onClick:s,children:r.id}):(0,l.jsx)(P.Z,{width:"100%"})]}),(0,l.jsxs)(B,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(T.Z,{children:"CORES"}),(0,l.jsx)("div",{children:(0,l.jsx)(z,{children:(null==r?void 0:r.resources)?"".concat(r.resources.vcpus," x86 64bit"):(0,l.jsx)(P.Z,{width:"7rem"})})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(T.Z,{children:"RAM"}),(0,l.jsx)("div",{children:(0,l.jsx)(E.x,{children:(null==r?void 0:r.resources)?(0,v.Fx)(r.resources.memory,{from:"MiB",to:"GiB",displayUnit:!0}):(0,l.jsx)(P.Z,{width:"4rem"})})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(T.Z,{children:"HDD"}),(0,l.jsx)("div",{children:(0,l.jsx)(E.x,{children:r?(0,v.Fx)(r.size,{from:"MiB",to:"GiB",displayUnit:!0}):(0,l.jsx)(P.Z,{width:"6rem"})})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(T.Z,{children:"EXPLORER"}),(0,l.jsx)("div",{children:r?(0,l.jsx)("a",{className:"tp-body1 fs-16",href:r.url,target:"_blank",referrerPolicy:"no-referrer",children:(0,l.jsx)(b.Z,{iconName:"square-up-right",children:(0,l.jsx)(E.x,{children:(0,v.bs)(r.url,80)})})}):(0,l.jsx)(P.Z,{width:"20rem"})})]})]})]})})]})};InstanceDetails.displayName="InstanceDetails";var R=(0,h.memo)(InstanceDetails),O=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-12dwqoj-0"})({marginBottom:"0.5rem",textTransform:"uppercase"}),q=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-12dwqoj-1"})({display:"flex",gap:"1rem"}),M=(0,d.ZP)(p._7).withConfig({displayName:"cmp___StyledObjectImg",componentId:"sc-12dwqoj-2"})({minHeight:"7rem",minWidth:"7rem"}),F=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-12dwqoj-3"})({display:"flex",width:"100%",flexDirection:"column",gap:"1rem"}),A=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-12dwqoj-4"})({width:"100%"}),B=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-12dwqoj-5"})({display:"flex",flexWrap:"wrap",gap:"1rem"}),z=(0,d.ZP)(E.x).withConfig({displayName:"cmp___StyledText",componentId:"sc-12dwqoj-6"})({display:"flex",alignItems:"center",gap:"0.25rem"}),L=s(98642),H=s(40256),V=s(73635);let EntityConnectionMethods=e=>{let{executableStatus:r}=e,{isLoading:s,formattedIPv4:d,formattedIPv6:c,formattedSSHCommand:m,handleCopyIpv4:u,handleCopyIpv6:y,handleCopyCommand:x}=function(e){let{executableStatus:r}=e,s=!r,l=(0,h.useMemo)(()=>(null==r?void 0:r.ipv6Parsed)||"",[null==r?void 0:r.ipv6Parsed]),d=(0,h.useMemo)(()=>(null==r?void 0:r.hostIpv4)||"",[null==r?void 0:r.hostIpv4]),c=(0,h.useMemo)(()=>"ssh root@".concat(l),[l]),m=(0,p.vx)(d),u=(0,p.vx)(l),y=(0,p.vx)(c);return{isLoading:s,formattedIPv6:l,formattedIPv4:d,formattedSSHCommand:c,handleCopyIpv6:u,handleCopyIpv4:m,handleCopyCommand:y}}({executableStatus:r});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(J,{className:"tp-h7 fs-24",children:"CONNECTION METHODS"}),(0,l.jsx)(p.Jy,{children:(0,l.jsxs)(K,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(T.Z,{children:"SSH COMMAND"}),(0,l.jsx)("div",{children:s?(0,l.jsx)(P.Z,{width:"20rem"}):(0,l.jsx)(b.Z,{iconName:"copy",onClick:x,children:(0,l.jsxs)(E.x,{children:[">_ ",m]})})})]}),(s||""!==d)&&(0,l.jsxs)("div",{children:[(0,l.jsx)(T.Z,{children:"IPV4"}),(0,l.jsx)("div",{children:s?(0,l.jsx)(P.Z,{width:"9rem"}):(0,l.jsx)(b.Z,{iconName:"copy",onClick:u,children:(0,l.jsx)(E.x,{children:d})})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(T.Z,{children:"IPV6"}),(0,l.jsx)("div",{children:s?(0,l.jsx)(P.Z,{width:"10rem"}):(0,l.jsx)(b.Z,{iconName:"copy",onClick:y,children:(0,l.jsx)(E.x,{children:c})})})]})]})})]})};EntityConnectionMethods.displayName="EntityConnectionMethods";var W=(0,h.memo)(EntityConnectionMethods),J=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1tccgtt-0"})({marginBottom:"0.5rem",textTransform:"uppercase"}),K=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1tccgtt-1"})({display:"flex",flexDirection:"column",gap:"1rem"}),G=s(21204),U=s(29159);let EntitySSHKeys=e=>{let{sshKeys:r,onSSHKeyClick:s}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Y,{className:"tp-h7 fs-24",children:"SSH KEYS"}),(0,l.jsx)(p.Jy,{children:(0,l.jsx)($,{children:r.length?r.map(e=>e&&(0,l.jsxs)(U.Z,{onClick:()=>{s(e)},children:[(0,l.jsx)(Q,{id:k.DA[k.py.SSHKey],color:"base2",size:"2.5rem"}),(0,l.jsxs)("div",{children:[(0,l.jsx)(T.Z,{children:"SSH KEY NAME"}),(0,l.jsx)(E.x,{children:e.label})]}),(0,l.jsx)(ee,{name:"eye",className:"openEntityIcon"})]},null==e?void 0:e.id)):(0,l.jsxs)(ei,{children:[(0,l.jsx)(et,{id:k.DA[k.py.SSHKey],color:"main0",size:"2.5rem"}),(0,l.jsxs)("div",{children:[(0,l.jsx)(T.Z,{children:"SSH KEY NAME"}),(0,l.jsx)(E.x,{children:(0,l.jsx)(P.Z,{width:"9rem"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(T.Z,{children:"CREATED ON"}),(0,l.jsx)(E.x,{children:(0,l.jsx)(P.Z,{width:"14rem"})})]})]})})})]})};EntitySSHKeys.displayName="EntitySSHKeys";var X=(0,h.memo)(EntitySSHKeys),Y=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1wen0ti-0"})({marginBottom:"0.5rem",textTransform:"uppercase"}),$=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1wen0ti-1"})({display:"flex",flexWrap:"wrap",gap:"1rem"}),Q=(0,d.ZP)(p._7).withConfig({displayName:"cmp___StyledObjectImg",componentId:"sc-1wen0ti-2"})({minHeight:"3rem",minWidth:"3rem"}),ee=(0,d.ZP)(p.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-1wen0ti-3"})({position:"absolute",right:"0.5rem",top:"0.5rem"}),ei=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1wen0ti-4"})({display:"flex",alignItems:"center",gap:"1.5rem"}),et=(0,d.ZP)(p._7).withConfig({displayName:"cmp___StyledObjectImg2",componentId:"sc-1wen0ti-5"})({minHeight:"3rem",minWidth:"3rem"}),en=s(1712),er=s(25491),es=s(24541),eo=s(14215),ea=s(68885),el=s(9754);function useForwardedPortsManager(){let[e]=(0,el.mr)(),{forwardedPortsManager:r}=e.manager;return r}var ed=s(71251),ec=s(87536),em=s(1604),ep=s(56312),eu=s(24959);let eh={ports:[{port:"",udp:!1,tcp:!1}]},ey=em.z.object({port:em.z.string().min(1,"Port is required").refine(e=>{let r=parseInt(e,10);return!isNaN(r)&&r>0&&r<=65535},"Port must be between 1 and 65535"),tcp:em.z.boolean(),udp:em.z.boolean()}).refine(e=>e.tcp||e.udp,"At least one protocol (TCP or UDP) must be selected"),ex=em.z.object({ports:em.z.array(ey).min(1,"At least one port is required")}),ef=h.memo(e=>{let{portCtrl:r,tcpCtrl:s,udpCtrl:d,handleRemove:c}=function(e){let{name:r="ports",index:s,control:l,onRemove:d}=e,c=(0,ec.bc)({control:l,name:"".concat(r,".").concat(s,".port")}),m=(0,ec.bc)({control:l,name:"".concat(r,".").concat(s,".tcp")}),p=(0,ec.bc)({control:l,name:"".concat(r,".").concat(s,".udp")}),u=(0,h.useCallback)(()=>{d(s)},[s,d]);return{portCtrl:c,tcpCtrl:m,udpCtrl:p,handleRemove:u}}(e);return(0,l.jsx)(ev,{className:"bg-background",children:(0,l.jsxs)(ej,{children:[(0,l.jsxs)(e_,{children:[(0,l.jsx)(E.x,{children:"Port"}),(0,l.jsx)(p.oi,{...r.field,...r.fieldState,placeholder:"8080",required:!0,width:"6em",textAlign:"center"})]}),(0,l.jsxs)(ew,{children:[(0,l.jsx)(E.x,{children:"TCP"}),(0,l.jsx)(p.XZ,{...s.field,...s.fieldState})]}),(0,l.jsxs)(eC,{children:[(0,l.jsx)(E.x,{children:"UDP"}),(0,l.jsx)(p.XZ,{...d.field,...d.fieldState})]}),(0,l.jsx)(eS,{children:(0,l.jsx)(p.zx,{type:"button",variant:"warning",kind:"functional",onClick:c,disabled:e.disabled,children:(0,l.jsx)(p.JO,{name:"trash-xmark"})})})]})})});ef.displayName="PortItem";let AddPortForm=e=>{let{onSubmit:r,onCancel:s}=e,{name:d,control:c,handleSubmit:m,fields:u,addPortField:y,removePortField:x}=function(e){let{onSubmit:r}=e,s="ports",l=(0,h.useCallback)(async e=>{r(e.ports)},[r]),{control:d,handleSubmit:c}=(0,eu.c)({defaultValues:eh,resolver:(0,ep.F)(ex),onSubmit:l}),{fields:m,append:p,remove:u}=(0,ec.Dq)({control:d,name:s,shouldUnregister:!0}),y=(0,h.useCallback)(()=>{p({port:"",tcp:!1,udp:!1})},[p]),x=(0,h.useCallback)(e=>{m.length>1&&u(e)},[u,m.length]);return{name:s,control:d,fields:m,handleSubmit:c,addPortField:y,removePortField:x}}({onSubmit:r});return(0,l.jsxs)(eN,{onSubmit:m,children:[u.map((e,r)=>(0,l.jsx)(ef,{name:d,index:r,control:c,onRemove:x,disabled:1===u.length},e.id)),(0,l.jsxs)(eI,{children:[(0,l.jsx)(p.zx,{type:"button",variant:"secondary",kind:"gradient",onClick:y,children:"Add Port"}),(0,l.jsx)(p.zx,{type:"submit",variant:"primary",kind:"gradient",children:"Save"}),(0,l.jsx)(p.zx,{type:"button",variant:"tertiary",onClick:s,children:"Cancel"})]})]})};AddPortForm.displayName="AddPortForm";var eg=(0,h.memo)(AddPortForm),ev=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-25x9d1-0"})({marginTop:"0.5rem",width:"fit-content",paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"0.75rem",paddingBottom:"0.75rem"}),ej=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-25x9d1-1"})({display:"flex",alignItems:"center",gap:"1rem"}),e_=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-25x9d1-2"})({display:"flex",flexDirection:"column",gap:"0.75rem"}),ew=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-25x9d1-3"})({display:"flex",flexDirection:"column",gap:"0.75rem"}),eC=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-25x9d1-4"})({display:"flex",flexDirection:"column",gap:"0.75rem"}),eS=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-25x9d1-5"})({marginBottom:"0.25rem",alignSelf:"flex-end"}),eN=(0,d.ZP)("form").withConfig({displayName:"cmp___StyledForm",componentId:"sc-25x9d1-6"})({marginTop:"0.5rem"}),eI=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-25x9d1-7"})({marginTop:"1rem",display:"flex",gap:"0.5rem"}),eZ=s(21836);let EntityPortForwarding=e=>{let{entityHash:r,executableStatus:s,executableManager:d}=e,{showPortForm:c,ports:m,handleAddPort:u,handleCancelAddPort:y,handleRemovePort:x,handleSubmitNewPorts:f}=function(){let{entityHash:e,executableStatus:r,executableManager:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[l]=(0,el.mr)(),{account:d}=l.connection,c=null==d?void 0:d.address,[m,p]=(0,h.useState)((0,ed.yX)()),[u,y]=(0,h.useState)(!1),[x,f]=(0,h.useState)(!1),[g,v]=(0,h.useState)(null),j=useForwardedPortsManager(),_=(0,h.useCallback)(async()=>{if(!e||!c||!j){p((0,ed.yX)());return}try{let r=await j.getByEntityHash(e),s=(null==r?void 0:r.ports)||{},l=(0,ed.gy)(e,c,s),d=(0,ed.CH)(e,c,l),m=(0,ed.$g)(d),u=[...(0,ed.yX)(),...m];p(u),v(null)}catch(e){console.error("Failed to load ports:",e),v("Failed to load ports"),p((0,ed.yX)())}},[e,c,j]);(0,h.useEffect)(()=>{_()},[_]),(0,h.useEffect)(()=>{(null==r?void 0:r.mappedPorts)&&p(e=>(0,ed.Ph)(e,r.mappedPorts))},[null==r?void 0:r.mappedPorts]);let w=(0,h.useCallback)(e=>{p(r=>[...r,...e]),y(!1),v(null)},[]),C=(0,h.useCallback)(e=>{p(r=>r.filter(r=>r.source!==e)),v(null)},[]),S=(0,h.useCallback)((e,r)=>{p(s=>s.map(s=>s.source===e?{...s,isRemoving:r}:s))},[]),N=(0,h.useCallback)(e=>{p(e)},[]),I=(0,h.useCallback)(e=>{y(void 0!==e?e:e=>!e)},[]),{notifyCRNUpdate:Z,scheduleNotifyCRNUpdate:D}=function(e,r,s){let l=(0,h.useRef)(),d=(0,h.useCallback)(async()=>{if(s&&e&&(null==r?void 0:r.node))try{let l=ea.B.normalizeUrl(r.node.address||"");if(!l)return;await s.sendPostOperation({hostname:l,operation:"update",vmId:e,requireSignature:!1})}catch(e){console.error("Failed to notify CRN about port changes:",e)}},[s,e,null==r?void 0:r.node]),c=(0,h.useCallback)(()=>{l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{d()},ed.If)},[d]);return(0,h.useEffect)(()=>()=>{l.current&&clearTimeout(l.current)},[]),{notifyCRNUpdate:d,scheduleNotifyCRNUpdate:c}}(e,r,s),{addPorts:P,removePort:b}=function(e,r,s,l,d,c,m,p,u){let y=useForwardedPortsManager(),x=(0,h.useCallback)(async p=>{if(!e||!r||!y||s)return;let u=(0,ed.FM)(p);if(0===u.length){null==d||d("No valid ports to add (system ports are reserved)");return}let h=await y.getByEntityHash(e),x=(null==h?void 0:h.ports)?Object.keys(h.ports).length:0,f=(0,ed.EJ)(u,x);if(!f.isValid){null==d||d(f.errors.join(", "));return}let g=await y.validatePortConflicts(e,u),v=(0,ed.z0)(e,r),j=g.conflicts.filter(e=>{let r=parseInt(e,10);return!v.includes(r)});if(j.length>0){null==d||d("Ports already exist: ".concat(j.join(", ")));return}null==c||c(!0);try{await y.addMultiplePorts(e,u);let s=(0,ed.Nw)(u);(0,ed.Lx)(e,r,s);let d=u.map(e=>({source:e.port,destination:void 0,tcp:e.tcp,udp:e.udp,isDeletable:!0}));null==m||m(d),null==l||l()}catch(e){console.error("Failed to add ports:",e),null==d||d("Failed to add ports")}finally{null==c||c(!1)}},[e,r,y,s,l,d,c,m]),f=(0,h.useCallback)(async c=>{if(e&&r&&y&&!s){if((0,ed.MH)(c)){null==d||d("Cannot remove system port ".concat(c));return}null==u||u(c,!0);try{await y.removePort(e,c),(0,ed.Ln)(e,r,parseInt(c,10)),null==p||p(c),null==l||l()}catch(e){console.error("Failed to remove port:",e),null==d||d("Failed to remove port")}finally{null==u||u(c,!1)}}},[e,r,y,s,l,d,p,u]);return{addPorts:x,removePort:f}}(e,c,x,D,v,f,w,C,S);!function(e,r,s,l,d,c){let m=(0,h.useRef)();(0,h.useEffect)(()=>{if(m.current&&clearInterval(m.current),!s||!e||!(null==r?void 0:r.node))return;let checkForUnmappedPorts=async()=>{try{if(!l||!(0,ed.Fo)(l))return;await (null==d?void 0:d());let m=ea.B.normalizeUrl(r.node.address||"");if(!m)return;let p={id:e,payment:r.node},u=await s.checkStatus(p);(null==u?void 0:u.mappedPorts)&&(null==c||c(e=>e.map(e=>{var r;let s=null===(r=u.mappedPorts)||void 0===r?void 0:r[e.source];return{...e,destination:null==s?void 0:s.host.toString()}})))}catch(e){console.error("Failed to poll for unmapped ports:",e)}};return m.current=setInterval(checkForUnmappedPorts,ed.g_),()=>{m.current&&clearInterval(m.current)}},[s,e,null==r?void 0:r.node,l,d,c])}(e,r,s,m,Z,N);let E=(0,h.useCallback)(()=>{I(!0)},[I]),k=(0,h.useCallback)(()=>{I(!1),v(null)},[I]),T=(0,h.useCallback)(async e=>{await b(e)},[b]),R=(0,h.useCallback)(async e=>{await P(e),g||I(!1)},[P,g,I]);return{showPortForm:u,ports:m,isLoading:x,error:g,handleAddPort:E,handleCancelAddPort:k,handleRemovePort:T,handleSubmitNewPorts:R}}({entityHash:r,executableStatus:s,executableManager:d}),g=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eP,{className:"tp-body3 fs-18 text-base2",children:"IPv4 Port Forwarding Details"}),(0,l.jsx)("p",{className:"tp-body2 fs-14",children:"Randomized Source Ports:"}),(0,l.jsx)("p",{className:"tp-body1 fs-14",children:"Source (external) ports are automatically assigned and may change whenever the instance or function is reallocated. Always refer to the instance detail page to verify current mappings."}),(0,l.jsx)(eb,{className:"tp-body2 fs-14",children:"Port Limits:"}),(0,l.jsx)("p",{className:"tp-body1 fs-14",children:"You can specify up to 20 internal ports per instance or function. Ensure you enter ports relevant to your service to maintain effective network security and performance."})]});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eE,{className:"tp-h7 fs-24",children:(0,l.jsx)(eZ.Z,{plain:!0,my:"top-left",at:"top-right",vAlign:"bottom",iconSize:"0.9em",tooltipContent:g,children:"IPV4 PORT FORWARDING"})}),(0,l.jsx)(p.Jy,{children:(0,l.jsxs)(ek,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(T.Z,{children:"CONFIGURED PORTS"}),(0,l.jsx)(E.x,{children:"Maximum 20 ports allowed"})]}),m.map(e=>{let{source:r,destination:s,tcp:d,udp:c,isDeletable:m,isRemoving:u}=e;return(0,l.jsxs)(eT,{children:[(0,l.jsxs)(eR,{children:[(0,l.jsxs)(eO,{children:[(0,l.jsx)(E.x,{children:"Source"}),(0,l.jsx)(p.oi,{name:"source-port",dataView:!0,defaultValue:r,required:!0,width:"6em",textAlign:"center"})]}),(0,l.jsx)(eq,{className:"text-main0 fs-18",children:"-"}),(0,l.jsxs)(eM,{children:[(0,l.jsx)(E.x,{children:"Destination"}),(0,l.jsx)(p.oi,{name:"destination-port",dataView:!0,defaultValue:s,required:!0,width:"6em",textAlign:"center",loading:!s})]})]}),(0,l.jsxs)(eF,{children:[(0,l.jsxs)(eA,{children:[(0,l.jsx)(E.x,{children:"TCP"}),(0,l.jsx)(p.XZ,{disabled:!0,checked:d})]}),(0,l.jsxs)(eB,{children:[(0,l.jsx)(E.x,{children:"UDP"}),(0,l.jsx)(p.XZ,{disabled:!0,checked:c})]}),m&&(0,l.jsx)(ez,{children:(0,l.jsx)(p.zx,{variant:"warning",kind:"functional",onClick:()=>x(r),disabled:!!u,children:(0,l.jsx)(p.JO,{name:u?"spinner":"trash-xmark",spin:u})})})]})]},"port-".concat(r))}),(0,l.jsx)(eL,{children:c?(0,l.jsx)(eg,{onSubmit:f,onCancel:y}):(0,l.jsx)(eH,{children:(0,l.jsx)(p.zx,{variant:"secondary",kind:"gradient",onClick:u,children:"Add"})})})]})})]})};EntityPortForwarding.displayName="EntityPortForwarding";var eD=(0,h.memo)(EntityPortForwarding),eP=(0,d.ZP)("p").withConfig({displayName:"cmp___StyledP",componentId:"sc-12viyya-0"})({marginBottom:"1rem"}),eb=(0,d.ZP)("p").withConfig({displayName:"cmp___StyledP2",componentId:"sc-12viyya-1"})({marginTop:"1rem"}),eE=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-12viyya-2"})({marginBottom:"0.5rem",display:"flex",alignItems:"center",textTransform:"uppercase"}),ek=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-12viyya-3"})({display:"flex",flexDirection:"column",rowGap:"1rem"}),eT=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-12viyya-4"})({display:"flex",flexWrap:"wrap",alignItems:"center",gap:"1rem"}),eR=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-12viyya-5"})({display:"flex",alignItems:"center",gap:"1rem"}),eO=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-12viyya-6"})({display:"flex",flexDirection:"column",gap:"0.75rem"}),eq=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-12viyya-7"})({marginBottom:"0.75rem",alignSelf:"flex-end",fontWeight:"700"}),eM=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-12viyya-8"})({display:"flex",flexDirection:"column",gap:"0.75rem"}),eF=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv8",componentId:"sc-12viyya-9"})({display:"flex",alignItems:"center",gap:"1rem"}),eA=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv9",componentId:"sc-12viyya-10"})({display:"flex",flexDirection:"column",gap:"0.75rem"}),eB=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv10",componentId:"sc-12viyya-11"})({display:"flex",flexDirection:"column",gap:"0.75rem"}),ez=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv11",componentId:"sc-12viyya-12"})({alignSelf:"flex-end"}),eL=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv12",componentId:"sc-12viyya-13"})({marginTop:"0.5rem"}),eH=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv13",componentId:"sc-12viyya-14"})({marginTop:"0.5rem"});function FunctionalButton(e){let{children:r,...s}=e;return(0,l.jsx)(eV,{variant:"functional",size:"sm",className:"bg-purple0 text-main0",...s,children:r})}function ManageInstance(){var e,r;let{instance:s,manager:d,name:c,labelVariant:P,status:b,isAllocated:E,nodeDetails:T,immutableVolumes:O,persistentVolumes:q,mappedKeys:M,customDomains:F,handleCustomDomainClick:A,paymentData:B,logs:z,handleDownloadLogs:J,isDownloadingLogs:K,stopDisabled:U,handleStop:Y,startDisabled:$,handleStart:Q,rebootDisabled:ee,handleReboot:ei,deleteDisabled:et,handleDelete:ea,sidePanel:el,handleImmutableVolumeClick:ed,handleSSHKeyClick:ec,closeSidePanel:em,setTabId:ep,sliderActiveIndex:eu,handleBack:eh}=function(){let e=(0,u.useRouter)(),{hash:r}=e.query,{entities:s}=(0,x.u)({ids:r}),[l]=s||[],d=(0,y.U)(),[c,m]=(0,h.useState)("detail"),p="log"===c,S=(0,f.y)({executable:l,manager:d,subscribeLogs:p}),{streamDetails:N,isAllocated:I,logs:Z}=S,D=(0,h.useMemo)(()=>l&&l.time<Date.now()-45e3&&I?"success":"warning",[l,I]),P=(0,h.useMemo)(()=>{var e;return l?(null==l?void 0:null===(e=l.metadata)||void 0===e?void 0:e.name)||(0,v.zN)(l.id):""},[l]),b=(0,h.useMemo)(()=>(null==l?void 0:l.time)?Math.floor(Date.now()-1e3*l.time)/1e3:void 0,[null==l?void 0:l.time]),{handleDownloadLogs:E,isDownloadingLogs:k}=(0,j.Z)({fileName:P,logs:Z}),T=(0,h.useCallback)(()=>{e.push(".")},[e]),{entities:R}=(0,C.X)(),O=(0,h.useMemo)(()=>(null==l?void 0:l.authorized_keys)&&R?l.authorized_keys.map(e=>R.find(r=>r.key===e)):[],[l,R]),{persistentVolumes:q,immutableVolumes:M}=(0,_.Z)({volumes:null==l?void 0:l.volumes}),{customDomains:F}=(0,w.Z)({entityId:null==l?void 0:l.id}),A=(0,h.useCallback)(e=>{J({isOpen:!0,type:"domain",selectedDomain:e})},[]),[B,z]=(0,h.useState)(),[L,H]=(0,h.useState)(!1);(0,h.useEffect)(()=>{let fetchCost=async()=>{if((null==l?void 0:l.payment)&&d){H(!0);try{let e=await d.getTotalCostByHash(l.payment.type,l.id);z(e)}catch(e){console.error("Error fetching cost:",e)}finally{H(!1)}}};fetchCost()},[l,d]);let V=(0,h.useMemo)(()=>{var e,r;switch(null==l?void 0:null===(e=l.payment)||void 0===e?void 0:e.type){case g.uG.hold:return[{cost:B,paymentType:g.uG.hold,runningTime:b,startTime:l.time,blockchain:l.payment.chain,loading:L}];case g.uG.superfluid:if(null==N?void 0:null===(r=N.streams)||void 0===r?void 0:r.length)return N.streams.map(e=>{var r;return{cost:e.flow,paymentType:g.uG.superfluid,runningTime:b,startTime:null==l?void 0:l.time,blockchain:null==l?void 0:null===(r=l.payment)||void 0===r?void 0:r.chain,loading:!1,receiver:e.receiver}});default:return[{paymentType:g.uG.hold,loading:!0}]}},[B,null==l?void 0:l.payment,b,null==l?void 0:l.time,null==N?void 0:N.streams,L]),[W,J]=(0,h.useState)({isOpen:!1}),K=(0,h.useCallback)(e=>{J({isOpen:!0,type:"volume",selectedVolume:e})},[]),G=(0,h.useCallback)(e=>{J({isOpen:!0,type:"sshKey",selectedSSHKey:e})},[]),U=(0,h.useCallback)(()=>{J(e=>({...e,isOpen:!1}))},[]),X=(0,h.useMemo)(()=>"log"===c?1:0,[c]);return{...S,instance:l,manager:d,mappedKeys:O,customDomains:F,handleCustomDomainClick:A,setTabId:m,handleBack:T,handleDownloadLogs:E,isDownloadingLogs:k,paymentData:V,labelVariant:D,immutableVolumes:M,persistentVolumes:q,name:P,sliderActiveIndex:X,sidePanel:W,handleImmutableVolumeClick:K,handleSSHKeyClick:G,closeSidePanel:U}}();return console.log("status",b),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(m(),{children:[(0,l.jsx)("title",{children:"Console | Manage Instance | Aleph Cloud"}),(0,l.jsx)("meta",{name:"description",content:"Manage your compute instance on Aleph Cloud"})]}),(0,l.jsx)(en.Z,{entity:s,name:c,type:k.py.Instance,labelVariant:P,isAllocated:E,showStart:!0,startDisabled:$,onStart:Q,showDelete:!0,deleteDisabled:et,onDelete:ea,showStop:!0,stopDisabled:U,onStop:Y,showReboot:!0,rebootDisabled:ee,onReboot:ei,onBack:eh}),(0,l.jsxs)(Z.i,{activeIndex:eu,children:[(0,l.jsx)(Z.M,{children:(0,l.jsx)(er.Z,{leftColumnElements:[(0,l.jsx)(R,{instance:s},"instance-details"),(0,l.jsx)(L.V,{onViewLogs:()=>ep("log"),onDownloadLogs:J,downloadingLogs:K,disabled:!s||!E},"instance-logs-control"),(0,l.jsx)(X,{sshKeys:M,onSSHKeyClick:ec},"instance-ssh-keys"),(0,l.jsx)(D.Z,{payments:B},"instance-payment")],rightColumnElements:[(0,l.jsx)(G.Z,{nodeDetails:T,termsAndConditionsHash:null==s?void 0:null===(r=s.requirements)||void 0===r?void 0:null===(e=r.node)||void 0===e?void 0:e.terms_and_conditions},"instance-hosting-crn"),(0,l.jsx)(W,{executableStatus:b},"instance-connection-methods"),O.length&&(0,l.jsx)(V.Z,{linkedVolumes:O,onImmutableVolumeClick:ed},"instance-linked-volumes"),q.length&&(0,l.jsx)(H.Z,{persistentVolumes:q},"instance-persistent-storage"),F.length&&(0,l.jsx)(es.Z,{customDomains:F,onCustomDomainClick:A},"instance-custom-domains"),(0,l.jsx)(eD,{entityHash:null==s?void 0:s.id,executableStatus:b,executableManager:d},"port-forwarding")]})}),(0,l.jsx)(Z.M,{children:(0,l.jsxs)(eW,{children:[(0,l.jsx)(FunctionalButton,{onClick:()=>ep("detail"),children:(0,l.jsx)(p.JO,{name:"angle-left",size:"1.3em"})}),(0,l.jsx)(eJ,{children:(0,l.jsx)(L.W,{logs:z})})]})})]}),(0,l.jsx)(S.h,{title:"volume"===el.type?"Volume":"sshKey"===el.type?"SSH Key":"Custom Domain",isOpen:el.isOpen,onClose:em,children:"volume"===el.type?el.selectedVolume&&(0,l.jsx)(I.Z,{volumeId:el.selectedVolume.id}):"sshKey"===el.type?el.selectedSSHKey&&(0,l.jsx)(N.Z,{sshKeyId:el.selectedSSHKey.id}):"domain"===el.type?el.selectedDomain&&(0,l.jsx)(eo.Z,{domainId:el.selectedDomain.id}):(0,l.jsx)(l.Fragment,{children:"ERROR"})})]})}var eV=(0,d.ZP)(p.zx).withConfig({displayName:"cmp___StyledButton",componentId:"sc-1gq5pee-0"})({display:"flex",alignItems:"center",justifyContent:"center",columnGap:"0.75rem",borderRadius:"9999px",paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",fontWeight:"700",lineHeight:"1",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"200ms",":disabled":{cursor:"not-allowed",opacity:"0.5"}}),eW=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1gq5pee-1"})({display:"flex",width:"100%",gap:"2rem",paddingLeft:"3rem",paddingRight:"3rem",paddingTop:"1.5rem",paddingBottom:"1.5rem"}),eJ=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1gq5pee-2"})({display:"flex",width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.75rem"})},50090:function(e,r,s){s.d(r,{Z:function(){return useClassifyMachineVolumes}});var l=s(49107),d=s(67294),c=s(90805);function useClassifyMachineVolumes(e){let{volumes:r}=e,s=(0,c.B)(),[m,p]=(0,d.useState)([]),u=(0,d.useMemo)(()=>r?r.filter(e=>(0,l.w2)(e)):[],[r]);return(0,d.useEffect)(()=>{if(!r||!s)return;let buildVolumes=async()=>{let e=r.filter(e=>!(0,l.w2)(e)&&!(0,l.Py)(e)),d=await Promise.all(e.map(async e=>{let r=await s.get(e.ref);return{...e,...r}}));p(d)};buildVolumes()},[r,s]),{persistentVolumes:u,immutableVolumes:m}}},37850:function(e,r,s){s.d(r,{Z:function(){return useDownloadLogs}});var l=s(49107),d=s(79632),c=s(67294);function useDownloadLogs(e){let{fileName:r,logs:s}=e,m=(0,d.lm)(),[p,u]=(0,c.useState)(!1),[h,y]=(0,c.useState)(!1),x=(0,c.useRef)(),f=(0,c.useCallback)(()=>{if(!h&&!p)try{y(!0),u(!0),x.current=setTimeout(()=>{u(!1),y(!1),null==m||m.add({variant:"warning",title:"Download failed",text:"Logs could not be retrieved in time. Please try again."})},3e4)}catch(e){console.error("Error initiating logs download:",e),null==m||m.add({variant:"error",title:"Error downloading logs",text:null==e?void 0:e.message}),u(!1),y(!1),x.current&&(clearTimeout(x.current),x.current=void 0)}},[h,p,m]);return(0,c.useEffect)(()=>{if(p&&s){let{stdout:e,stderr:d}=s;(e.length>0||d.length>0)&&(((e,r,s)=>{let d=new Date().toISOString().replace(/[:.]/g,"-"),c=e.replace(/\s+/g,"_").toLowerCase();r.trim()&&(0,l.lm)(new Blob([r],{type:"text/plain"}),"stdout_".concat(c,"_").concat(d,".log")),s.trim()&&(0,l.lm)(new Blob([s],{type:"text/plain"}),"stderr_".concat(c,"_").concat(d,".log"))})(r,e,d),x.current&&(clearTimeout(x.current),x.current=void 0),u(!1),y(!1))}return()=>{x.current&&clearTimeout(x.current)}},[p,s,r]),{handleDownloadLogs:f,isDownloadingLogs:p||h}}},63831:function(e,r,s){var l=s(67294),d=s(80380),c=s(36924);r.Z=function(e){let{entityId:r}=e,s=(0,d.A)(),{entities:m,loading:p}=(0,c.d)(),[u,h]=(0,l.useState)([]),[y,x]=(0,l.useState)(!0),f=(0,l.useMemo)(()=>r&&m?m.filter(e=>e.ref&&r.includes(e.ref)):[],[r,m]);return(0,l.useEffect)(()=>{if(!s||0===f.length){x(!1);return}let fetchDomainStatuses=async()=>{try{let e=await Promise.all(f.map(async e=>{let r=await s.checkStatus(e);return{...e,status:r}}));h(e)}finally{x(!1)}};fetchDomainStatuses();let e=setInterval(fetchDomainStatuses,3e4);return()=>clearInterval(e)},[f,s]),{customDomains:u.length?u:f,isLoading:p||y,isLoadingDomains:p,isLoadingDomainStatus:y}}},24959:function(e,r,s){s.d(r,{c:function(){return useForm}});var l=s(79632),d=s(67294),c=s(87536),m=s(1604),p=s(50586);function useForm(e){let{onSubmit:r,onSuccess:s,onError:u,readyDeps:h=[],...y}=e,x=(0,c.cI)(y);(0,d.useEffect)(()=>{"object"==typeof y.defaultValues&&x.reset(y.defaultValues)},[...h]);let[f,g]=(0,d.useState)({data:void 0,error:void 0,loading:!1}),[v,{onLoad:j,onSuccess:_,onError:w}]=(0,l.g7)({flushData:!0,state:f,setState:g,onSuccess:s,onError:u}),C=(0,d.useCallback)(async e=>{try{j();let s=await r(e);_(s)}catch(r){let e=r instanceof m.jm?p.Z.ValidationError:(null==r?void 0:r.cause)||r;x.setError("root.serverError",{...e,message:null==e?void 0:e.message}),w(e)}},[x,w,j,r,_]),S=(0,d.useCallback)(async e=>{let r;if(console.log(e),!r){let s=function getFirstError(e){let[r]=Object.entries(e);if(!r)return;let[s,l]=r;if(Array.isArray(l)){let e=l[l.length-1];return getFirstError(e)}return[s,l]}(e);if(s){let[e,l]=s,d="string"==typeof l?l:(null==l?void 0:l.message)?": ".concat(l.message):(null==l?void 0:l.type)?': "'.concat(null==l?void 0:l.type,'" validation not satisfied'):"";r=p.Z.FieldError(e,d)}}r||(r=p.Z.ValidationError),w(r)},[w]),N=(0,d.useMemo)(()=>x.handleSubmit(C,S),[x,C,S]);return{...x,requestState:v,handleSubmit:N}}},90805:function(e,r,s){s.d(r,{B:function(){return useVolumeManager}});var l=s(9754);function useVolumeManager(){let[e]=(0,l.mr)(),{volumeManager:r}=e.manager;return r}},96370:function(e,r,s){s.d(r,{u:function(){return useRequestInstances}});var l=s(99978),d=s(77205);function useRequestInstances(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,l.U)();return(0,d.F)({...e,manager:r,name:"instance"})}},7770:function(e,r,s){s.d(r,{S:function(){return useRequestVolumes}});var l=s(90805),d=s(77205);function useRequestVolumes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,l.B)();return(0,d.F)({...e,manager:r,name:"volume"})}},56312:function(e,r,s){s.d(r,{F:function(){return zod_t}});var l=s(87536),t=function(e,r,s){if(e&&"reportValidity"in e){var d=(0,l.U2)(s,r);e.setCustomValidity(d&&d.message||""),e.reportValidity()}},resolvers_i=function(e,r){var i=function(s){var l=r.fields[s];l&&l.ref&&"reportValidity"in l.ref?t(l.ref,s,e):l.refs&&l.refs.forEach(function(r){return t(r,s,e)})};for(var s in r.fields)i(s)},n=function(e,r){r.shouldUseNativeValidation&&resolvers_i(e,r);var s={};for(var d in e){var c=(0,l.U2)(r.fields,d),m=Object.assign(e[d]||{},{ref:c&&c.ref});if(a(r.names||Object.keys(e),d)){var p=Object.assign({},o((0,l.U2)(s,d)));(0,l.t8)(p,"root",m),(0,l.t8)(s,d,p)}else(0,l.t8)(s,d,m)}return s},o=function(e){return Array.isArray(e)?e.filter(Boolean):[]},a=function(e,r){return e.some(function(e){return e.startsWith(r+".")})},zod_n=function(e,r){for(var s={};e.length;){var d=e[0],c=d.code,m=d.message,p=d.path.join(".");if(!s[p]){if("unionErrors"in d){var u=d.unionErrors[0].errors[0];s[p]={message:u.message,type:u.code}}else s[p]={message:m,type:c}}if("unionErrors"in d&&d.unionErrors.forEach(function(r){return r.errors.forEach(function(r){return e.push(r)})}),r){var h=s[p].types,y=h&&h[d.code];s[p]=(0,l.KN)(p,r,s,c,y?[].concat(y,d.message):d.message)}e.shift()}return s},zod_t=function(e,r,s){return void 0===s&&(s={}),function(l,d,c){try{return Promise.resolve(function(d,m){try{var p=Promise.resolve(e["sync"===s.mode?"parse":"parseAsync"](l,r)).then(function(e){return c.shouldUseNativeValidation&&resolvers_i({},c),{errors:{},values:s.raw?l:e}})}catch(e){return m(e)}return p&&p.then?p.then(void 0,m):p}(0,function(e){if(null!=e.errors)return{values:{},errors:n(zod_n(e.errors,!c.shouldUseNativeValidation&&"all"===c.criteriaMode),c)};throw e}))}catch(e){return Promise.reject(e)}}}}}]);