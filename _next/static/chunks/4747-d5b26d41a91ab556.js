"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4747],{36846:function(e,i,n){n.d(i,{LY:function(){return p},nx:function(){return r}});var t=n(85893),a=n(19521),l=n(67294),o=n(79632),d=n(93396),s=n(65148);let m=(0,l.memo)(e=>{let{onRemove:i}=e;return(0,t.jsx)(h,{children:(0,t.jsx)(o.zx,{type:"button",kind:"functional",variant:"warning",size:"md",onClick:i,children:"Remove"})})});m.displayName="RemoveVolume";let r=(0,l.memo)(e=>{let{isStandAlone:i,fileCtrl:n,mountPathCtrl:a,useLatestCtrl:l,handleRemove:s}=(0,d.Yl)(e);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g,{children:"Create and configure new volumes for your web3 function by either uploading a dependency file or a squashfs volume. Volumes play a crucial role in managing dependencies and providing a volume within your application."}),(0,t.jsxs)("div",{children:[i?(0,t.jsx)(o.Jy,{children:(0,t.jsx)(o.S2,{...n.field,...n.fieldState,label:"Upload volume file",required:!0})}):(0,t.jsx)(y,{children:(0,t.jsx)(o.S2,{...n.field,...n.fieldState})}),!i&&(0,t.jsx)(x,{children:(0,t.jsx)(o.oi,{...a.field,...a.fieldState,required:!0,label:"Mount",placeholder:"/mount/opt"})}),!i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_,{children:(0,t.jsx)(o.XZ,{...l.field,...l.fieldState,label:"Always update to the latest version"})}),s&&(0,t.jsx)(m,{onRemove:s})]})]})]})});r.displayName="AddNewVolume";let u=(0,l.memo)(e=>{let{refHashCtrl:i,mountPathCtrl:n,useLatestCtrl:a,volumeSize:l,handleRemove:s}=(0,d.Ox)(e);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w,{children:"Link existing volumes to your web3 function by pasting the reference hash associated with each volume. Volumes are an essential component for managing dependencies within your application."}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:(0,t.jsx)(o.oi,{...n.field,...n.fieldState,required:!0,label:"Mount",placeholder:"/mount/opt"})}),(0,t.jsx)(j,{children:(0,t.jsx)(o.oi,{...i.field,...i.fieldState,required:!0,label:"Item hash",placeholder:"3335ad270a571b..."})}),i.field.value&&l&&(0,t.jsx)(b,{children:(0,t.jsx)(o.oi,{label:"Size",name:"size",value:l,disabled:!0})}),(0,t.jsx)(P,{children:(0,t.jsx)(o.XZ,{...a.field,...a.fieldState,checked:!!a.field.value,label:"Always update to the latest version"})}),s&&(0,t.jsx)(m,{onRemove:s})]})]})});u.displayName="AddExistingVolume";let c=(0,l.memo)(e=>{let{nameCtrl:i,mountPathCtrl:n,sizeCtrl:a,sizeValue:l,sizeHandleChange:s,handleRemove:r}=(0,d.BB)(e);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(S,{children:"Create and configure persistent storage for your web3 functions, enabling your application to maintain data across multiple invocations or sessions. You can set up a customized storage solution tailored to your application's requirements."}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:(0,t.jsx)(o.oi,{...i.field,...i.fieldState,required:!0,label:"Volume name",placeholder:"Redis volume"})}),(0,t.jsx)(N,{children:(0,t.jsx)(o.oi,{...n.field,...n.fieldState,required:!0,label:"Mount",placeholder:"/mount/opt"})}),(0,t.jsx)(V,{children:(0,t.jsx)(o.oi,{...a.field,...a.fieldState,value:l,onChange:s,required:!0,type:"number",label:"Size (GB)",placeholder:"0"})}),r&&(0,t.jsx)(m,{onRemove:r})]})]})});c.displayName="AddPersistentVolume";let p=(0,l.memo)(e=>{let{sizeCtrl:i}=(0,d.at)(e);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(q,{children:"This system volume is included with your setup. You can easily expand your storage capacity to meet your application's requirements by adding additional volumes below."}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:(0,t.jsx)(o.oi,{name:"system_volume_name",required:!0,label:"Volume name",placeholder:"Redis volume",value:"System Volume",dataView:!0})}),(0,t.jsx)(C,{children:(0,t.jsx)(o.oi,{name:"system_volume_mount",required:!0,label:"Mount",placeholder:"/mount/opt",value:"/",dataView:!0})}),(0,t.jsx)(B,{children:(0,t.jsx)(o.oi,{...i.field,...i.fieldState,name:"system_volume_size",required:!0,type:"number",label:"Size (GB)",placeholder:"0"})})]})]})});p.displayName="InstanceSystemVolume";let f={[s.lf.New]:r,[s.lf.Existing]:u,[s.lf.Persistent]:c},v=(0,l.memo)(e=>{let{volumeTypeCtrl:i,defaultValue:n,...a}=(0,d.Kn)(e),m=i.field.value,r=(0,l.useMemo)(()=>f[m],[m]),u=(0,l.useMemo)(()=>[{id:s.lf.New,name:"New volume"},{id:s.lf.Existing,name:"Existing volume"},{id:s.lf.Persistent,name:"Persistent Storage"}],[]);return(0,t.jsxs)(Z,{className:"bg-base1",children:[(0,t.jsx)(I,{children:(0,t.jsx)(o.mQ,{selected:m,align:"left",onTabChange:i.field.onChange,tabs:u})}),(0,t.jsx)("div",{role:"tabpanel",children:(0,t.jsx)(r,{...a,defaultValue:n})})]})});v.displayName="AddVolume",i.ZP=v;var h=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-de6qwa-0"})({marginTop:"1rem",paddingTop:"1.5rem",textAlign:"right"}),g=(0,a.ZP)("p").withConfig({displayName:"cmp___StyledP",componentId:"sc-de6qwa-1"})({marginBottom:"1.5rem",marginTop:"0.25rem"}),y=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-de6qwa-2"})({paddingTop:"1rem",paddingBottom:"1rem"}),x=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-de6qwa-3"})({marginTop:"1rem"}),_=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-de6qwa-4"})({marginTop:"1rem",paddingTop:"1rem",paddingBottom:"1rem"}),w=(0,a.ZP)("p").withConfig({displayName:"cmp___StyledP2",componentId:"sc-de6qwa-5"})({marginBottom:"1.5rem",marginTop:"0.25rem"}),j=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-de6qwa-6"})({marginTop:"1rem"}),b=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-de6qwa-7"})({marginTop:"1rem"}),P=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-de6qwa-8"})({marginTop:"1rem",paddingTop:"1rem",paddingBottom:"1rem"}),S=(0,a.ZP)("p").withConfig({displayName:"cmp___StyledP3",componentId:"sc-de6qwa-9"})({marginBottom:"1.5rem"}),N=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv8",componentId:"sc-de6qwa-10"})({marginTop:"1rem"}),V=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv9",componentId:"sc-de6qwa-11"})({marginTop:"1rem"}),q=(0,a.ZP)("p").withConfig({displayName:"cmp___StyledP4",componentId:"sc-de6qwa-12"})({marginBottom:"1.5rem"}),C=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv10",componentId:"sc-de6qwa-13"})({marginTop:"1rem"}),B=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv11",componentId:"sc-de6qwa-14"})({marginTop:"1rem"}),Z=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv12",componentId:"sc-de6qwa-15"})({padding:"1.5rem"}),I=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv13",componentId:"sc-de6qwa-16"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"0.75rem"})},34747:function(e,i,n){n.d(i,{Z:function(){return t.ZP},n:function(){return t.nx}});var t=n(36846)},93396:function(e,i,n){n.d(i,{BB:function(){return useAddPersistentVolumeProps},Kn:function(){return useAddVolume},Ox:function(){return useAddExistingVolumeProps},Yl:function(){return useAddNewVolumeProps},Yz:function(){return d},at:function(){return useAddInstanceSystemVolumeProps}});var t=n(67294),a=n(49107),l=n(65148),o=n(87536);let d={volumeType:l.lf.New};function useAddNewVolumeProps(e){let{name:i="",index:n,control:t,defaultValue:a,onRemove:l}=e,d=void 0===n,s=d?i:"".concat(i,".").concat(n),m=(0,o.bc)({control:t,name:"".concat(s,".file"),defaultValue:null==a?void 0:a.file}),r=(0,o.bc)({control:t,name:"".concat(s,".mountPath"),defaultValue:null==a?void 0:a.mountPath}),u=(0,o.bc)({control:t,name:"".concat(s,".useLatest"),defaultValue:null==a?void 0:a.useLatest});return{isStandAlone:void 0===n,fileCtrl:m,mountPathCtrl:r,useLatestCtrl:u,handleRemove:l}}function useAddExistingVolumeProps(e){let{name:i="",index:n,control:d,defaultValue:s,onRemove:m}=e,r=(0,o.bc)({control:d,name:"".concat(i,".").concat(n,".refHash"),defaultValue:null==s?void 0:s.refHash}),u=(0,o.bc)({control:d,name:"".concat(i,".").concat(n,".mountPath"),defaultValue:null==s?void 0:s.mountPath}),c=(0,o.bc)({control:d,name:"".concat(i,".").concat(n,".useLatest"),defaultValue:null==s?void 0:s.useLatest}),{value:p}=r.field,[f,v]=(0,t.useState)("");return(0,t.useEffect)(()=>{(async function(){let e=await l.l8.getVolumeSize({volumeType:l.lf.Existing,refHash:p}),i=(0,a.eB)(e,"MiB");v(i)})()},[p]),{refHashCtrl:r,mountPathCtrl:u,useLatestCtrl:c,volumeSize:f,handleRemove:m}}function useAddPersistentVolumeProps(e){let{name:i="",index:n,control:l,defaultValue:d,onRemove:s}=e,m=(0,o.bc)({control:l,name:"".concat(i,".").concat(n,".name"),defaultValue:null==d?void 0:d.name}),r=(0,o.bc)({control:l,name:"".concat(i,".").concat(n,".mountPath"),defaultValue:null==d?void 0:d.mountPath}),u=(0,o.bc)({control:l,name:"".concat(i,".").concat(n,".size"),defaultValue:null==d?void 0:d.size}),c=(0,t.useCallback)(e=>{let i=Number(e.target.value),n=(0,a.Fx)(i,{from:"GiB",to:"MiB",displayUnit:!1});u.field.onChange(n)},[u.field]),p=(0,t.useMemo)(()=>u.field.value?(0,a.Fx)(u.field.value,{from:"MiB",to:"GiB",displayUnit:!1}):void 0,[u.field]);return{nameCtrl:m,mountPathCtrl:r,sizeCtrl:u,sizeValue:p,sizeHandleChange:c,handleRemove:s}}function useAddInstanceSystemVolumeProps(e){let{control:i,defaultValue:n}=e,l=(0,o.bc)({control:i,name:"systemVolume.size",defaultValue:n}),{value:d,onChange:s}=l.field;return l.field.onChange=(0,t.useCallback)(e=>{let i=Number(e.target.value),n=(0,a.Fx)(i,{from:"GiB",to:"MiB",displayUnit:!1});s(n)},[s]),l.field.value=(0,t.useMemo)(()=>d?(0,a.Fx)(d,{from:"MiB",to:"GiB",displayUnit:!1}):void 0,[d]),{sizeCtrl:l}}function useAddVolume(e){let{name:i="volumes",index:n,control:a,defaultValue:d,onRemove:s}=e,m=void 0===n,r=m?i:"".concat(i,".").concat(n),u=(0,o.bc)({control:a,name:"".concat(r,".volumeType"),defaultValue:l.lf.New}),c=(0,t.useCallback)(()=>{s&&s(n)},[n,s]);return{name:i,index:n,control:a,volumeTypeCtrl:u,defaultValue:d,onRemove:c}}}}]);