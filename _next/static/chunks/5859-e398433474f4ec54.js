"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5859],{11318:function(e,r,l){l.d(r,{p:function(){return InfoTooltipButton},Z:function(){return y}});var s=l(85893),d=l(19521),c=l(67294),m=l(79632);let p=(0,d.ZP)(m.zx).attrs(e=>({...e,forwardedAs:"span",onClick:e=>e.preventDefault(),kind:"default",size:"md",variant:"textOnly",color:"main0"})).withConfig({displayName:"styles__StyledInfoTooltipButton",componentId:"sc-15cvlnj-0"})(()=>[{cursor:"help !important"}]);var u=l(43251);let InfoTooltipButton=e=>{let{children:r,tooltipContent:l,plain:d,align:m="right",vAlign:p="center",iconSize:y="1em",...v}=e,[g,j]=(0,c.useState)(!1);(0,c.useEffect)(()=>{j(!0)},[]);let _=(0,c.useRef)(null),w=[];switch("left"===m&&w.push({order:"-1"}),p){case"top":w.push({marginBottom:"0.5rem"});break;case"bottom":w.push({marginBottom:"-0.25rem"})}let S=(0,s.jsx)(h,{name:"info-circle",size:y,$_css:w});return(0,s.jsxs)(s.Fragment,{children:[d?(0,s.jsxs)(f,{ref:_,children:[r,S]}):(0,s.jsxs)(x,{ref:_,children:[r,S]}),g&&(0,s.jsx)(u.Z,{...v,targetRef:_,content:l})]})};InfoTooltipButton.displayName="InfoTooltipButton";var y=(0,c.memo)(InfoTooltipButton),h=(0,d.ZP)(m.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-1jqd2c1-0"})(["",""],e=>e.$_css),f=(0,d.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-1jqd2c1-1"})({display:"inline-flex",cursor:"help",alignItems:"center",gap:"0.625rem"}),x=(0,d.ZP)(p).withConfig({displayName:"cmp___StyledStyledInfoTooltipButton",componentId:"sc-1jqd2c1-2"})({display:"inline-flex",alignItems:"center",gap:"0.625rem"})},21836:function(e,r,l){l.d(r,{Z:function(){return s.Z}});var s=l(11318)},32424:function(e,r,l){l.d(r,{Z:function(){return C}});var s=l(85893),d=l(19521),c=l(67294),m=l(79632),p=l(11505),u=l(76696),y=l(77541),h=l(49107),f=l(11163),x=l(18395),v=l(68091),g=l(36541),j=l(50586),_=l(86780),w=l(9911),S=l(47104);let SSHKeyDetail=e=>{let{sshKeyId:r,showDelete:l=!1}=e,{sshKey:C,theme:z,handleCopyKey:B,handleCopyLabel:H,handleDelete:O}=function(e){let{sshKeyId:r}=e,l=(0,d.Fg)(),s=(0,f.useRouter)(),{dispatchDeleteEntity:p}=(0,g.w)({entityName:"ssh"}),{entities:u}=(0,v.X)({ids:r}),[y]=u||[],h=(0,m.vx)((null==y?void 0:y.label)||""),w=(0,m.vx)((null==y?void 0:y.key)||""),S=(0,x.p)(),{next:C,stop:N,noti:I}=(0,_.A)({}),Z=(0,c.useCallback)(async()=>{if(!S)throw j.Z.ConnectYourWallet;if(!y)throw j.Z.SSHKeyNotFound;let e=await S.getDelSteps(y),r=e.map(e=>_.n[e]),l=S.delSteps(y);try{for(;;){let{done:e}=await l.next();if(e)break;await C(r)}p(y.id),await s.replace("/console")}catch(s){console.error(s);let e=s.message,r=null==s?void 0:s.cause,l="string"==typeof r?r:null==r?void 0:r.message;null==I||I.add({variant:"error",title:"Error",text:e,detail:l})}finally{await N()}},[p,S,y,C,s,N,I]);return{sshKey:y,theme:l,handleCopyLabel:h,handleCopyKey:w,handleDelete:Z}}({sshKeyId:r});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(N,{children:[(0,s.jsxs)(I,{children:[(0,s.jsx)(Z,{name:"key",className:"text-main0"}),(0,s.jsx)("div",{className:"tp-body2",children:C?C.label||(0,h.zN)(C.id):(0,s.jsx)(S.Z,{width:"10rem"})}),(0,s.jsx)(P,{kind:"secondary",variant:(null==C?void 0:C.confirmed)?"success":"warning",children:C?C.confirmed?"READY":(0,s.jsxs)(b,{children:[(0,s.jsx)(D,{children:"CONFIRMING"}),(0,s.jsx)(p.s5,{strokeColor:z.color.base2,width:".8rem"})]}):"LOADING"})]}),(0,s.jsx)("div",{children:l&&(0,s.jsx)(m.zx,{kind:"functional",variant:"error",size:"md",onClick:O,children:(0,s.jsx)(m.JO,{name:"trash"})})})]}),(0,s.jsxs)(m.Jy,{children:[(0,s.jsxs)(k,{children:[(0,s.jsx)(E,{variant:"accent",children:C?w.K_[C.type]:(0,s.jsx)(S.Z,{width:"5rem",height:"1.3rem"})}),(0,s.jsxs)(F,{children:[(0,s.jsx)("div",{className:"tp-info text-main0",children:"KEY"}),(0,s.jsx)(u.Z,{iconName:"copy",onClick:B,children:C?C.key:(0,s.jsx)(S.Z,{width:"12rem"})})]})]}),(0,s.jsx)(y.Z,{}),(null==C?void 0:C.label)&&(0,s.jsxs)(T,{children:[(0,s.jsx)("div",{className:"tp-info text-main0",children:"LABEL"}),(0,s.jsx)("div",{children:(0,s.jsx)(u.Z,{iconName:"copy",onClick:H,children:(0,s.jsx)(y.x,{children:null==C?void 0:C.label})})})]}),(0,s.jsxs)(A,{children:[(0,s.jsx)("div",{className:"tp-info text-main0",children:"EXPLORER"}),(0,s.jsx)("div",{children:C?(0,s.jsx)("a",{className:"tp-body1 fs-16",href:C.url,target:"_blank",referrerPolicy:"no-referrer",children:(0,s.jsx)(u.Z,{iconName:"square-up-right",children:(0,s.jsx)(y.x,{children:(0,h.bs)(C.url,80)})})}):(0,s.jsx)(S.Z,{width:"10rem"})})]}),(0,s.jsxs)(q,{children:[(0,s.jsx)("div",{className:"tp-info text-main0",children:"CREATED ON"}),(0,s.jsx)("div",{children:(0,s.jsx)(y.x,{className:"fs-10 tp-body1",children:C?C.date:(0,s.jsx)(S.Z,{width:"4rem"})})})]})]})]})};SSHKeyDetail.displayName="SSHKeyDetail";var C=(0,c.memo)(SSHKeyDetail),N=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1leuqyp-0"})({display:"flex",justifyContent:"space-between",paddingBottom:"1.25rem"}),I=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1leuqyp-1"})({display:"flex",alignItems:"center"}),Z=(0,d.ZP)(m.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-1leuqyp-2"})({marginRight:"1rem"}),P=(0,d.ZP)(m.__).withConfig({displayName:"cmp___StyledLabel",componentId:"sc-1leuqyp-3"})({marginLeft:"1rem"}),b=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1leuqyp-4"})({display:"flex",alignItems:"center"}),D=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-1leuqyp-5"})({marginRight:"0.5rem"}),k=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-1leuqyp-6"})({display:"flex",alignItems:"center",justifyContent:"flex-start",overflow:"hidden"}),E=(0,d.ZP)(m.Vp).withConfig({displayName:"cmp___StyledTag",componentId:"sc-1leuqyp-7"})({marginRight:"1rem",whiteSpace:"nowrap"}),F=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-1leuqyp-8"})({flex:"1 1 auto"}),T=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-1leuqyp-9"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),A=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv8",componentId:"sc-1leuqyp-10"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),q=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv9",componentId:"sc-1leuqyp-11"})({marginTop:"1.25rem",marginBottom:"1.25rem"})},45806:function(e,r,l){l.d(r,{Z:function(){return f}});var s=l(85893),d=l(19521),c=l(67294),m=l(79632),p=l(47104),u=l(77541),y=l(76696),h=l(33697);let EntityConnectionMethods=e=>{let{executableStatus:r}=e,{isLoading:l,formattedIPv4:d,formattedIPv6:f,formattedSSHCommand:g,handleCopyIpv4:j,handleCopyIpv6:_,handleCopyCommand:w}=function(e){let{executableStatus:r}=e,l=!r,s=(0,c.useMemo)(()=>(null==r?void 0:r.ipv6Parsed)||"",[null==r?void 0:r.ipv6Parsed]),d=(0,c.useMemo)(()=>(null==r?void 0:r.hostIpv4)||"",[null==r?void 0:r.hostIpv4]),p=(0,c.useMemo)(()=>"ssh root@".concat(s),[s]),u=(0,m.vx)(d),y=(0,m.vx)(s),h=(0,m.vx)(p);return{isLoading:l,formattedIPv6:s,formattedIPv4:d,formattedSSHCommand:p,handleCopyIpv6:y,handleCopyIpv4:u,handleCopyCommand:h}}({executableStatus:r});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x,{className:"tp-h7 fs-24",children:"CONNECTION METHODS"}),(0,s.jsx)(m.Jy,{children:(0,s.jsxs)(v,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(h.Z,{children:"SSH COMMAND"}),(0,s.jsx)("div",{children:l?(0,s.jsx)(p.Z,{width:"20rem"}):(0,s.jsx)(y.Z,{iconName:"copy",onClick:w,children:(0,s.jsxs)(u.x,{children:[">_ ",g]})})})]}),(l||""!==d)&&(0,s.jsxs)("div",{children:[(0,s.jsx)(h.Z,{children:"IPV4"}),(0,s.jsx)("div",{children:l?(0,s.jsx)(p.Z,{width:"9rem"}):(0,s.jsx)(y.Z,{iconName:"copy",onClick:j,children:(0,s.jsx)(u.x,{children:d})})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(h.Z,{children:"IPV6"}),(0,s.jsx)("div",{children:l?(0,s.jsx)(p.Z,{width:"10rem"}):(0,s.jsx)(y.Z,{iconName:"copy",onClick:_,children:(0,s.jsx)(u.x,{children:f})})})]})]})})]})};EntityConnectionMethods.displayName="EntityConnectionMethods";var f=(0,c.memo)(EntityConnectionMethods),x=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1tccgtt-0"})({marginBottom:"0.5rem",textTransform:"uppercase"}),v=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1tccgtt-1"})({display:"flex",flexDirection:"column",gap:"1rem"})},78436:function(e,r,l){l.d(r,{Z:function(){return A}});var s=l(85893),d=l(19521),c=l(67294),m=l(79632),p=l(77541),u=l(33697),y=l(68885),h=l(9754);function useForwardedPortsManager(){let[e]=(0,h.mr)(),{forwardedPortsManager:r}=e.manager;return r}var f=l(71251),x=l(87536),v=l(1604),g=l(56312),j=l(24959);let _={ports:[{port:"",udp:!1,tcp:!1}]},w=v.z.object({port:v.z.string().min(1,"Port is required").refine(e=>{let r=parseInt(e,10);return!isNaN(r)&&r>0&&r<=65535},"Port must be between 1 and 65535"),tcp:v.z.boolean(),udp:v.z.boolean()}).refine(e=>e.tcp||e.udp,"At least one protocol (TCP or UDP) must be selected"),S=v.z.object({ports:v.z.array(w).min(1,"At least one port is required")}),C=c.memo(e=>{let{portCtrl:r,tcpCtrl:l,udpCtrl:d,handleRemove:u}=function(e){let{name:r="ports",index:l,control:s,onRemove:d}=e,m=(0,x.bc)({control:s,name:"".concat(r,".").concat(l,".port")}),p=(0,x.bc)({control:s,name:"".concat(r,".").concat(l,".tcp")}),u=(0,x.bc)({control:s,name:"".concat(r,".").concat(l,".udp")}),y=(0,c.useCallback)(()=>{d(l)},[l,d]);return{portCtrl:m,tcpCtrl:p,udpCtrl:u,handleRemove:y}}(e);return(0,s.jsx)(I,{className:"bg-background",children:(0,s.jsxs)(Z,{children:[(0,s.jsxs)(P,{children:[(0,s.jsx)(p.x,{children:"Port"}),(0,s.jsx)(m.oi,{...r.field,...r.fieldState,placeholder:"8080",required:!0,width:"6em",textAlign:"center"})]}),(0,s.jsxs)(b,{children:[(0,s.jsx)(p.x,{children:"TCP"}),(0,s.jsx)(m.XZ,{...l.field,...l.fieldState})]}),(0,s.jsxs)(D,{children:[(0,s.jsx)(p.x,{children:"UDP"}),(0,s.jsx)(m.XZ,{...d.field,...d.fieldState})]}),(0,s.jsx)(k,{children:(0,s.jsx)(m.zx,{type:"button",variant:"warning",kind:"functional",onClick:u,disabled:e.disabled,children:(0,s.jsx)(m.JO,{name:"trash-xmark"})})})]})})});C.displayName="PortItem";let AddPortForm=e=>{let{onSubmit:r,onCancel:l}=e,{name:d,control:p,handleSubmit:u,fields:y,addPortField:h,removePortField:f}=function(e){let{onSubmit:r}=e,l="ports",s=(0,c.useCallback)(async e=>{r(e.ports)},[r]),{control:d,handleSubmit:m}=(0,j.c)({defaultValues:_,resolver:(0,g.F)(S),onSubmit:s}),{fields:p,append:u,remove:y}=(0,x.Dq)({control:d,name:l,shouldUnregister:!0}),h=(0,c.useCallback)(()=>{u({port:"",tcp:!1,udp:!1})},[u]),f=(0,c.useCallback)(e=>{p.length>1&&y(e)},[y,p.length]);return{name:l,control:d,fields:p,handleSubmit:m,addPortField:h,removePortField:f}}({onSubmit:r});return(0,s.jsxs)(E,{onSubmit:u,children:[y.map((e,r)=>(0,s.jsx)(C,{name:d,index:r,control:p,onRemove:f,disabled:1===y.length},e.id)),(0,s.jsxs)(F,{children:[(0,s.jsx)(m.zx,{type:"button",variant:"secondary",kind:"gradient",onClick:h,children:"Add Port"}),(0,s.jsx)(m.zx,{type:"submit",variant:"primary",kind:"gradient",children:"Save"}),(0,s.jsx)(m.zx,{type:"button",variant:"tertiary",onClick:l,children:"Cancel"})]})]})};AddPortForm.displayName="AddPortForm";var N=(0,c.memo)(AddPortForm),I=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-25x9d1-0"})({marginTop:"0.5rem",width:"fit-content",paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"0.75rem",paddingBottom:"0.75rem"}),Z=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-25x9d1-1"})({display:"flex",alignItems:"center",gap:"1rem"}),P=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-25x9d1-2"})({display:"flex",flexDirection:"column",gap:"0.75rem"}),b=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-25x9d1-3"})({display:"flex",flexDirection:"column",gap:"0.75rem"}),D=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-25x9d1-4"})({display:"flex",flexDirection:"column",gap:"0.75rem"}),k=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-25x9d1-5"})({marginBottom:"0.25rem",alignSelf:"flex-end"}),E=(0,d.ZP)("form").withConfig({displayName:"cmp___StyledForm",componentId:"sc-25x9d1-6"})({marginTop:"0.5rem"}),F=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-25x9d1-7"})({marginTop:"1rem",display:"flex",gap:"0.5rem"}),T=l(21836);let EntityPortForwarding=e=>{let{entityHash:r,executableStatus:l,executableManager:d}=e,{showPortForm:x,ports:v,handleAddPort:g,handleCancelAddPort:j,handleRemovePort:_,handleSubmitNewPorts:w}=function(){let{entityHash:e,executableStatus:r,executableManager:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[s]=(0,h.mr)(),{account:d}=s.connection,m=null==d?void 0:d.address,[p,u]=(0,c.useState)((0,f.yX)()),[x,v]=(0,c.useState)(!1),[g,j]=(0,c.useState)(!1),[_,w]=(0,c.useState)(null),S=useForwardedPortsManager(),C=(0,c.useCallback)(async()=>{if(!e||!m||!S){u((0,f.yX)());return}try{let r=await S.getByEntityHash(e),l=(null==r?void 0:r.ports)||{},s=(0,f.gy)(e,m,l),d=(0,f.CH)(e,m,s),c=(0,f.$g)(d),p=[...(0,f.yX)(),...c];u(p),w(null)}catch(e){console.error("Failed to load ports:",e),w("Failed to load ports"),u((0,f.yX)())}},[e,m,S]);(0,c.useEffect)(()=>{C()},[C]),(0,c.useEffect)(()=>{(null==r?void 0:r.mappedPorts)&&u(e=>(0,f.Ph)(e,r.mappedPorts))},[null==r?void 0:r.mappedPorts]);let N=(0,c.useCallback)(e=>{u(r=>[...r,...e]),v(!1),w(null)},[]),I=(0,c.useCallback)(e=>{u(r=>r.filter(r=>r.source!==e)),w(null)},[]),Z=(0,c.useCallback)((e,r)=>{u(l=>l.map(l=>l.source===e?{...l,isRemoving:r}:l))},[]),P=(0,c.useCallback)(e=>{u(e)},[]),b=(0,c.useCallback)(e=>{v(void 0!==e?e:e=>!e)},[]),{notifyCRNUpdate:D,scheduleNotifyCRNUpdate:k}=function(e,r,l){let s=(0,c.useRef)(),d=(0,c.useCallback)(async()=>{if(l&&e&&(null==r?void 0:r.node))try{let s=y.B.normalizeUrl(r.node.address||"");if(!s)return;await l.sendPostOperation({hostname:s,operation:"update",vmId:e,requireSignature:!1})}catch(e){console.error("Failed to notify CRN about port changes:",e)}},[l,e,null==r?void 0:r.node]),m=(0,c.useCallback)(()=>{s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{d()},f.If)},[d]);return(0,c.useEffect)(()=>()=>{s.current&&clearTimeout(s.current)},[]),{notifyCRNUpdate:d,scheduleNotifyCRNUpdate:m}}(e,r,l),{addPorts:E,removePort:F}=function(e,r,l,s,d,m,p,u,y){let h=useForwardedPortsManager(),x=(0,c.useCallback)(async c=>{if(!e||!r||!h||l)return;let u=(0,f.FM)(c);if(0===u.length){null==d||d("No valid ports to add (system ports are reserved)");return}let y=await h.getByEntityHash(e),x=(null==y?void 0:y.ports)?Object.keys(y.ports).length:0,v=(0,f.EJ)(u,x);if(!v.isValid){null==d||d(v.errors.join(", "));return}let g=await h.validatePortConflicts(e,u),j=(0,f.z0)(e,r),_=g.conflicts.filter(e=>{let r=parseInt(e,10);return!j.includes(r)});if(_.length>0){null==d||d("Ports already exist: ".concat(_.join(", ")));return}null==m||m(!0);try{await h.addMultiplePorts(e,u);let l=(0,f.Nw)(u);(0,f.Lx)(e,r,l);let d=u.map(e=>({source:e.port,destination:void 0,tcp:e.tcp,udp:e.udp,isDeletable:!0}));null==p||p(d),null==s||s()}catch(e){console.error("Failed to add ports:",e),null==d||d("Failed to add ports")}finally{null==m||m(!1)}},[e,r,h,l,s,d,m,p]),v=(0,c.useCallback)(async c=>{if(e&&r&&h&&!l){if((0,f.MH)(c)){null==d||d("Cannot remove system port ".concat(c));return}null==y||y(c,!0);try{await h.removePort(e,c),(0,f.Ln)(e,r,parseInt(c,10)),null==u||u(c),null==s||s()}catch(e){console.error("Failed to remove port:",e),null==d||d("Failed to remove port")}finally{null==y||y(c,!1)}}},[e,r,h,l,s,d,u,y]);return{addPorts:x,removePort:v}}(e,m,g,k,w,j,N,I,Z);!function(e,r,l,s,d,m){let p=(0,c.useRef)();(0,c.useEffect)(()=>{if(p.current&&clearInterval(p.current),!l||!e||!(null==r?void 0:r.node))return;let checkForUnmappedPorts=async()=>{try{if(!s||!(0,f.Fo)(s))return;await (null==d?void 0:d());let c=y.B.normalizeUrl(r.node.address||"");if(!c)return;let p={id:e,payment:r.node},u=await l.checkStatus(p);(null==u?void 0:u.mappedPorts)&&(null==m||m(e=>e.map(e=>{var r;let l=null===(r=u.mappedPorts)||void 0===r?void 0:r[e.source];return{...e,destination:null==l?void 0:l.host.toString()}})))}catch(e){console.error("Failed to poll for unmapped ports:",e)}};return p.current=setInterval(checkForUnmappedPorts,f.g_),()=>{p.current&&clearInterval(p.current)}},[l,e,null==r?void 0:r.node,s,d,m])}(e,r,l,p,D,P);let T=(0,c.useCallback)(()=>{b(!0)},[b]),A=(0,c.useCallback)(()=>{b(!1),w(null)},[b]),q=(0,c.useCallback)(async e=>{await F(e)},[F]),z=(0,c.useCallback)(async e=>{await E(e),_||b(!1)},[E,_,b]);return{showPortForm:x,ports:p,isLoading:g,error:_,handleAddPort:T,handleCancelAddPort:A,handleRemovePort:q,handleSubmitNewPorts:z}}({entityHash:r,executableStatus:l,executableManager:d}),S=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(q,{className:"tp-body3 fs-18 text-base2",children:"IPv4 Port Forwarding Details"}),(0,s.jsx)("p",{className:"tp-body2 fs-14",children:"Randomized Source Ports:"}),(0,s.jsx)("p",{className:"tp-body1 fs-14",children:"Source (external) ports are automatically assigned and may change whenever the instance or function is reallocated. Always refer to the instance detail page to verify current mappings."}),(0,s.jsx)(z,{className:"tp-body2 fs-14",children:"Port Limits:"}),(0,s.jsx)("p",{className:"tp-body1 fs-14",children:"You can specify up to 20 internal ports per instance or function. Ensure you enter ports relevant to your service to maintain effective network security and performance."})]});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(B,{className:"tp-h7 fs-24",children:(0,s.jsx)(T.Z,{plain:!0,my:"top-left",at:"top-right",vAlign:"bottom",iconSize:"0.9em",tooltipContent:S,children:"IPV4 PORT FORWARDING"})}),(0,s.jsx)(m.Jy,{children:(0,s.jsxs)(H,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(u.Z,{children:"CONFIGURED PORTS"}),(0,s.jsx)(p.x,{children:"Maximum 20 ports allowed"})]}),v.map(e=>{let{source:r,destination:l,tcp:d,udp:c,isDeletable:u,isRemoving:y}=e;return(0,s.jsxs)(O,{children:[(0,s.jsxs)(R,{children:[(0,s.jsxs)(M,{children:[(0,s.jsx)(p.x,{children:"Source"}),(0,s.jsx)(m.oi,{name:"source-port",dataView:!0,defaultValue:r,required:!0,width:"6em",textAlign:"center"})]}),(0,s.jsx)(K,{className:"text-main0 fs-18",children:"-"}),(0,s.jsxs)(V,{children:[(0,s.jsx)(p.x,{children:"Destination"}),(0,s.jsx)(m.oi,{name:"destination-port",dataView:!0,defaultValue:l,required:!0,width:"6em",textAlign:"center",loading:!l})]})]}),(0,s.jsxs)(U,{children:[(0,s.jsxs)(J,{children:[(0,s.jsx)(p.x,{children:"TCP"}),(0,s.jsx)(m.XZ,{disabled:!0,checked:d})]}),(0,s.jsxs)(L,{children:[(0,s.jsx)(p.x,{children:"UDP"}),(0,s.jsx)(m.XZ,{disabled:!0,checked:c})]}),u&&(0,s.jsx)(X,{children:(0,s.jsx)(m.zx,{variant:"warning",kind:"functional",onClick:()=>_(r),disabled:!!y,children:(0,s.jsx)(m.JO,{name:y?"spinner":"trash-xmark",spin:y})})})]})]},"port-".concat(r))}),(0,s.jsx)(W,{children:x?(0,s.jsx)(N,{onSubmit:w,onCancel:j}):(0,s.jsx)(G,{children:(0,s.jsx)(m.zx,{variant:"secondary",kind:"gradient",onClick:g,children:"Add"})})})]})})]})};EntityPortForwarding.displayName="EntityPortForwarding";var A=(0,c.memo)(EntityPortForwarding),q=(0,d.ZP)("p").withConfig({displayName:"cmp___StyledP",componentId:"sc-12viyya-0"})({marginBottom:"1rem"}),z=(0,d.ZP)("p").withConfig({displayName:"cmp___StyledP2",componentId:"sc-12viyya-1"})({marginTop:"1rem"}),B=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-12viyya-2"})({marginBottom:"0.5rem",display:"flex",alignItems:"center",textTransform:"uppercase"}),H=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-12viyya-3"})({display:"flex",flexDirection:"column",rowGap:"1rem"}),O=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-12viyya-4"})({display:"flex",flexWrap:"wrap",alignItems:"center",gap:"1rem"}),R=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-12viyya-5"})({display:"flex",alignItems:"center",gap:"1rem"}),M=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-12viyya-6"})({display:"flex",flexDirection:"column",gap:"0.75rem"}),K=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-12viyya-7"})({marginBottom:"0.75rem",alignSelf:"flex-end",fontWeight:"700"}),V=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-12viyya-8"})({display:"flex",flexDirection:"column",gap:"0.75rem"}),U=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv8",componentId:"sc-12viyya-9"})({display:"flex",alignItems:"center",gap:"1rem"}),J=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv9",componentId:"sc-12viyya-10"})({display:"flex",flexDirection:"column",gap:"0.75rem"}),L=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv10",componentId:"sc-12viyya-11"})({display:"flex",flexDirection:"column",gap:"0.75rem"}),X=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv11",componentId:"sc-12viyya-12"})({alignSelf:"flex-end"}),W=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv12",componentId:"sc-12viyya-13"})({marginTop:"0.5rem"}),G=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv13",componentId:"sc-12viyya-14"})({marginTop:"0.5rem"})},1131:function(e,r,l){l.d(r,{Z:function(){return x}});var s=l(85893),d=l(19521),c=l(67294),m=l(79632),p=l(47104),u=l(77541),y=l(29159),h=l(9911),f=l(33697);let EntitySSHKeys=e=>{let{sshKeys:r,onSSHKeyClick:l}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v,{className:"tp-h7 fs-24",children:"SSH KEYS"}),(0,s.jsx)(m.Jy,{children:(0,s.jsx)(g,{children:r.length?r.map(e=>e&&(0,s.jsxs)(y.Z,{onClick:()=>{l(e)},children:[(0,s.jsx)(j,{id:h.DA[h.py.SSHKey],color:"base2",size:"2.5rem"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(f.Z,{children:"SSH KEY NAME"}),(0,s.jsx)(u.x,{children:e.label})]}),(0,s.jsx)(_,{name:"eye",className:"openEntityIcon"})]},null==e?void 0:e.id)):(0,s.jsxs)(w,{children:[(0,s.jsx)(S,{id:h.DA[h.py.SSHKey],color:"main0",size:"2.5rem"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(f.Z,{children:"SSH KEY NAME"}),(0,s.jsx)(u.x,{children:(0,s.jsx)(p.Z,{width:"9rem"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(f.Z,{children:"CREATED ON"}),(0,s.jsx)(u.x,{children:(0,s.jsx)(p.Z,{width:"14rem"})})]})]})})})]})};EntitySSHKeys.displayName="EntitySSHKeys";var x=(0,c.memo)(EntitySSHKeys),v=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1wen0ti-0"})({marginBottom:"0.5rem",textTransform:"uppercase"}),g=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1wen0ti-1"})({display:"flex",flexWrap:"wrap",gap:"1rem"}),j=(0,d.ZP)(m._7).withConfig({displayName:"cmp___StyledObjectImg",componentId:"sc-1wen0ti-2"})({minHeight:"3rem",minWidth:"3rem"}),_=(0,d.ZP)(m.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-1wen0ti-3"})({position:"absolute",right:"0.5rem",top:"0.5rem"}),w=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1wen0ti-4"})({display:"flex",alignItems:"center",gap:"1.5rem"}),S=(0,d.ZP)(m._7).withConfig({displayName:"cmp___StyledObjectImg2",componentId:"sc-1wen0ti-5"})({minHeight:"3rem",minWidth:"3rem"})},18995:function(e,r,l){l.d(r,{Z:function(){return v}});var s=l(85893),d=l(19521),c=l(67294),m=l(79632),p=l(47104),u=l(76696),y=l(77541),h=l(49107),f=l(9911),x=l(33697);let InstanceDetails=e=>{let{instance:r}=e,l=(0,m.vx)((null==r?void 0:r.id)||"");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g,{className:"tp-h7 fs-24",children:"INSTANCE DETAILS"}),(0,s.jsx)(m.Jy,{children:(0,s.jsxs)(j,{children:[(0,s.jsx)(_,{id:f.DA[f.py.Instance],color:"main0",size:"6rem"}),(0,s.jsxs)(w,{children:[(0,s.jsxs)(S,{children:[(0,s.jsx)(x.Z,{children:"ITEM HASH"}),r?(0,s.jsx)(u.Z,{iconName:"copy",onClick:l,children:r.id}):(0,s.jsx)(p.Z,{width:"100%"})]}),(0,s.jsxs)(C,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(x.Z,{children:"CORES"}),(0,s.jsx)("div",{children:(0,s.jsx)(N,{children:(null==r?void 0:r.resources)?"".concat(r.resources.vcpus," x86 64bit"):(0,s.jsx)(p.Z,{width:"7rem"})})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x.Z,{children:"RAM"}),(0,s.jsx)("div",{children:(0,s.jsx)(y.x,{children:(null==r?void 0:r.resources)?(0,h.Fx)(r.resources.memory,{from:"MiB",to:"GiB",displayUnit:!0}):(0,s.jsx)(p.Z,{width:"4rem"})})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x.Z,{children:"HDD"}),(0,s.jsx)("div",{children:(0,s.jsx)(y.x,{children:r?(0,h.Fx)(r.size,{from:"MiB",to:"GiB",displayUnit:!0}):(0,s.jsx)(p.Z,{width:"6rem"})})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x.Z,{children:"EXPLORER"}),(0,s.jsx)("div",{children:r?(0,s.jsx)("a",{className:"tp-body1 fs-16",href:r.url,target:"_blank",referrerPolicy:"no-referrer",children:(0,s.jsx)(u.Z,{iconName:"square-up-right",children:(0,s.jsx)(y.x,{children:(0,h.bs)(r.url,80)})})}):(0,s.jsx)(p.Z,{width:"20rem"})})]})]})]})})]})};InstanceDetails.displayName="InstanceDetails";var v=(0,c.memo)(InstanceDetails),g=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-12dwqoj-0"})({marginBottom:"0.5rem",textTransform:"uppercase"}),j=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-12dwqoj-1"})({display:"flex",gap:"1rem"}),_=(0,d.ZP)(m._7).withConfig({displayName:"cmp___StyledObjectImg",componentId:"sc-12dwqoj-2"})({minHeight:"7rem",minWidth:"7rem"}),w=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-12dwqoj-3"})({display:"flex",width:"100%",flexDirection:"column",gap:"1rem"}),S=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-12dwqoj-4"})({width:"100%"}),C=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-12dwqoj-5"})({display:"flex",flexWrap:"wrap",gap:"1rem"}),N=(0,d.ZP)(y.x).withConfig({displayName:"cmp___StyledText",componentId:"sc-12dwqoj-6"})({display:"flex",alignItems:"center",gap:"0.25rem"})},24959:function(e,r,l){l.d(r,{c:function(){return useForm}});var s=l(79632),d=l(67294),c=l(87536),m=l(1604),p=l(50586);function useForm(e){let{onSubmit:r,onSuccess:l,onError:u,readyDeps:y=[],...h}=e,f=(0,c.cI)(h);(0,d.useEffect)(()=>{"object"==typeof h.defaultValues&&f.reset(h.defaultValues)},[...y]);let[x,v]=(0,d.useState)({data:void 0,error:void 0,loading:!1}),[g,{onLoad:j,onSuccess:_,onError:w}]=(0,s.g7)({flushData:!0,state:x,setState:v,onSuccess:l,onError:u}),S=(0,d.useCallback)(async e=>{try{j();let l=await r(e);_(l)}catch(r){let e=r instanceof m.jm?p.Z.ValidationError:(null==r?void 0:r.cause)||r;f.setError("root.serverError",{...e,message:null==e?void 0:e.message}),w(e)}},[f,w,j,r,_]),C=(0,d.useCallback)(async e=>{let r;if(console.log(e),!r){let l=function getFirstError(e){let[r]=Object.entries(e);if(!r)return;let[l,s]=r;if(Array.isArray(s)){let e=s[s.length-1];return getFirstError(e)}return[l,s]}(e);if(l){let[e,s]=l,d="string"==typeof s?s:(null==s?void 0:s.message)?": ".concat(s.message):(null==s?void 0:s.type)?': "'.concat(null==s?void 0:s.type,'" validation not satisfied'):"";r=p.Z.FieldError(e,d)}}r||(r=p.Z.ValidationError),w(r)},[w]),N=(0,d.useMemo)(()=>f.handleSubmit(S,C),[f,S,C]);return{...f,requestState:g,handleSubmit:N}}},18395:function(e,r,l){l.d(r,{p:function(){return useSSHKeyManager}});var s=l(9754);function useSSHKeyManager(){let[e]=(0,s.mr)(),{sshKeyManager:r}=e.manager;return r}},68091:function(e,r,l){l.d(r,{X:function(){return useRequestSSHKeys}});var s=l(18395),d=l(77205);function useRequestSSHKeys(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,s.p)();return(0,d.F)({...e,manager:r,name:"ssh"})}},56312:function(e,r,l){l.d(r,{F:function(){return zod_t}});var s=l(87536),t=function(e,r,l){if(e&&"reportValidity"in e){var d=(0,s.U2)(l,r);e.setCustomValidity(d&&d.message||""),e.reportValidity()}},resolvers_i=function(e,r){var i=function(l){var s=r.fields[l];s&&s.ref&&"reportValidity"in s.ref?t(s.ref,l,e):s.refs&&s.refs.forEach(function(r){return t(r,l,e)})};for(var l in r.fields)i(l)},n=function(e,r){r.shouldUseNativeValidation&&resolvers_i(e,r);var l={};for(var d in e){var c=(0,s.U2)(r.fields,d),m=Object.assign(e[d]||{},{ref:c&&c.ref});if(a(r.names||Object.keys(e),d)){var p=Object.assign({},o((0,s.U2)(l,d)));(0,s.t8)(p,"root",m),(0,s.t8)(l,d,p)}else(0,s.t8)(l,d,m)}return l},o=function(e){return Array.isArray(e)?e.filter(Boolean):[]},a=function(e,r){return e.some(function(e){return e.startsWith(r+".")})},zod_n=function(e,r){for(var l={};e.length;){var d=e[0],c=d.code,m=d.message,p=d.path.join(".");if(!l[p]){if("unionErrors"in d){var u=d.unionErrors[0].errors[0];l[p]={message:u.message,type:u.code}}else l[p]={message:m,type:c}}if("unionErrors"in d&&d.unionErrors.forEach(function(r){return r.errors.forEach(function(r){return e.push(r)})}),r){var y=l[p].types,h=y&&y[d.code];l[p]=(0,s.KN)(p,r,l,c,h?[].concat(h,d.message):d.message)}e.shift()}return l},zod_t=function(e,r,l){return void 0===l&&(l={}),function(s,d,c){try{return Promise.resolve(function(d,m){try{var p=Promise.resolve(e["sync"===l.mode?"parse":"parseAsync"](s,r)).then(function(e){return c.shouldUseNativeValidation&&resolvers_i({},c),{errors:{},values:l.raw?s:e}})}catch(e){return m(e)}return p&&p.then?p.then(void 0,m):p}(0,function(e){if(null!=e.errors)return{values:{},errors:n(zod_n(e.errors,!c.shouldUseNativeValidation&&"all"===c.criteriaMode),c)};throw e}))}catch(e){return Promise.reject(e)}}}}}]);