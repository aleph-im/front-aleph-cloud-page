"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[730],{83842:function(e,t,n){n.d(t,{up:function(){return l},ZP:function(){return d}});var i=n(19521);let a=i.ZP.div.withConfig({displayName:"styles__StyledFlatCardContainer",componentId:"sc-atft2w-0"})(["",""],{display:"flex",flexWrap:"nowrap",alignItems:"center",justifyContent:"flex-start",gap:"1.5rem","@media (min-width: 48rem)":{flexWrap:"wrap",justifyContent:"space-evenly"}}),r=i.ZP.div.withConfig({displayName:"styles__StyledFlatCard",componentId:"sc-atft2w-1"})(["",""],e=>{let{theme:t,$selected:n,$disabled:a}=e;return(0,i.iv)([""," "," color:",";border:0.1875rem solid transparent;border-radius:1.5rem;background:linear-gradient( 118deg,"," 26.64%,#f4ecff66 118.38% );background-origin:border-box;"," &:hover{border-color:",";border-width:0.1875rem;box-shadow:0px 4px 24px 0px rgba(81,0,205,0.45);backdrop-filter:blur(50px);}",""],{position:"relative",display:"flex",flexShrink:"0",cursor:"pointer",flexDirection:"column",alignItems:"center",justifyContent:"center"},{transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"300ms"},t.color.main0,t.color.purple2,n&&(0,i.iv)(["border-color:",";border-width:0.1875rem;"],t.color.main0),t.color.main0,a&&(0,i.iv)(["filter:grayscale(1);"]))}),l=a;var d=r},48998:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(85893),a=n(19521),r=n(67294),l=n(79632),d=n(87536),c=n(68091);let o={key:"",isSelected:!0,isNew:!0},s=r.memo(e=>{let{keyCtrl:t,labelCtrl:n,isSelectedCtrl:a,allowRemove:c,isNew:o,handleRemove:s}=function(e){let{name:t="sshKeys",index:n,control:i,allowRemove:a,defaultValue:l,onRemove:c}=e,o=(0,d.bc)({control:i,name:"".concat(t,".").concat(n,".isSelected"),defaultValue:null==l?void 0:l.isSelected}),s=(0,d.bc)({control:i,name:"".concat(t,".").concat(n,".key"),defaultValue:null==l?void 0:l.key}),m=(0,d.bc)({control:i,name:"".concat(t,".").concat(n,".label"),defaultValue:null==l?void 0:l.label}),u=(0,d.bc)({control:i,name:"".concat(t,".").concat(n,".isNew"),defaultValue:(null==l?void 0:l.isNew)||!1}),f=u.field.value,p=(0,r.useCallback)(()=>{f&&c(n)},[n,f,c]);return{index:n,isSelectedCtrl:o,keyCtrl:s,labelCtrl:m,allowRemove:a,isNew:f,handleRemove:p}}(e);return(0,i.jsxs)(i.Fragment,{children:[a.fieldState.error&&(0,i.jsx)(l.Xq,{error:a.fieldState.error}),(0,i.jsxs)(f,{children:[(0,i.jsx)(p,{children:(0,i.jsx)(l.XZ,{...a.field,...a.fieldState,checked:!!a.field.value})}),(0,i.jsxs)(g,{children:[(0,i.jsx)(y,{children:(0,i.jsx)(l.oi,{...t.field,...t.fieldState,required:!0,label:"Key",placeholder:"AAAAB3NzaC1yc2EAAAAB ... B3NzaaC1==",dataView:!o})}),(0,i.jsx)(b,{children:(0,i.jsx)(l.oi,{...n.field,...n.fieldState,label:"Label",placeholder:"me@email.com",dataView:!o})}),c&&(0,i.jsx)(h,{children:o&&(0,i.jsx)(l.zx,{type:"button",kind:"functional",variant:"warning",size:"md",onClick:s,children:(0,i.jsx)(l.JO,{name:"trash"})})})]})]})]})});s.displayName="SSHKeyItem";let m=r.memo(e=>{let{name:t,control:n,fields:a,handleAdd:m,handleRemove:u,allowRemove:f}=function(e){let{name:t="sshKeys",control:n}=e,i=(0,d.Dq)({control:n,name:t}),{remove:a,append:l,replace:s,prepend:m}=i,u=i.fields,{entities:f}=(0,c.X)(),p=(0,r.useMemo)(()=>(f||[]).map((e,t)=>{let{key:n,label:i=""}=e;return{key:n,label:i,isSelected:0===t,isNew:!1}}),[f]);(0,r.useEffect)(()=>{let e=p;if(0===e.length)return;if(0===u.length){s(e);return}let t=new Set(u.map(e=>e.key));0!==(e=p.filter(e=>!t.has(e.key))).length&&m(e)},[p,u,s,m]);let g=(0,r.useMemo)(()=>u.some(e=>e.isNew),[u]),y=(0,r.useCallback)(()=>{l({...o})},[l]);return{name:t,control:n,fields:u,handleAdd:y,handleRemove:a,allowRemove:g}}(e),p=a.map((e,t)=>({...e,index:t})).filter(e=>!e.isNew),g=a.map((e,t)=>({...e,index:t})).filter(e=>!!e.isNew);return(0,i.jsxs)(i.Fragment,{children:[a.length>0&&(0,i.jsx)(l.Jy,{children:(0,i.jsxs)(x,{children:[p.length>0&&(0,i.jsxs)(v,{children:[(0,i.jsx)(w,{forwardedAs:"h3",type:"h7",children:"Existing key list"}),p.map(e=>(0,i.jsx)(s,{name:t,index:e.index,control:n,allowRemove:!0,defaultValue:e,onRemove:u},e.id))]}),g.length>0&&(0,i.jsxs)(S,{children:[(0,i.jsx)(_,{forwardedAs:"h3",type:"h7",children:"New keys"}),g.map(e=>(0,i.jsx)(s,{name:t,index:e.index,control:n,allowRemove:f,defaultValue:e,onRemove:u},e.id))]})]})}),(0,i.jsx)(C,{children:(0,i.jsx)(l.zx,{type:"button",variant:"secondary",color:"main0",size:"md",onClick:m,children:"Add SSH key"})})]})});m.displayName="AddSSHKeys";var u=m,f=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1uniisg-0"})({display:"flex",gap:"1.5rem"}),p=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1uniisg-1"})({display:"flex",alignItems:"flex-start",paddingTop:"2.75rem"}),g=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1uniisg-2"})({display:"flex",flex:"1 1 auto",flexDirection:"column",gap:"1.5rem","@media (min-width: 48rem)":{flexDirection:"row"}}),y=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-1uniisg-3"})({flex:"1 1 auto"}),b=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-1uniisg-4"})({"@media (min-width: 48rem)":{width:"33.333333%"}}),h=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-1uniisg-5"})({display:"flex",width:"3.5rem",alignItems:"flex-end",paddingBottom:"0.5rem","@media (min-width: 48rem)":{justifyContent:"center"}}),x=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-1uniisg-6"})({display:"flex",flexDirection:"column",gap:"2.5rem",paddingBottom:"1.5rem"}),v=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv8",componentId:"sc-1uniisg-7"})({display:"flex",flexDirection:"column",gap:"1.5rem"}),w=(0,a.ZP)(l.DU).withConfig({displayName:"cmp___StyledTextGradient",componentId:"sc-1uniisg-8"})({marginBottom:"0px",alignSelf:"flex-start"}),S=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv9",componentId:"sc-1uniisg-9"})({display:"flex",flexDirection:"column",gap:"1.5rem"}),_=(0,a.ZP)(l.DU).withConfig({displayName:"cmp___StyledTextGradient2",componentId:"sc-1uniisg-10"})({marginBottom:"0px",alignSelf:"flex-start"}),C=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv10",componentId:"sc-1uniisg-11"})({marginLeft:"1.5rem",marginRight:"1.5rem",marginTop:"1.5rem"})},47465:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(85893),a=n(19521),r=n(67294),l=n(11163),d=n(31776),c=n(79632),o=n(83842);let s=(0,a.ZP)(o.ZP).withConfig({displayName:"styles__StyledFlatCardButton",componentId:"sc-17g2frl-0"})(["height:10.125rem;width:13.875rem;",""],(0,c.gn)("md",(0,a.iv)(["width:30%;"]))),m=(0,r.memo)((0,r.forwardRef)((e,t)=>{let{option:n,index:a,value:d,onChange:c}=e,o=d===n.id,m=function(){let{basePath:e}=(0,l.useRouter)();return e}(),u=(0,r.useCallback)(()=>{n.disabled||c(n.id)},[n,c]),f=(0,r.useCallback)(e=>{("Space"===e.code||"Enter"===e.code)&&(e.preventDefault(),c(n.id))},[n,c]);return(0,i.jsxs)(s,{onClick:u,$selected:o,$disabled:n.disabled,ref:0===a?t:void 0,tabIndex:0,onKeyDown:f,children:[(0,i.jsx)(p,{src:"".concat("".concat(m,"/img"),"/image/").concat(n.dist,".svg"),alt:"".concat(n.name," logo")}),(0,i.jsx)("span",{className:"tp-body1 fs-10",children:n.name})]})}));m.displayName="SelectInstanceImageItem";let u=(0,r.memo)(e=>{let{imageCtrl:t,options:n}=(0,d.Bh)(e);return(0,i.jsxs)(g,{children:[(0,i.jsx)(o.up,{children:n.map((e,n)=>(0,i.jsx)(m,{...t.field,index:n,option:e},e.id))}),t.fieldState.error&&(0,i.jsx)(c.Xq,{error:t.fieldState.error})]})});u.displayName="SelectInstanceImage";var f=u,p=(0,a.ZP)("img").withConfig({displayName:"cmp___StyledImg",componentId:"sc-gz18i0-0"})({marginBottom:"1rem"}),g=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-gz18i0-1"})({width:"100%",overflowX:"auto","@media (min-width: 48rem)":{overflowX:"visible"}})},99978:function(e,t,n){n.d(t,{U:function(){return useInstanceManager}});var i=n(55640);function useInstanceManager(){let[e]=(0,i.mr)(),{instanceManager:t}=e.manager;return t}},18395:function(e,t,n){n.d(t,{p:function(){return useSSHKeyManager}});var i=n(55640);function useSSHKeyManager(){let[e]=(0,i.mr)(),{sshKeyManager:t}=e.manager;return t}},68091:function(e,t,n){n.d(t,{X:function(){return useRequestSSHKeys}});var i=n(68607),a=n(18395),r=n(36949),l=n(55640);function useRequestSSHKeys(){let{id:e,triggerDeps:t=[],triggerOnMount:n=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[d]=(0,l.mr)(),{account:c}=d.connection;t=[c,...t];let o=(0,a.p)(),{data:s,request:m}=(0,i.M)({name:"ssh",doRequest:async()=>{if(!o)return[];if(!e)return o.getAll();{let t=await o.get(e);return t?[t]:[]}},onSuccess:()=>null,flushData:!e,triggerOnMount:n,triggerDeps:t});return(0,r.C)({entities:s,request:m,triggerOnMount:n}),{entities:s}}},36949:function(e,t,n){n.d(t,{C:function(){return useRetryNotConfirmedEntities}});var i=n(67294);function useRetryNotConfirmedEntities(e){let{entities:t=[],request:n,triggerOnMount:a}=e;(0,i.useEffect)(()=>{if(!a)return;let e=(Array.isArray(t)?t:[t]).filter(e=>!e.confirmed);if(!e.length)return;let i=setInterval(n,1e4);return()=>clearInterval(i)},[t,n,a])}},68607:function(e,t,n){n.d(t,{M:function(){return useAppStoreEntityRequest}});var i=n(67294),a=n(55640),r=n(9324),l=n(79632);function useAppStoreEntityRequest(e){let[t,n]=(0,a.mr)();return function(e){let{state:t,dispatch:n,name:a,...d}=e,c=t[a],o=(0,i.useMemo)(()=>{let{entities:e,keys:t,...n}=c;return{data:e,...n}},[c]);return(0,l.QT)({state:o,setState:e=>n(new r.B9({name:a,state:e})),...d})}({state:t,dispatch:n,...e})}},31776:function(e,t,n){n.d(t,{iJ:function(){return d},Bh:function(){return useSelectInstanceImage}}),(a=r||(r={})).Debian11="887957042bb0e360da3485ed33175882ce72a70d79f1ba599400ff4802b7cee7",a.Debian12="6e30de68c6cedfa6b45240c2b51e52495ac6fb1bd4b36457b3d5ca307594d595",a.Ubuntu22="77fef271aa6ff9825efa3186ca2e715d19e7108279b817201c69c34cedc74c27";let i={"887957042bb0e360da3485ed33175882ce72a70d79f1ba599400ff4802b7cee7":{id:"887957042bb0e360da3485ed33175882ce72a70d79f1ba599400ff4802b7cee7",name:"Debian 11 “Bullseye”",dist:"debian"},"6e30de68c6cedfa6b45240c2b51e52495ac6fb1bd4b36457b3d5ca307594d595":{id:"6e30de68c6cedfa6b45240c2b51e52495ac6fb1bd4b36457b3d5ca307594d595",name:"Debian 12 “Bookworm”",dist:"debian"},"77fef271aa6ff9825efa3186ca2e715d19e7108279b817201c69c34cedc74c27":{id:"77fef271aa6ff9825efa3186ca2e715d19e7108279b817201c69c34cedc74c27",name:"Ubuntu 22.04 LTS",dist:"ubuntu"}};var a,r,l=n(87536);let d=r.Debian11,c=[i[r.Debian11],i[r.Debian12],i[r.Ubuntu22]];function useSelectInstanceImage(e){let{name:t="image",control:n,defaultValue:i,options:a}=e,r=(0,l.bc)({control:n,name:t,defaultValue:i});return{imageCtrl:r,options:a||c}}}}]);