"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[747],{36846:function(e,i,n){n.d(i,{LY:function(){return v},nx:function(){return u}});var a=n(85893),t=n(19521),o=n(79632),l=n(67294),d=n(93396),m=n(65148),s=n(26081),r=n(49107);let c=(0,l.memo)(e=>{let{onRemove:i}=e;return(0,a.jsx)(y,{children:(0,a.jsx)(o.zx,{type:"button",kind:"functional",variant:"warning",size:"md",onClick:i,children:"Remove"})})});c.displayName="RemoveVolume";let u=(0,l.memo)(e=>{let{isStandAlone:i,fileCtrl:n,mountPathCtrl:t,useLatestCtrl:l,volumeSize:m,handleRemove:r}=(0,d.Yl)(e);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x,{children:"Create and configure new volumes for your web3 function by either uploading a dependency file or a squashfs volume. Volumes play a crucial role in managing dependencies and providing a volume within your application."}),(0,a.jsxs)("div",{children:[i?(0,a.jsx)(o.Jy,{children:(0,a.jsxs)(s.Z,{...n.field,...n.fieldState,label:"Upload volume file",required:!0,children:["Upload volume ",(0,a.jsx)(w,{name:"arrow-up"})]})}):(0,a.jsx)(_,{children:(0,a.jsxs)(s.Z,{...n.field,...n.fieldState,children:["Upload squashfs volume ",(0,a.jsx)(j,{name:"arrow-up"})]})}),!i&&(0,a.jsx)(b,{children:(0,a.jsx)(o.oi,{...t.field,...t.fieldState,required:!0,label:"Mount",placeholder:"/mount/opt"})}),n.field.value&&(0,a.jsx)(P,{children:(0,a.jsx)(o.oi,{label:"Size",name:"size",value:m,disabled:!0})}),!i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S,{children:(0,a.jsx)(o.XZ,{...l.field,...l.fieldState,label:"Always update to the latest version"})}),r&&(0,a.jsx)(c,{onRemove:r})]})]})]})});u.displayName="AddNewVolume";let p=(0,l.memo)(e=>{let{refHashCtrl:i,mountPathCtrl:n,useLatestCtrl:t,volumeSize:l,handleRemove:m}=(0,d.Ox)(e);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N,{children:"Link existing volumes to your web3 function by pasting the reference hash associated with each volume. Volumes are an essential component for managing dependencies within your application."}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsx)(o.oi,{...n.field,...n.fieldState,required:!0,label:"Mount",placeholder:"/mount/opt"})}),(0,a.jsx)(V,{children:(0,a.jsx)(o.oi,{...i.field,...i.fieldState,required:!0,label:"Item hash",placeholder:"3335ad270a571b..."})}),i.field.value&&l&&(0,a.jsx)(q,{children:(0,a.jsx)(o.oi,{label:"Size",name:"size",value:l,disabled:!0})}),(0,a.jsx)(C,{children:(0,a.jsx)(o.XZ,{...t.field,...t.fieldState,checked:!!t.field.value,label:"Always update to the latest version"})}),m&&(0,a.jsx)(c,{onRemove:m})]})]})});p.displayName="AddExistingVolume";let f=(0,l.memo)(e=>{let{nameCtrl:i,mountPathCtrl:n,sizeCtrl:t,sizeValue:l,sizeHandleChange:m,handleRemove:s}=(0,d.BB)(e);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Z,{children:"Create and configure persistent storage for your web3 functions, enabling your application to maintain data across multiple invocations or sessions. You can set up a customized storage solution tailored to your application's requirements."}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsx)(o.oi,{...i.field,...i.fieldState,required:!0,label:"Volume name",placeholder:"Redis volume"})}),(0,a.jsx)(z,{children:(0,a.jsx)(o.oi,{...n.field,...n.fieldState,required:!0,label:"Mount",placeholder:"/mount/opt"})}),(0,a.jsx)(B,{children:(0,a.jsx)(o.oi,{...t.field,...t.fieldState,value:l,onChange:m,required:!0,type:"number",label:"Size (GB)",placeholder:"0"})}),s&&(0,a.jsx)(c,{onRemove:s})]})]})});f.displayName="AddPersistentVolume";let v=(0,l.memo)(e=>{let{size:i}=e,n=(0,r.Fx)(i,{from:"MiB",to:"GiB",displayUnit:!1});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I,{children:"This system volume is included with your setup. You can easily expand your storage capacity to meet your application's requirements by adding additional volumes below."}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsx)(o.oi,{name:"system_volume_name",required:!0,label:"Volume name",placeholder:"Redis volume",value:"System Volume",dataView:!0})}),(0,a.jsx)(T,{children:(0,a.jsx)(o.oi,{name:"system_volume_mount",required:!0,label:"Mount",placeholder:"/mount/opt",value:"/",dataView:!0})}),(0,a.jsx)(A,{children:(0,a.jsx)(o.oi,{name:"system_volume_size",required:!0,type:"number",label:"Size (GB)",placeholder:"0",value:n,dataView:!0})})]})]})});v.displayName="InstanceSystemVolume";let h={[m.z.New]:u,[m.z.Existing]:p,[m.z.Persistent]:f},g=(0,l.memo)(e=>{let{volumeTypeCtrl:i,defaultValue:n,...t}=(0,d.Kn)(e),s=i.field.value,r=(0,l.useMemo)(()=>h[s],[s]),c=(0,l.useMemo)(()=>[{id:m.z.New,name:"New volume"},{id:m.z.Existing,name:"Existing volume"},{id:m.z.Persistent,name:"Persistent Storage"}],[]);return(0,a.jsxs)(D,{className:"bg-base1",children:[(0,a.jsx)(R,{children:(0,a.jsx)(o.mQ,{selected:s,align:"left",onTabChange:i.field.onChange,tabs:c})}),(0,a.jsx)("div",{role:"tabpanel",children:(0,a.jsx)(r,{...t,defaultValue:n})})]})});g.displayName="AddVolume",i.ZP=g;var y=(0,t.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-de6qwa-0"})({marginTop:"1rem",paddingTop:"1.5rem",textAlign:"right"}),x=(0,t.ZP)("p").withConfig({displayName:"cmp___StyledP",componentId:"sc-de6qwa-1"})({marginBottom:"1.5rem",marginTop:"0.25rem"}),w=(0,t.ZP)(o.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-de6qwa-2"})({marginLeft:"1rem"}),_=(0,t.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-de6qwa-3"})({paddingTop:"1rem",paddingBottom:"1rem"}),j=(0,t.ZP)(o.JO).withConfig({displayName:"cmp___StyledIcon2",componentId:"sc-de6qwa-4"})({marginLeft:"1rem"}),b=(0,t.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-de6qwa-5"})({marginTop:"1rem"}),P=(0,t.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-de6qwa-6"})({marginTop:"1rem"}),S=(0,t.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-de6qwa-7"})({marginTop:"1rem",paddingTop:"1rem",paddingBottom:"1rem"}),N=(0,t.ZP)("p").withConfig({displayName:"cmp___StyledP2",componentId:"sc-de6qwa-8"})({marginBottom:"1.5rem",marginTop:"0.25rem"}),V=(0,t.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-de6qwa-9"})({marginTop:"1rem"}),q=(0,t.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-de6qwa-10"})({marginTop:"1rem"}),C=(0,t.ZP)("div").withConfig({displayName:"cmp___StyledDiv8",componentId:"sc-de6qwa-11"})({marginTop:"1rem",paddingTop:"1rem",paddingBottom:"1rem"}),Z=(0,t.ZP)("p").withConfig({displayName:"cmp___StyledP3",componentId:"sc-de6qwa-12"})({marginBottom:"1.5rem"}),z=(0,t.ZP)("div").withConfig({displayName:"cmp___StyledDiv9",componentId:"sc-de6qwa-13"})({marginTop:"1rem"}),B=(0,t.ZP)("div").withConfig({displayName:"cmp___StyledDiv10",componentId:"sc-de6qwa-14"})({marginTop:"1rem"}),I=(0,t.ZP)("p").withConfig({displayName:"cmp___StyledP4",componentId:"sc-de6qwa-15"})({marginBottom:"1.5rem"}),T=(0,t.ZP)("div").withConfig({displayName:"cmp___StyledDiv11",componentId:"sc-de6qwa-16"})({marginTop:"1rem"}),A=(0,t.ZP)("div").withConfig({displayName:"cmp___StyledDiv12",componentId:"sc-de6qwa-17"})({marginTop:"1rem"}),D=(0,t.ZP)("div").withConfig({displayName:"cmp___StyledDiv13",componentId:"sc-de6qwa-18"})({padding:"1.5rem"}),R=(0,t.ZP)("div").withConfig({displayName:"cmp___StyledDiv14",componentId:"sc-de6qwa-19"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"0.75rem"})},34747:function(e,i,n){n.d(i,{Z:function(){return a.ZP},n:function(){return a.nx}});var a=n(36846)},93396:function(e,i,n){n.d(i,{BB:function(){return useAddPersistentVolumeProps},Kn:function(){return useAddVolume},Ox:function(){return useAddExistingVolumeProps},Yl:function(){return useAddNewVolumeProps},Yz:function(){return d}});var a=n(67294),t=n(49107),o=n(65148),l=n(87536);let d={volumeType:o.z.New};function useAddNewVolumeProps(e){let{name:i="",index:n,control:d,defaultValue:m,onRemove:s}=e,r=void 0===n,c=r?i:"".concat(i,".").concat(n),u=(0,l.bc)({control:d,name:"".concat(c,".file"),defaultValue:null==m?void 0:m.file}),p=(0,l.bc)({control:d,name:"".concat(c,".mountPath"),defaultValue:null==m?void 0:m.mountPath}),f=(0,l.bc)({control:d,name:"".concat(c,".useLatest"),defaultValue:null==m?void 0:m.useLatest}),{value:v}=u.field,[h,g]=(0,a.useState)("");return(0,a.useEffect)(()=>{(async function(){let e=await o.l.getVolumeSize({volumeType:o.z.New,file:v}),i=(0,t.eB)(e,"MiB");g(i)})()},[v]),{isStandAlone:void 0===n,fileCtrl:u,mountPathCtrl:p,useLatestCtrl:f,volumeSize:h,handleRemove:s}}function useAddExistingVolumeProps(e){let{name:i="",index:n,control:d,defaultValue:m,onRemove:s}=e,r=(0,l.bc)({control:d,name:"".concat(i,".").concat(n,".refHash"),defaultValue:null==m?void 0:m.refHash}),c=(0,l.bc)({control:d,name:"".concat(i,".").concat(n,".mountPath"),defaultValue:null==m?void 0:m.mountPath}),u=(0,l.bc)({control:d,name:"".concat(i,".").concat(n,".useLatest"),defaultValue:null==m?void 0:m.useLatest}),{value:p}=r.field,[f,v]=(0,a.useState)("");return(0,a.useEffect)(()=>{(async function(){let e=await o.l.getVolumeSize({volumeType:o.z.Existing,refHash:p}),i=(0,t.eB)(e,"MiB");v(i)})()},[p]),{refHashCtrl:r,mountPathCtrl:c,useLatestCtrl:u,volumeSize:f,handleRemove:s}}function useAddPersistentVolumeProps(e){let{name:i="",index:n,control:o,defaultValue:d,onRemove:m}=e,s=(0,l.bc)({control:o,name:"".concat(i,".").concat(n,".name"),defaultValue:null==d?void 0:d.name}),r=(0,l.bc)({control:o,name:"".concat(i,".").concat(n,".mountPath"),defaultValue:null==d?void 0:d.mountPath}),c=(0,l.bc)({control:o,name:"".concat(i,".").concat(n,".size"),defaultValue:null==d?void 0:d.size}),u=(0,a.useCallback)(e=>{let i=Number(e.target.value),n=(0,t.Fx)(i,{from:"GiB",to:"MiB",displayUnit:!1});c.field.onChange(n)},[c.field]),p=(0,a.useMemo)(()=>c.field.value?(0,t.Fx)(c.field.value,{from:"MiB",to:"GiB",displayUnit:!1}):void 0,[c.field]);return{nameCtrl:s,mountPathCtrl:r,sizeCtrl:c,sizeValue:p,sizeHandleChange:u,handleRemove:m}}function useAddVolume(e){let{name:i="volumes",index:n,control:t,defaultValue:d,onRemove:m}=e,s=void 0===n,r=s?i:"".concat(i,".").concat(n),c=(0,l.bc)({control:t,name:"".concat(r,".volumeType"),defaultValue:o.z.New}),u=(0,a.useCallback)(()=>{m&&m(n)},[n,m]);return{name:i,index:n,control:t,volumeTypeCtrl:c,defaultValue:d,onRemove:u}}}}]);