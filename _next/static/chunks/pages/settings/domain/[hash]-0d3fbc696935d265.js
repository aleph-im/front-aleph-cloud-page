(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[529],{45913:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/domain/[hash]",function(){return n(44538)}])},23968:function(e,i,n){"use strict";n.d(i,{_:function(){return HoldTokenDisclaimer}});var t=n(85893),a=n(19521),s=n(67294);let HoldTokenDisclaimer=()=>(0,t.jsx)(r,{children:"Acquire aleph.im tokens for versatile access to resources within a defined duration. These tokens remain in your wallet without being locked or consumed, providing you with flexibility in utilizing aleph.im's infrastructure. If you choose to remove the tokens from your wallet, the allocated resources will be efficiently reclaimed. Feel free to use or hold the tokens according to your needs, even when not actively using Aleph.im's resources."});HoldTokenDisclaimer.displayName="HoldTokenDisclaimer",i.Z=(0,s.memo)(HoldTokenDisclaimer);var r=(0,a.ZP)("p").withConfig({displayName:"cmp___StyledP",componentId:"sc-10fgdek-0"})({marginTop:"6rem",marginBottom:"6rem",textAlign:"center"})},18585:function(e,i,n){"use strict";n.d(i,{Z:function(){return t.Z}});var t=n(23968)},80380:function(e,i,n){"use strict";n.d(i,{A:function(){return useDomainManager}});var t=n(55032);function useDomainManager(){let[e]=(0,t.mr)(),{domainManager:i}=e.manager;return i}},36924:function(e,i,n){"use strict";n.d(i,{d:function(){return useRequestDomains}});var t=n(80380),a=n(77205);function useRequestDomains(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(0,t.A)();return(0,a.F)({...e,manager:i,name:"domain"})}},44538:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return ManageDomain}});var t=n(85893),a=n(19521),s=n(76696),r=n(79632),c=n(11163),d=n(41664),o=n.n(d),m=n(9911),l=n(67294),p=n(80380),h=n(55032),g=n(15594),y=n(36924),x=n(9324),u=n(86780),f=n(50586),_=n(49107),v=n(70150),j=n(34517),N=n(18585),w=n(93788);function ManageDomain(){let{domain:e,status:i,refEntity:n,account:a,handleDelete:d,handleRetry:en,handleCopyHash:et,handleCopyRef:ea,handleBack:es}=function(){let[{connection:{account:e}},i]=(0,h.mr)(),n=(0,c.useRouter)(),{hash:t}=n.query,{entities:a}=(0,y.d)({ids:t}),[s]=a||[],d=(0,g.S)(null==s?void 0:s.ref),o=function(e){let[i,n]=(0,l.useState)(void 0),t=(0,p.A)();return(0,l.useEffect)(()=>{if(!t||!e||(null==i?void 0:i.status))return;async function request(){if(!t||!e)return;let i=await t.checkStatus(e);n(i)}i||request();let a=setInterval(request,1e4);return()=>clearInterval(a)},[i,e,t]),i}(s),m=(0,p.A)(),{next:_,stop:v}=(0,u.A)({}),j=(0,l.useCallback)(async()=>{if(!m)throw f.Z.ConnectYourWallet;if(!s)throw f.Z.DomainNotFound;let e=await m.getDelSteps(s),t=e.map(e=>u.n[e]),a=m.delSteps(s);try{for(;;){let{done:e}=await a.next();if(e)break;await _(t)}i(new x.gg({name:"domain",keys:[s.id]})),await n.replace("/")}catch(e){}finally{await v()}},[i,m,s,_,n,v]),N=(0,l.useCallback)(async()=>{if(!m)throw f.Z.ConnectYourWallet;if(!s)throw f.Z.DomainNotFound;try{await m.retry(s),await n.replace("/")}catch(e){}},[s,m,n]),w=(0,r.vx)((null==d?void 0:d.id)||""),S=(0,r.vx)((null==s?void 0:s.ref)||"");return{domain:s,status:o,refEntity:d,account:e,handleDelete:j,handleRetry:N,handleCopyHash:w,handleCopyRef:S,handleBack:()=>{n.push("/settings/")}}}(),er=(0,c.useRouter)();if(!e)return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.Z,{handleBack:es}),(0,t.jsx)(v.W2,{children:(0,t.jsx)(S,{children:"Loading..."})})]});let ec=e.name||(0,_.zN)(e.id),ed=m.K_[e.type];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.Z,{handleBack:es}),(0,t.jsxs)(C,{children:[(0,t.jsxs)(v.W2,{children:[(0,t.jsxs)(b,{children:[(0,t.jsxs)(Z,{children:[(0,t.jsx)(I,{name:"input-text",className:"text-main0"}),(0,t.jsx)("div",{className:"tp-body2",children:ec}),(0,t.jsx)(D,{kind:"secondary",variant:(null==i?void 0:i.status)?"success":"error",children:(null==i?void 0:i.status)?"DOMAIN RECORDS CONFIGURED":"DOMAIN RECORDS NOT CONFIGURED"})]}),(0,t.jsxs)(k,{children:[(0,t.jsx)(r.zx,{kind:"default",variant:"tertiary",size:"md",onClick:()=>er.push("/settings/domain/new/?name=".concat(e.id)),children:"Update"}),(0,t.jsx)(r.zx,{kind:"functional",variant:"warning",size:"md",onClick:d,children:"Delete"})]})]}),(0,t.jsxs)(r.Jy,{children:[(0,t.jsxs)(P,{children:[(0,t.jsx)(z,{variant:"accent",children:ed}),(0,t.jsxs)(T,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"NAME"}),(0,t.jsx)("a",{className:"tp-body1 fs-16",href:"https://".concat(e.name),target:"_blank",referrerPolicy:"no-referrer",children:(0,t.jsx)(s.Z,{iconName:"square-up-right",children:(0,t.jsx)(v.xv,{children:e.name})})})]})]}),(0,t.jsx)(v.Z0,{}),(0,t.jsxs)(R,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"TARGET"}),(0,t.jsx)("div",{children:(0,t.jsx)(v.xv,{children:e.target&&m.Ni[e.target]||"-"})})]}),(0,t.jsxs)(A,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"UPDATED ON"}),(0,t.jsx)("div",{children:(0,t.jsx)(v.xv,{className:"fs-10 tp-body1",children:e.date})})]})]}),(0,t.jsxs)(E,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"REF"}),(0,t.jsx)("div",{children:(0,t.jsx)(s.Z,{iconName:"copy",onClick:ea,children:(0,t.jsx)(v.xv,{children:e.ref})})})]}),i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Z0,{}),(0,t.jsx)(r.DU,{type:"h7",as:"h2",color:"main0",children:"Status"}),(0,t.jsxs)(L,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"STATUS"}),(0,t.jsx)(v.xv,{children:(0,t.jsxs)(B,{children:[(0,t.jsx)(r.vo,{kind:i.status?"success":"warning",title:""}),i.status?"Properly configured":"Manual configuration is required"]})})]}),(!i.tasks_status.cname||!i.tasks_status.owner_proof)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(F,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"PENDING STEPS"}),(0,t.jsx)(v.xv,{children:(0,t.jsxs)(M,{children:[(0,t.jsx)(r.vo,{kind:i.tasks_status.cname?"success":"warning",title:""}),(0,t.jsxs)("div",{children:["Create a CNAME record",(0,t.jsx)(O,{className:"text-main0",children:e.name}),"with value",e.target==m.sY.Program&&(0,t.jsxs)(q,{className:"text-main0",children:[e.name,".program.public.aleph.sh."]}),[m.sY.Instance,m.sY.Confidential].includes(e.target)&&(0,t.jsxs)(U,{className:"text-main0",children:[e.name,".instance.public.aleph.sh."]}),e.target==m.sY.IPFS&&(0,t.jsx)(H,{className:"text-main0",children:"ipfs.public.aleph.sh."})]})]})}),e.target==m.sY.IPFS&&(0,t.jsx)(v.xv,{children:(0,t.jsxs)(W,{children:[(0,t.jsx)(r.vo,{kind:i.tasks_status.delegation?"success":"warning",title:""}),(0,t.jsxs)("div",{children:["Create a CNAME record",(0,t.jsxs)(Y,{className:"text-main0",children:["_dnslink.",e.name]}),"with value",(0,t.jsxs)(G,{className:"text-main0",children:["_dnslink.",e.name,".static.public.aleph.sh."]})]})]})}),(0,t.jsx)(v.xv,{children:(0,t.jsxs)(J,{children:[(0,t.jsx)(r.vo,{kind:i.tasks_status.owner_proof?"success":"warning",title:""}),(0,t.jsxs)("div",{children:["Create a TXT owner proof record",(0,t.jsxs)(X,{className:"text-main0",children:["_control.",e.name]}),"with value",(0,t.jsx)(K,{className:"text-main0",children:null==a?void 0:a.address})]})]})})]}),(0,t.jsxs)(V,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"FINAL STEP"}),(0,t.jsx)(v.xv,{children:"After configuring the domain records you can retry to link them again here"})]}),(0,t.jsx)(Q,{children:(0,t.jsx)(r.zx,{onClick:en,size:"md",variant:"secondary",color:"main0",kind:"default",children:"Retry"})})]})]}),n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Z0,{}),(0,t.jsxs)(r.DU,{type:"h7",as:"h2",color:"main0",children:["Linked ",m.Ni[e.target]]}),(0,t.jsxs)($,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"Target Resource"}),(0,t.jsx)(o(),{className:"tp-body1 fs-16",href:("instance"===e.target?"/computing/instance/":"confidential"===e.target?"/computing/confidential/":"program"===e.target?"/computing/function/":"/storage/volume/")+n.id,children:(0,t.jsx)(s.Z,{iconName:"square-up-right",children:"Details"})})]}),(0,t.jsxs)(ee,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"ITEM HASH"}),(0,t.jsx)(s.Z,{iconName:"copy",onClick:et,children:n.id})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Z0,{}),(0,t.jsx)(r.DU,{type:"h7",as:"h2",color:"main0",children:"Linked Resource"}),(0,t.jsxs)(v.xv,{children:["The target resource is missing or has been deleted."," "]})]})]}),(0,t.jsx)(ei,{children:(0,t.jsx)(j.Z,{variant:"primary",href:"/settings/domain/new",children:"Add new domain"})})]}),(0,t.jsx)(v.W2,{children:(0,t.jsx)(N.Z,{})})]})]})}var S=(0,a.ZP)(r.Jy).withConfig({displayName:"cmp___StyledNoisyContainer",componentId:"sc-y38bzc-0"})({marginTop:"1rem",marginBottom:"1rem"}),C=(0,a.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-y38bzc-1"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.5rem",paddingTop:"5rem","@media (min-width: 48rem)":{paddingTop:"2.5rem",paddingBottom:"2.5rem"}}),b=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-y38bzc-2"})({display:"flex",justifyContent:"space-between",paddingBottom:"1.25rem"}),Z=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-y38bzc-3"})({display:"flex",flexWrap:"wrap",alignItems:"center"}),I=(0,a.ZP)(r.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-y38bzc-4"})({marginRight:"1rem"}),D=(0,a.ZP)(r.__).withConfig({displayName:"cmp___StyledLabel",componentId:"sc-y38bzc-5"})({marginLeft:"1rem",marginTop:"0.25rem"}),k=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-y38bzc-6"})({marginLeft:"0.5rem",display:"flex",flexWrap:"wrap",justifyContent:"flex-end",gap:"0.5rem","@media (min-width: 36rem)":{gap:"1rem"}}),P=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-y38bzc-7"})({display:"flex",alignItems:"center",justifyContent:"flex-start",overflow:"hidden"}),z=(0,a.ZP)(r.Vp).withConfig({displayName:"cmp___StyledTag",componentId:"sc-y38bzc-8"})({marginRight:"1rem",whiteSpace:"nowrap"}),T=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-y38bzc-9"})({flex:"1 1 auto"}),R=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-y38bzc-10"})({marginTop:"1.25rem",marginBottom:"1.25rem",display:"flex",flexDirection:"row"}),A=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-y38bzc-11"})({paddingLeft:"3rem"}),E=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv8",componentId:"sc-y38bzc-12"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),L=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv9",componentId:"sc-y38bzc-13"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),B=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv10",componentId:"sc-y38bzc-14"})({marginTop:"0.5rem",display:"flex"}),F=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv11",componentId:"sc-y38bzc-15"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),M=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv12",componentId:"sc-y38bzc-16"})({marginTop:"0.5rem",display:"flex"}),O=(0,a.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-y38bzc-17"})({marginLeft:"0.5rem",marginRight:"0.5rem"}),q=(0,a.ZP)("span").withConfig({displayName:"cmp___StyledSpan2",componentId:"sc-y38bzc-18"})({marginLeft:"0.5rem",marginRight:"0.5rem"}),U=(0,a.ZP)("span").withConfig({displayName:"cmp___StyledSpan3",componentId:"sc-y38bzc-19"})({marginLeft:"0.5rem",marginRight:"0.5rem"}),H=(0,a.ZP)("span").withConfig({displayName:"cmp___StyledSpan4",componentId:"sc-y38bzc-20"})({marginLeft:"0.5rem",marginRight:"0.5rem"}),W=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv13",componentId:"sc-y38bzc-21"})({marginTop:"0.5rem",display:"flex"}),Y=(0,a.ZP)("span").withConfig({displayName:"cmp___StyledSpan5",componentId:"sc-y38bzc-22"})({marginLeft:"0.5rem",marginRight:"0.5rem"}),G=(0,a.ZP)("span").withConfig({displayName:"cmp___StyledSpan6",componentId:"sc-y38bzc-23"})({marginLeft:"0.5rem",marginRight:"0.5rem"}),J=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv14",componentId:"sc-y38bzc-24"})({marginTop:"0.5rem",display:"flex"}),X=(0,a.ZP)("span").withConfig({displayName:"cmp___StyledSpan7",componentId:"sc-y38bzc-25"})({marginLeft:"0.5rem",marginRight:"0.5rem"}),K=(0,a.ZP)("span").withConfig({displayName:"cmp___StyledSpan8",componentId:"sc-y38bzc-26"})({marginLeft:"0.5rem",marginRight:"0.5rem"}),V=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv15",componentId:"sc-y38bzc-27"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),Q=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv16",componentId:"sc-y38bzc-28"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),$=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv17",componentId:"sc-y38bzc-29"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),ee=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv18",componentId:"sc-y38bzc-30"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),ei=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv19",componentId:"sc-y38bzc-31"})({marginTop:"5rem",textAlign:"center"})}},function(e){e.O(0,[29,774,888,179],function(){return e(e.s=45913)}),_N_E=e.O()}]);