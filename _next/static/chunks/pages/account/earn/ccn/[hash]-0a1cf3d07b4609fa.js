(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3733],{63047:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/earn/ccn/[hash]",function(){return n(50002)}])},85033:function(e,i,n){"use strict";n.d(i,{Z:function(){return l}});var a=n(19521);let t=a.ZP.div.withConfig({displayName:"styles__StyledProgressBar",componentId:"sc-1ndtz6e-0"})(e=>{var i;let{theme:n,$color:t="main0",$gradient:l,$percent:r}=e,o=l?null===(i=n.gradient[l])||void 0===i?void 0:i.fn:void 0,d=o||n.color[t]||t,s=n.color.disabled2;return[{position:"relative",height:"0.125rem",width:"100%"},(0,a.iv)(["background-color:",";&:after{"," content:'';background-color:",";width:","%;}"],s,{position:"absolute",left:"0px",top:"0px",height:"100%"},d,100*r)]});var l=t},50002:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return q}});var a=n(85893),t=n(19521),l=n(67294),r=n(9008),o=n.n(r),d=n(41664),s=n.n(d),c=n(9754),u=n(11163),m=n(50721),h=n(24959),g=n(87536),v=n(56312),N=n(68885),x=n(79632),p=n(9324),j=n(93787),C=n(68518),f=n(20109),D=n(49107),M=n(25819),I=n(72882),b=n(81990),y=n(84550),w=n(90255),z=n(85033),A=n(33910),T=n(34517);let E=(0,t.ZP)(x.rs).withConfig({displayName:"styles__StyledSwitch",componentId:"sc-16blqjh-0"})(["& span{background-image:url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTUiIHZpZXdCb3g9IjAgMCAxNyAxNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgb3BhY2l0eT0iMC4zIj4KPHBhdGggZD0iTTEwLjA4MyA0LjY4NzVWNkgxMi43MDhWMTQuNzVIMC40NTgwMDhWNkg4LjMzMzAxVjQuNjg3NUM4LjMzMzAxIDIuNTI3MzQgMTAuMDgzIDAuNzUgMTIuMjcwNSAwLjc1QzE0LjQzMDcgMC43NSAxNi4yMDggMi41MjczNCAxNi4yMDggNC42ODc1VjZWNi44NzVIMTQuNDU4VjZWNC42ODc1QzE0LjQ1OCAzLjQ4NDM4IDEzLjQ3MzYgMi41IDEyLjI3MDUgMi41QzExLjA0IDIuNSAxMC4wODMgMy40ODQzOCAxMC4wODMgNC42ODc1WiIgZmlsbD0iIzE0MTMyNyIvPgo8L2c+Cjwvc3ZnPgo=');background-repeat:no-repeat;background-position:50%;&::after{background-image:url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHZpZXdCb3g9IjAgMCAxNSAxNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgb3BhY2l0eT0iMC41Ij4KPHBhdGggZD0iTTUuNDc4NTIgNC42ODc1VjZIOS44NTM1MlY0LjY4NzVDOS44NTM1MiAzLjQ4NDM4IDguODY5MTQgMi41IDcuNjY2MDIgMi41QzYuNDM1NTUgMi41IDUuNDc4NTIgMy40ODQzOCA1LjQ3ODUyIDQuNjg3NVpNMy43Mjg1MiA2VjQuNjg3NUMzLjcyODUyIDIuNTI3MzQgNS40Nzg1MiAwLjc1IDcuNjY2MDIgMC43NUM5LjgyNjE3IDAuNzUgMTEuNjAzNSAyLjUyNzM0IDExLjYwMzUgNC42ODc1VjZIMTMuNzkxVjE0Ljc1SDEuNTQxMDJWNkgzLjcyODUyWiIgZmlsbD0iIzE0MTMyNyIvPgo8L2c+Cjwvc3ZnPgo='),linear-gradient(90deg,#00d1ff 0%,#0054ff 100%);background-repeat:no-repeat;background-position:50%;}}"]);var Z=n(16434),_=n(64885),S=n(44270),O=n(9911),P=n(25675),L=n.n(P),k=n(91489),R=n(99983);let CoreChannelNodeDetailPage=()=>{var e,i,n;let{node:t,baseLatency:r,aggregateLatency:d,fileDownloadLatency:P,metricsLatency:H,relativeETHHeightPercent:q,lastMetricsCheck:ee,calculatedRewards:ei,creationDate:en,isOwner:ea,nameCtrl:et,descriptionCtrl:el,multiaddressCtrl:er,pictureCtrl:eo,bannerCtrl:ed,rewardCtrl:es,managerCtrl:ec,lockedCtrl:eu,registrationUrlCtrl:em,isDirty:eh,isUnlinkableByUser:eg,handleUnlink:ev,handleRemove:eN,handleSubmit:ex}=function(){let e=(0,u.useRouter)(),{hash:i}=e.query,[n]=(0,c.mr)(),{entities:a}=n.ccns,{node:t}=function(e){let{hash:i}=e,[n]=(0,c.mr)(),{entities:a}=n.ccns,t=(0,l.useMemo)(()=>{if(a)return a.filter(e=>e.hash===i)},[a,i]),[r]=t||[];return{node:r}}({hash:i}),r=(0,m._)({node:t,nodes:a}),o=(0,l.useMemo)(()=>new f.S,[]),d=(0,l.useMemo)(()=>t&&a?o.CCNRewardsPerDay(t,a)*(365/12):0,[t,a,o]),{aggregate_latency:s,file_download_latency:D,metrics_latency:M,eth_height_remaining:I}=(null==t?void 0:t.metricsData)||{},b=(0,l.useMemo)(()=>s?"".concat(Number(100*(s||0)).toFixed(2)," %"):void 0,[s]),y=(0,l.useMemo)(()=>D?"".concat(Number(100*(D||0)).toFixed(2)," %"):void 0,[D]),w=(0,l.useMemo)(()=>M?"".concat(Number(100*(M||0)).toFixed(2)," %"):void 0,[M]),z=(0,l.useMemo)(()=>{if(void 0!==I)return 0===I?0:Math.trunc((18643103-I)/18643103*10)/10},[I]),{isUnlinkableByUser:A,handleUnlink:T}=(0,C.i)(),E=(0,l.useMemo)(()=>({hash:null==t?void 0:t.hash,name:null==t?void 0:t.name,picture:null==t?void 0:t.picture,banner:null==t?void 0:t.banner,description:null==t?void 0:t.description,reward:null==t?void 0:t.reward,authorized:null==t?void 0:t.authorized,locked:null==t?void 0:t.locked,registration_url:null==t?void 0:t.registration_url,manager:null==t?void 0:t.manager,multiaddress:null==t?void 0:t.multiaddress}),[t]),Z=function(e){let{defaultValues:i}=e,[n,a]=(0,c.mr)(),{connection:{account:t},ccns:{entities:r}}=n,o=(0,j.z)(),d=(0,x.lm)(),s=(0,l.useCallback)(async e=>{if(!o)throw Error("Manager not ready");if(!t)throw Error("Invalid account");let[,i]=await o.updateCoreChannelNode(e),n=null==r?void 0:r.find(e=>e.hash===i.hash),a=function(e,i){let n={...e||{},...i,virtual:Date.now()};return n}(n,i);return a},[t,o,r]),u=(0,l.useCallback)(async e=>{if(!d)throw Error("Notification not ready");d.add({variant:"success",title:"Success",text:'Your node "'.concat(e.hash,'" was updated successfully.')}),a(new p.Wy({name:"ccns",entities:[e]}))},[a,d]),{control:m,handleSubmit:C,formState:{errors:f,isDirty:D}}=(0,h.c)({defaultValues:i,onSubmit:s,onSuccess:u,resolver:(0,v.F)(N.B.updateCCNSchema),readyDeps:[i]}),M=(0,g.qo)({control:m}),I=(0,g.bc)({control:m,name:"name"}),b=(0,g.bc)({control:m,name:"description"}),y=(0,g.bc)({control:m,name:"multiaddress"}),w=(0,g.bc)({control:m,name:"picture"}),z=(0,g.bc)({control:m,name:"banner"}),A=(0,g.bc)({control:m,name:"reward"}),T=(0,g.bc)({control:m,name:"manager"}),E=(0,g.bc)({control:m,name:"authorized"}),Z=(0,g.bc)({control:m,name:"locked"}),_=(0,g.bc)({control:m,name:"registration_url"});return{values:M,control:m,nameCtrl:I,descriptionCtrl:b,multiaddressCtrl:y,pictureCtrl:w,bannerCtrl:z,rewardCtrl:A,managerCtrl:T,authorizedCtrl:E,lockedCtrl:Z,registrationUrlCtrl:_,errors:f,isDirty:D,handleSubmit:C}}({defaultValues:E});return{aggregateLatency:b,fileDownloadLatency:y,metricsLatency:w,relativeETHHeightPercent:z,calculatedRewards:d,isUnlinkableByUser:A,handleUnlink:T,...Z,...r}}(),[ep]=(0,c.mr)(),{blockchain:ej}=ep.connection,eC=(0,l.useMemo)(()=>ej===M.Ek.ETH,[ej]),ef=(0,l.useMemo)(()=>{var e;return ej?null===(e=M.DR[ej])||void 0===e?void 0:e.name:"Current network"},[ej]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o(),{children:[(0,a.jsx)("title",{children:"Account | CCN Detail - Aleph Cloud"}),(0,a.jsx)("meta",{name:"description",content:"Aleph Cloud Compute Resource Node"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,a.jsx)(R.F,{$variant:"xl",children:(0,a.jsxs)(W,{children:[(0,a.jsx)(y.Z,{node:t,nameCtrl:et,descriptionCtrl:el,bannerCtrl:ed,pictureCtrl:eo,isOwner:ea}),ea&&(0,a.jsxs)(U,{children:[(0,a.jsxs)(I.ZP,{kind:"flat",variant:"textOnly",size:"md",color:"error",onClick:eN,disabled:!eC,tooltipContent:eC?void 0:(0,b.P)(ef),tooltipPosition:{my:"bottom-center",at:"top-center"},children:[(0,a.jsx)(x.JO,{name:"trash",color:"error",size:"lg"}),"remove node"]}),(0,a.jsx)(I.ZP,{kind:"gradient",variant:"primary",size:"md",color:"main0",onClick:ex,disabled:!eh||!eC,tooltipContent:eC?void 0:(0,b.P)(ef),tooltipPosition:{my:"bottom-center",at:"top-center"},children:"save changes"})]}),(0,a.jsx)(Q,{children:(0,a.jsxs)(G,{children:[(0,a.jsxs)(Y,{children:[(0,a.jsxs)(w.ZP,{title:"GENERAL INFO",children:[(0,a.jsx)(Z.Z,{status:null==t?void 0:t.status}),(0,a.jsx)(w.HC,{name:"NAME",value:null==t?void 0:t.name}),(0,a.jsx)(w.HC,{name:"ASN",value:null==t?void 0:null===(e=t.metricsData)||void 0===e?void 0:e.as_name}),(0,a.jsx)(w.HC,{name:"OWNER",value:(0,a.jsx)(S.Z,{href:(0,D.tz)({address:null==t?void 0:t.owner}),isOwner:!1,textToCopy:null==t?void 0:t.owner,children:(null==t?void 0:t.owner)&&(0,D.zN)(null==t?void 0:t.owner)}),big:!0}),(0,a.jsx)(w.HC,{name:"REWARD ADDRESS",value:(0,a.jsx)(_.Z,{...es.field,...es.fieldState,placeholder:"address",isOwner:ea,children:(0,a.jsx)(S.Z,{href:(0,D.tz)({tokenAddress:es.field.value}),isOwner:ea,textToCopy:es.field.value,children:es.field.value&&(0,D.zN)(es.field.value)})}),big:!0}),(0,a.jsx)(w.HC,{name:"MULTI ADDRESS",value:(0,a.jsx)(_.Z,{...er.field,...er.fieldState,placeholder:"multi address",isOwner:ea,children:(0,a.jsx)(S.Z,{href:(0,D.k2)({multiaddress:er.field.value}),isOwner:ea,textToCopy:er.field.value,children:er.field.value&&(0,D.zN)(er.field.value)})}),big:!0})]}),(0,a.jsxs)(w.ZP,{title:"ADDITIONAL SETTINGS",children:[(0,a.jsx)(w.HC,{name:"MANAGER",value:(0,a.jsx)(_.Z,{...ec.field,...ec.fieldState,placeholder:"manager address",isOwner:ea,children:(0,a.jsx)(S.Z,{href:(0,D.tz)({address:ec.field.value}),isOwner:ea,textToCopy:ec.field.value,children:ec.field.value&&(0,D.zN)(ec.field.value)})}),big:!0}),(0,a.jsx)(w.HC,{name:"REGISTRATION URL",value:(0,a.jsx)(_.Z,{...em.field,...em.fieldState,placeholder:"registration url",isOwner:ea,children:(0,a.jsx)(S.Z,{href:em.field.value,isOwner:ea,textToCopy:em.field.value,children:em.field.value})}),big:!0}),(0,a.jsx)(w.HC,{name:eu.field.value?"LOCKED":"UNLOCKED",value:(0,a.jsx)(E,{...eu.field,...eu.fieldState,checked:eu.field.value,disabled:!ea})})]})]}),(0,a.jsxs)(V,{children:[(0,a.jsxs)(w.ZP,{title:"REWARD INDICATORS",children:[(0,a.jsx)(w.HC,{name:"LAST CHECK",value:ee}),(0,a.jsx)(w.HC,{name:"VERSION",value:null==t?void 0:null===(i=t.metricsData)||void 0===i?void 0:i.version}),(0,a.jsx)(w.HC,{name:"BASE LATENCY",value:r}),(0,a.jsx)(w.HC,{name:"AGGREGATE LATENCY",value:d}),(0,a.jsx)(w.HC,{name:"FILE DOWNLOAD LATENCY",value:P}),(0,a.jsx)(w.HC,{name:"METRICS LATENCY",value:H}),(0,a.jsx)(w.HC,{name:"ETH HEIGHT REMAINING",value:null==t?void 0:null===(n=t.metricsData)||void 0===n?void 0:n.eth_height_remaining}),(0,a.jsx)(z.Z,{$percent:q||0,$color:"main0"}),(0,a.jsx)(w.HC,{name:"linked resources",value:(0,a.jsx)(A.ZP,{nodes:null==t?void 0:t.crnsData,subfix:" linked"})})]}),(0,a.jsx)(w.ZP,{title:"POTENTIAL REWARD",children:(0,a.jsx)(w.HC,{name:"ESTIMATED MONTHLY REWARD",value:(0,a.jsx)(k.Z,{value:ei})})})]}),(0,a.jsxs)(B,{children:[(0,a.jsx)(w.ZP,{title:"LINKED RESOURCES",children:Array.from({length:Math.max(N.B.maxLinkedPerNode,(null==t?void 0:t.crnsData.length)||0)},(e,i)=>{let n=null==t?void 0:t.crnsData[i];return(0,a.jsx)(F,{children:n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A.Rr,{$score:n.score}),(0,a.jsx)(s(),{href:"/account/earn/crn/".concat(n.hash),legacyBehavior:!0,children:(0,a.jsx)($,{hash:n.hash,name:n.name,picture:n.picture,apiServer:O.pf,ImageCmp:L()})}),eg(n)&&(0,a.jsx)(I.ZP,{kind:"flat",variant:"textOnly",onClick:()=>ev(n),disabled:!eC,tooltipContent:eC?void 0:(0,b.P)(ef),tooltipPosition:{my:"bottom-center",at:"top-center"},children:(0,a.jsx)(x.JO,{name:"trash",color:"error"})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A.Rr,{}),(0,a.jsx)(K,{}),(0,a.jsx)(J,{className:"fs-10",children:ea?(0,a.jsx)(T.Z,{href:"/account/earn/crn",color:"main0",size:"md",kind:"gradient",variant:"textOnly",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(X,{name:"link"})," link now"]})}):(0,a.jsx)(a.Fragment,{children:"not linked"})})]})},i)})}),(0,a.jsxs)(w.ZP,{title:"PERFORMANCE",children:[(0,a.jsx)(w.HC,{name:"TOTAL STAKED",value:(0,a.jsx)(k.Z,{value:null==t?void 0:t.total_staked})}),(0,a.jsx)(w.HC,{name:"CREATION TIME",value:en})]})]})]})})]})})]})};CoreChannelNodeDetailPage.displayName="CoreChannelNodeDetailPage";var H=(0,l.memo)(CoreChannelNodeDetailPage),W=(0,t.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-1bwzbmc-0"})({paddingTop:"0px"}),U=(0,t.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1bwzbmc-1"})({marginTop:"2rem",marginBottom:"2rem",display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"1.75rem"}),Q=(0,t.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1bwzbmc-2"})({marginTop:"2rem"}),G=(0,t.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1bwzbmc-3"})({display:"flex",flexWrap:"wrap",gap:"2.25rem"}),Y=(0,t.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-1bwzbmc-4"})({display:"flex",width:"33.333333%",minWidth:"20rem",flex:"1 1 0%",flexDirection:"column",gap:"2.25rem"}),V=(0,t.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-1bwzbmc-5"})({display:"flex",width:"33.333333%",minWidth:"20rem",flex:"1 1 0%",flexDirection:"column",gap:"2.25rem"}),B=(0,t.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-1bwzbmc-6"})({display:"flex",width:"33.333333%",minWidth:"20rem",flex:"1 1 0%",flexDirection:"column",gap:"2.25rem"}),F=(0,t.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-1bwzbmc-7"})({display:"flex",alignItems:"center",gap:"0.75rem"}),K=(0,t.ZP)("div").withConfig({displayName:"cmp___StyledDiv8",componentId:"sc-1bwzbmc-8"})({height:"1.5rem",width:"1.5rem",borderRadius:"9999px",backgroundColor:"#C4C4C433"}),J=(0,t.ZP)("div").withConfig({displayName:"cmp___StyledDiv9",componentId:"sc-1bwzbmc-9"})({lineHeight:"1rem"}),X=(0,t.ZP)(x.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-1bwzbmc-10"})({height:"0.875rem",width:"0.875rem"}),$=(0,t.ZP)(x.tJ).withConfig({displayName:"cmp___StyledNodeName",componentId:"sc-1bwzbmc-11"})({marginRight:"auto",width:"auto",cursor:"pointer"}),q=H}},function(e){e.O(0,[7536,1505,5675,6946,9774,2888,179],function(){return e(e.s=63047)}),_N_E=e.O()}]);