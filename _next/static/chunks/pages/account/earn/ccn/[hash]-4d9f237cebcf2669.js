(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3733],{63047:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/earn/ccn/[hash]",function(){return n(50002)}])},85033:function(e,i,n){"use strict";n.d(i,{Z:function(){return r}});var a=n(57833);let l=a.ZP.div.withConfig({displayName:"styles__StyledProgressBar",componentId:"sc-1ndtz6e-0"})(e=>{var i;let{theme:n,$color:l="main0",$gradient:r,$percent:t}=e,o=r?null===(i=n.gradient[r])||void 0===i?void 0:i.fn:void 0,d=o||n.color[l]||l,s=n.color.disabled2;return[{position:"relative",height:"0.125rem",width:"100%"},(0,a.iv)(["background-color:",";&:after{"," content:'';background-color:",";width:","%;}"],s,{position:"absolute",left:"0px",top:"0px",height:"100%"},d,100*t)]});var r=l},50002:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return q}});var a=n(85893),l=n(57833),r=n(67294),t=n(9008),o=n.n(t),d=n(41664),s=n.n(d),c=n(9754),u=n(11163),m=n(50721),h=n(24959),v=n(87536),g=n(56312),x=n(68885),j=n(31515),N=n(9324),M=n(93787),C=n(68518),D=n(20109),f=n(14685),p=n(72077),I=n(72882),A=n(81990),T=n(84550),b=n(90255),y=n(85033),E=n(33910),w=n(34517);let Z=(0,l.ZP)(j.rs).withConfig({displayName:"styles__StyledSwitch",componentId:"sc-16blqjh-0"})(["& span{background-image:url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTUiIHZpZXdCb3g9IjAgMCAxNyAxNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgb3BhY2l0eT0iMC4zIj4KPHBhdGggZD0iTTEwLjA4MyA0LjY4NzVWNkgxMi43MDhWMTQuNzVIMC40NTgwMDhWNkg4LjMzMzAxVjQuNjg3NUM4LjMzMzAxIDIuNTI3MzQgMTAuMDgzIDAuNzUgMTIuMjcwNSAwLjc1QzE0LjQzMDcgMC43NSAxNi4yMDggMi41MjczNCAxNi4yMDggNC42ODc1VjZWNi44NzVIMTQuNDU4VjZWNC42ODc1QzE0LjQ1OCAzLjQ4NDM4IDEzLjQ3MzYgMi41IDEyLjI3MDUgMi41QzExLjA0IDIuNSAxMC4wODMgMy40ODQzOCAxMC4wODMgNC42ODc1WiIgZmlsbD0iIzE0MTMyNyIvPgo8L2c+Cjwvc3ZnPgo=');background-repeat:no-repeat;background-position:50%;&::after{background-image:url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHZpZXdCb3g9IjAgMCAxNSAxNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgb3BhY2l0eT0iMC41Ij4KPHBhdGggZD0iTTUuNDc4NTIgNC42ODc1VjZIOS44NTM1MlY0LjY4NzVDOS44NTM1MiAzLjQ4NDM4IDguODY5MTQgMi41IDcuNjY2MDIgMi41QzYuNDM1NTUgMi41IDUuNDc4NTIgMy40ODQzOCA1LjQ3ODUyIDQuNjg3NVpNMy43Mjg1MiA2VjQuNjg3NUMzLjcyODUyIDIuNTI3MzQgNS40Nzg1MiAwLjc1IDcuNjY2MDIgMC43NUM5LjgyNjE3IDAuNzUgMTEuNjAzNSAyLjUyNzM0IDExLjYwMzUgNC42ODc1VjZIMTMuNzkxVjE0Ljc1SDEuNTQxMDJWNkgzLjcyODUyWiIgZmlsbD0iIzE0MTMyNyIvPgo8L2c+Cjwvc3ZnPgo='),linear-gradient(90deg,#00d1ff 0%,#0054ff 100%);background-repeat:no-repeat;background-position:50%;}}"]);var z=n(16434),O=n(64885),P=n(44270),L=n(16451),S=n(25675),k=n.n(S),R=n(91489),H=n(99983);let CoreChannelNodeDetailPage=()=>{var e,i,n;let{node:l,baseLatency:t,aggregateLatency:d,fileDownloadLatency:S,metricsLatency:_,relativeETHHeightPercent:q,lastMetricsCheck:ee,calculatedRewards:ei,creationDate:en,isOwner:ea,nameCtrl:el,descriptionCtrl:er,multiaddressCtrl:et,pictureCtrl:eo,bannerCtrl:ed,rewardCtrl:es,managerCtrl:ec,lockedCtrl:eu,registrationUrlCtrl:em,isDirty:eh,isUnlinkableByUser:ev,handleUnlink:eg,handleRemove:ex,handleSubmit:ej}=function(){let e=(0,u.useRouter)(),{hash:i}=e.query,[n]=(0,c.mr)(),{entities:a}=n.ccns,{node:l}=function(e){let{hash:i}=e,[n]=(0,c.mr)(),{entities:a}=n.ccns,l=(0,r.useMemo)(()=>{if(a)return a.filter(e=>e.hash===i)},[a,i]),[t]=l||[];return{node:t}}({hash:i}),t=(0,m._)({node:l,nodes:a}),o=(0,r.useMemo)(()=>new D.S,[]),d=(0,r.useMemo)(()=>l&&a?o.CCNRewardsPerDay(l,a)*(365/12):0,[l,a,o]),{aggregate_latency:s,file_download_latency:f,metrics_latency:p,eth_height_remaining:I}=(null==l?void 0:l.metricsData)||{},A=(0,r.useMemo)(()=>s?"".concat(Number(1e3*(s||0)).toFixed(0)," ms"):void 0,[s]),T=(0,r.useMemo)(()=>f?"".concat(Number(1e3*(f||0)).toFixed(0)," ms"):void 0,[f]),b=(0,r.useMemo)(()=>p?"".concat(Number(1e3*(p||0)).toFixed(0)," ms"):void 0,[p]),y=(0,r.useMemo)(()=>{if(void 0!==I)return 0===I?0:Math.trunc((18643103-I)/18643103*10)/10},[I]),{isUnlinkableByUser:E,handleUnlink:w}=(0,C.i)(),Z=(0,r.useMemo)(()=>({hash:null==l?void 0:l.hash,name:null==l?void 0:l.name,picture:null==l?void 0:l.picture,banner:null==l?void 0:l.banner,description:null==l?void 0:l.description,reward:null==l?void 0:l.reward,authorized:null==l?void 0:l.authorized,locked:null==l?void 0:l.locked,registration_url:null==l?void 0:l.registration_url,manager:null==l?void 0:l.manager,multiaddress:null==l?void 0:l.multiaddress}),[l]),z=function(e){let{defaultValues:i}=e,[n,a]=(0,c.mr)(),{connection:{account:l},ccns:{entities:t}}=n,o=(0,M.z)(),d=(0,j.lm)(),s=(0,r.useCallback)(async e=>{if(!o)throw Error("Manager not ready");if(!l)throw Error("Invalid account");let[,i]=await o.updateCoreChannelNode(e),n=null==t?void 0:t.find(e=>e.hash===i.hash),a=function(e,i){let n={...e||{},...i,virtual:Date.now()};return n}(n,i);return a},[l,o,t]),u=(0,r.useCallback)(async e=>{if(!d)throw Error("Notification not ready");d.add({variant:"success",title:"Success",text:'Your node "'.concat(e.hash,'" was updated successfully.')}),a(new N.Wy({name:"ccns",entities:[e]}))},[a,d]),{control:m,handleSubmit:C,formState:{errors:D,isDirty:f}}=(0,h.c)({defaultValues:i,onSubmit:s,onSuccess:u,resolver:(0,g.F)(x.B.updateCCNSchema),readyDeps:[i]}),p=(0,v.qo)({control:m}),I=(0,v.bc)({control:m,name:"name"}),A=(0,v.bc)({control:m,name:"description"}),T=(0,v.bc)({control:m,name:"multiaddress"}),b=(0,v.bc)({control:m,name:"picture"}),y=(0,v.bc)({control:m,name:"banner"}),E=(0,v.bc)({control:m,name:"reward"}),w=(0,v.bc)({control:m,name:"manager"}),Z=(0,v.bc)({control:m,name:"authorized"}),z=(0,v.bc)({control:m,name:"locked"}),O=(0,v.bc)({control:m,name:"registration_url"});return{values:p,control:m,nameCtrl:I,descriptionCtrl:A,multiaddressCtrl:T,pictureCtrl:b,bannerCtrl:y,rewardCtrl:E,managerCtrl:w,authorizedCtrl:Z,lockedCtrl:z,registrationUrlCtrl:O,errors:D,isDirty:f,handleSubmit:C}}({defaultValues:Z});return{aggregateLatency:A,fileDownloadLatency:T,metricsLatency:b,relativeETHHeightPercent:y,calculatedRewards:d,isUnlinkableByUser:E,handleUnlink:w,...z,...t}}(),{apiServer:eN}=(0,L.r)(),[eM]=(0,c.mr)(),{blockchain:eC}=eM.connection,eD=(0,r.useMemo)(()=>eC===p.Ek.ETH,[eC]),ef=(0,r.useMemo)(()=>{var e;return eC?null===(e=p.DR[eC])||void 0===e?void 0:e.name:"Current network"},[eC]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o(),{children:[(0,a.jsx)("title",{children:"Account | CCN Detail | Aleph Cloud"}),(0,a.jsx)("meta",{name:"description",content:"Aleph Cloud Compute Resource Node"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,a.jsx)(H.F,{$variant:"xl",children:(0,a.jsxs)(W,{children:[(0,a.jsx)(T.Z,{node:l,nameCtrl:el,descriptionCtrl:er,bannerCtrl:ed,pictureCtrl:eo,isOwner:ea}),ea&&(0,a.jsxs)(U,{children:[(0,a.jsxs)(I.ZP,{kind:"flat",variant:"textOnly",size:"md",color:"error",onClick:ex,disabled:!eD,tooltipContent:eD?void 0:(0,A.P)(ef),tooltipPosition:{my:"bottom-center",at:"top-center"},children:[(0,a.jsx)(j.JO,{name:"trash",color:"error",size:"lg"}),"remove node"]}),(0,a.jsx)(I.ZP,{kind:"gradient",variant:"primary",size:"md",color:"main0",onClick:ej,disabled:!eh||!eD,tooltipContent:eD?void 0:(0,A.P)(ef),tooltipPosition:{my:"bottom-center",at:"top-center"},children:"save changes"})]}),(0,a.jsx)(Q,{children:(0,a.jsxs)(G,{children:[(0,a.jsxs)(Y,{children:[(0,a.jsxs)(b.ZP,{title:"GENERAL INFO",children:[(0,a.jsx)(z.Z,{status:null==l?void 0:l.status,score:null==l?void 0:l.score}),(0,a.jsx)(b.HC,{name:"NAME",value:null==l?void 0:l.name}),(0,a.jsx)(b.HC,{name:"ASN",value:null==l?void 0:null===(e=l.metricsData)||void 0===e?void 0:e.as_name}),(0,a.jsx)(b.HC,{name:"OWNER",value:(0,a.jsx)(P.Z,{href:(0,f.tz)({address:null==l?void 0:l.owner}),isOwner:!1,textToCopy:null==l?void 0:l.owner,children:(null==l?void 0:l.owner)&&(0,f.zN)(null==l?void 0:l.owner)}),big:!0}),(0,a.jsx)(b.HC,{name:"REWARD ADDRESS",value:(0,a.jsx)(O.Z,{...es.field,...es.fieldState,placeholder:"address",isOwner:ea,children:(0,a.jsx)(P.Z,{href:(0,f.tz)({tokenAddress:es.field.value}),isOwner:ea,textToCopy:es.field.value,children:es.field.value&&(0,f.zN)(es.field.value)})}),big:!0}),(0,a.jsx)(b.HC,{name:"MULTI ADDRESS",value:(0,a.jsx)(O.Z,{...et.field,...et.fieldState,placeholder:"multi address",isOwner:ea,children:(0,a.jsx)(P.Z,{href:(0,f.k2)({multiaddress:et.field.value}),isOwner:ea,textToCopy:et.field.value,children:et.field.value&&(0,f.zN)(et.field.value)})}),big:!0})]}),(0,a.jsxs)(b.ZP,{title:"ADDITIONAL SETTINGS",children:[(0,a.jsx)(b.HC,{name:"MANAGER",value:(0,a.jsx)(O.Z,{...ec.field,...ec.fieldState,placeholder:"manager address",isOwner:ea,children:(0,a.jsx)(P.Z,{href:(0,f.tz)({address:ec.field.value}),isOwner:ea,textToCopy:ec.field.value,children:ec.field.value&&(0,f.zN)(ec.field.value)})}),big:!0}),(0,a.jsx)(b.HC,{name:"REGISTRATION URL",value:(0,a.jsx)(O.Z,{...em.field,...em.fieldState,placeholder:"registration url",isOwner:ea,children:(0,a.jsx)(P.Z,{href:em.field.value,isOwner:ea,textToCopy:em.field.value,children:em.field.value})}),big:!0}),(0,a.jsx)(b.HC,{name:eu.field.value?"LOCKED":"UNLOCKED",value:(0,a.jsx)(Z,{...eu.field,...eu.fieldState,checked:eu.field.value,disabled:!ea})})]})]}),(0,a.jsxs)(V,{children:[(0,a.jsxs)(b.ZP,{title:"REWARD INDICATORS",children:[(0,a.jsx)(b.HC,{name:"LAST CHECK",value:ee}),(0,a.jsx)(b.HC,{name:"VERSION",value:null==l?void 0:null===(i=l.metricsData)||void 0===i?void 0:i.version}),(0,a.jsx)(b.HC,{name:"BASE LATENCY",value:t}),(0,a.jsx)(b.HC,{name:"AGGREGATE LATENCY",value:d}),(0,a.jsx)(b.HC,{name:"FILE DOWNLOAD LATENCY",value:S}),(0,a.jsx)(b.HC,{name:"METRICS LATENCY",value:_}),(0,a.jsx)(b.HC,{name:"ETH HEIGHT REMAINING",value:null==l?void 0:null===(n=l.metricsData)||void 0===n?void 0:n.eth_height_remaining}),(0,a.jsx)(y.Z,{$percent:q||0,$color:"main0"}),(0,a.jsx)(b.HC,{name:"linked resources",value:(0,a.jsx)(E.ZP,{nodes:null==l?void 0:l.crnsData,subfix:" linked"})})]}),(0,a.jsx)(b.ZP,{title:"POTENTIAL REWARD",children:(0,a.jsx)(b.HC,{name:"ESTIMATED MONTHLY REWARD",value:(0,a.jsx)(R.Z,{value:ei})})})]}),(0,a.jsxs)(B,{children:[(0,a.jsx)(b.ZP,{title:"LINKED RESOURCES",children:Array.from({length:Math.max(x.B.maxLinkedPerNode,(null==l?void 0:l.crnsData.length)||0)},(e,i)=>{let n=null==l?void 0:l.crnsData[i];return(0,a.jsx)(F,{children:n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.Rr,{$score:n.score}),(0,a.jsx)(s(),{href:"/account/earn/crn/".concat(n.hash),legacyBehavior:!0,children:(0,a.jsx)($,{hash:n.hash,name:n.name,picture:n.picture,apiServer:eN,ImageCmp:k()})}),ev(n)&&(0,a.jsx)(I.ZP,{kind:"flat",variant:"textOnly",onClick:()=>eg(n),disabled:!eD,tooltipContent:eD?void 0:(0,A.P)(ef),tooltipPosition:{my:"bottom-center",at:"top-center"},children:(0,a.jsx)(j.JO,{name:"trash",color:"error"})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.Rr,{}),(0,a.jsx)(K,{}),(0,a.jsx)(J,{className:"fs-10",children:ea?(0,a.jsx)(w.Z,{href:"/account/earn/crn",color:"main0",size:"md",kind:"gradient",variant:"textOnly",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(X,{name:"link"})," link now"]})}):(0,a.jsx)(a.Fragment,{children:"not linked"})})]})},i)})}),(0,a.jsxs)(b.ZP,{title:"PERFORMANCE",children:[(0,a.jsx)(b.HC,{name:"TOTAL STAKED",value:(0,a.jsx)(R.Z,{value:null==l?void 0:l.total_staked})}),(0,a.jsx)(b.HC,{name:"CREATION TIME",value:en})]})]})]})})]})})]})};CoreChannelNodeDetailPage.displayName="CoreChannelNodeDetailPage";var _=(0,r.memo)(CoreChannelNodeDetailPage),W=(0,l.ZP)("section")({paddingTop:"0px"}),U=(0,l.ZP)("div")({marginTop:"2rem",marginBottom:"2rem",display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"1.75rem"}),Q=(0,l.ZP)("div")({marginTop:"2rem"}),G=(0,l.ZP)("div")({display:"flex",flexWrap:"wrap",gap:"2.25rem"}),Y=(0,l.ZP)("div")({display:"flex",width:"33.333333%",minWidth:"20rem",flex:"1 1 0%",flexDirection:"column",gap:"2.25rem"}),V=(0,l.ZP)("div")({display:"flex",width:"33.333333%",minWidth:"20rem",flex:"1 1 0%",flexDirection:"column",gap:"2.25rem"}),B=(0,l.ZP)("div")({display:"flex",width:"33.333333%",minWidth:"20rem",flex:"1 1 0%",flexDirection:"column",gap:"2.25rem"}),F=(0,l.ZP)("div")({display:"flex",alignItems:"center",gap:"0.75rem"}),K=(0,l.ZP)("div")({height:"1.5rem",width:"1.5rem",borderRadius:"9999px",backgroundColor:"#C4C4C433"}),J=(0,l.ZP)("div")({lineHeight:"1rem"}),X=(0,l.ZP)(j.JO)({height:"0.875rem",width:"0.875rem"}),$=(0,l.ZP)(j.tJ).withConfig({displayName:"cmp___StyledNodeName",componentId:"sc-1bwzbmc-0"})({marginRight:"auto",width:"auto",cursor:"pointer"}),q=_}},function(e){e.O(0,[7536,1093,5675,6946,9774,2888,179],function(){return e(e.s=63047)}),_N_E=e.O()}]);