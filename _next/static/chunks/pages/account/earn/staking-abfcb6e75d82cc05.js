(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6045],{44137:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/earn/staking",function(){return n(92069)}])},72882:function(e,t,n){"use strict";n.d(t,{ZP:function(){return c}});var a=n(85893),r=n(67294),i=n(73899),s=n(43251),o=n(57833);let l=(0,o.ZP)(i.JO).attrs(e=>{let{buttonSize:t}=e;return{size:(()=>{switch(t){case"xs":return"xs";case"sm":return"sm";case"lg":return"md-lg";case"xl":return"lg";default:return"md"}})()}}).withConfig({displayName:"styles__InfoIcon",componentId:"sc-15zds0b-0"})(["opacity:0.8;"]),d=(0,r.forwardRef)((e,t)=>{let{tooltipContent:n,tooltipPosition:o,children:d,disabled:c,size:m,...u}=e,[h,p]=(0,r.useState)(!1);(0,r.useEffect)(()=>{p(!0)},[]);let g=(0,r.useRef)(null),f=t||g;return(0,a.jsxs)("div",{className:"inline-flex relative",children:[(0,a.jsx)(i.zx,{ref:f,disabled:c,size:m,...u,children:(0,a.jsxs)(a.Fragment,{children:[d,c&&n&&(0,a.jsx)(l,{name:"info-circle",buttonSize:m})]})}),h&&c&&n&&(0,a.jsx)(s.Z,{my:(null==o?void 0:o.my)||"bottom-center",at:(null==o?void 0:o.at)||"top-center",targetRef:f,content:n})]})});d.displayName="ButtonWithInfoTooltip";var c=d},85033:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(57833);let r=a.ZP.div.withConfig({displayName:"styles__StyledProgressBar",componentId:"sc-1ndtz6e-0"})(e=>{var t;let{theme:n,$color:r="main0",$gradient:i,$percent:s}=e,o=i?null===(t=n.gradient[i])||void 0===t?void 0:t.fn:void 0,l=o||n.color[r]||r,d=n.color.disabled2;return[{position:"relative",height:"0.125rem",width:"100%"},(0,a.iv)(["background-color:",";&:after{"," content:'';background-color:",";width:","%;}"],d,{position:"absolute",left:"0px",top:"0px",height:"100%"},l,100*s)]});var i=r},16377:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var a=n(85893),r=n(57833),i=n(67294),s=n(73899);let o=(0,r.ZP)(s.cu).attrs(e=>{let{$performance:t,...n}=e;return{$color:t>=.8?"success":t>=.5?"main0":"error",...n}}).withConfig({displayName:"styles__StyledAPYIcon",componentId:"sc-xm9cn2-0"})([""]);var l=n(20109);let NodeAPY=e=>{let{node:t,nodes:n}=e,r=new l.S,i=r.computeEstimatedStakersAPY(t,n),s=r.currentAPY(n);return(0,a.jsxs)(c,{children:[(0,a.jsx)(o,{$performance:i/s}),Number(100*i).toFixed(2),"%"]})};NodeAPY.displayName="NodeAPY";var d=(0,i.memo)(NodeAPY),c=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-t98ur1-0"})({display:"inline-flex",alignItems:"center",gap:"0.75rem"})},33910:function(e,t,n){"use strict";n.d(t,{Rr:function(){return s},ZP:function(){return l}});var a=n(85893),r=n(57833),i=n(67294);let s=r.ZP.div.withConfig({displayName:"styles__StyledDotIcon",componentId:"sc-aeyx1g-0"})(e=>{let{theme:t,$score:n}=e,a=void 0===n?t.color.disabled2:n>=.8?t.color.success:n>=.5?t.color.info:t.color.error;return[{height:"0.75rem",width:"0.5rem"},(0,r.iv)(["background-color:",";"],a)]});var o=n(68885);let NodeLinkedNodes=e=>{let{nodes:t,subfix:n,...r}=e,i=o.B.maxLinkedPerNode;return(0,a.jsxs)(d,{...r,children:[(0,a.jsx)(c,{children:Array.from({length:i},(e,n)=>{var r;return(0,a.jsx)(s,{$score:null==t?void 0:null===(r=t[n])||void 0===r?void 0:r.score},n)})}),(0,a.jsxs)(m,{className:"fs-10",children:[null==t?void 0:t.length," ",(0,a.jsxs)(u,{children:["of ",i,n]})]})]})};NodeLinkedNodes.displayName="NodeLinkedNodes";var l=(0,i.memo)(NodeLinkedNodes),d=(0,r.ZP)("div")({display:"inline-flex",alignItems:"center",gap:"0.75rem"}),c=(0,r.ZP)("div")({display:"flex",alignItems:"stretch",gap:"0.125rem"}),m=(0,r.ZP)("div")({whiteSpace:"nowrap",lineHeight:"1rem"}),u=(0,r.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-1umj7n-0"})({opacity:"0.2"})},23610:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(85893),r=n(57833),i=n(67294),s=n(73899),o=n(85033);let NodeStaked=e=>{let{staked:t,status:n,locked:r}=e,i=Math.min(t,5e5)/5e5,l=Number(t/1e3).toFixed(0);return(0,a.jsxs)(d,{className:"fs-10",children:[(0,a.jsxs)(c,{children:[(0,a.jsxs)("div",{children:[l,"k ",(0,a.jsx)(m,{children:"of 500k"})]}),(0,a.jsxs)(u,{children:[n.toUpperCase(),r&&(0,a.jsx)(s.JO,{name:"lock",size:"xs"})]})]}),(0,a.jsx)(h,{children:(0,a.jsx)(o.Z,{$percent:i,$color:i>=1?"success":"main0"})})]})};NodeStaked.displayName="NodeStaked";var l=(0,i.memo)(NodeStaked),d=(0,r.ZP)("div")({width:"100%",lineHeight:"1rem"}),c=(0,r.ZP)("div")({marginBottom:"0.625rem",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.375rem",whiteSpace:"nowrap",lineHeight:"1rem"}),m=(0,r.ZP)("span")({opacity:"0.2"}),u=(0,r.ZP)("div")({display:"flex",alignItems:"center",gap:"0.25rem",fontSize:"0.375rem"}),h=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-wob9pl-0"})({display:"flex",alignItems:"center",gap:"0.25rem"})},91489:function(e,t,n){"use strict";n.d(t,{Z:function(){return a.Z}});var a=n(29039)},43251:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var a=n(85893),r=n(57833),i=n(67294),s=n(73899);let ResponsiveTooltip=e=>{let{forwardedAs:t,as:n,...r}=e,i=(0,s._K)("md");return(0,a.jsx)(l,{...r,$_css:i?{position:"fixed !important",left:"0px !important",top:"0px !important",zIndex:"20 !important",margin:"1.5rem",height:"calc(100% - 3rem) !important",width:"calc(100% - 3rem) !important",maxWidth:"100% !important",transform:"none !important"}:""})};ResponsiveTooltip.displayName="ResponsiveTooltip";var o=(0,i.memo)(ResponsiveTooltip),l=(0,r.ZP)(s.u).withConfig({displayName:"cmp___StyledTooltip",componentId:"sc-vdmo8c-0"})(["",""],e=>e.$_css)},81990:function(e,t,n){"use strict";n.d(t,{P:function(){return unsupportedNetworkDisabledMessage}});var a=n(85893);function unsupportedNetworkDisabledMessage(e){return function(e){let{title:t,description:n}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"tp-body3 fs-18 text-base2",children:t}),(0,a.jsx)("p",{className:"tp-body1 fs-14 text-base2",children:n})]})}({title:"Ethereum network required",description:(0,a.jsxs)(a.Fragment,{children:[e," doesn't support this action. Please switch to the"," ",(0,a.jsx)("strong",{children:"Ethereum"})," chain using the dropdown at the top of the page."]})})}n(67294)},47569:function(e,t,n){"use strict";n.d(t,{v:function(){return useCoreChannelNodes}});var a=n(9754),r=n(67294),i=n(17675),s=n(41672);function useCoreChannelNodes(e){let{nodes:t,filterKey:n="ccnq"}=e,[o]=(0,a.mr)(),{account:l,balance:d=0}=o.connection,{data:c}=o.lastCCNVersion,{entities:m}=o.ccns,u=o.filter,h=t||m,[p,g]=(0,s.L)({key:n,debounced:200}),[f,x]=(0,r.useState)(),[v,k]=(0,r.useState)(!1),y=(0,r.useCallback)(e=>{let t=e.target.value;x(t),g(t)},[g]),w=(0,r.useCallback)(e=>{k(e.target.checked)},[]);(0,r.useEffect)(()=>{void 0===f&&p&&x(p)},[p,f]);let j=(0,r.useCallback)(e=>e?t=>{var n;return null===(n=t.name)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase())}:()=>!0,[]),b=(0,r.useCallback)(()=>e=>!!v||!e.inactive_since&&e.score>0,[v]),N=(0,r.useMemo)(()=>{if(h)return h.filter(j(p)).filter(b())},[j,b,p,h]),S=(0,r.useMemo)(()=>{if(N)return N.sort((e,t)=>t.score-e.score)},[N]),{list:P,handleSortItems:C}=(0,i.g)({list:S});return{account:l,accountBalance:d,nodes:h,filteredNodes:P,filter:f,lastVersion:c,filters:u,showInactive:v,handleSortItems:C,handleFilterChange:y,handleShowInactiveChange:w}}},37940:function(e,t,n){"use strict";n.d(t,{Y:function(){return useEthereumNetwork}});var a=n(67294),r=n(9754),i=n(72077),s=n(81990);function useEthereumNetwork(){let[e]=(0,r.mr)(),{blockchain:t}=e.connection,n=(0,a.useMemo)(()=>t===i.Ek.ETH,[t]),o=(0,a.useMemo)(()=>{var e;return t?null===(e=i.DR[t])||void 0===e?void 0:e.name:"Current network"},[t]),l=(0,a.useMemo)(()=>()=>n?void 0:(0,s.P)(o),[n,o]);return{isEthereumNetwork:n,blockchainName:o,getEthereumNetworkTooltip:l}}},92069:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ex}});var a=n(85893),r=n(57833),i=n(67294),s=n(9008),o=n.n(s),l=n(73899),d=n(9754),c=n(68885),m=n(47569),u=n(87740),h=n(49879),p=n(23147),g=n(9324),f=n(93787),x=n(20109),v=n(37940);function useStaking(){let[e,t]=(0,d.mr)(),{account:n,balance:a=0}=e.connection,{entities:r}=e.ccns,s=function(){let[e]=(0,d.mr)(),{account:t}=e.connection;return(0,i.useMemo)(()=>new x.S(t),[t])}(),o=(0,f.z)(),{isEthereumNetwork:c,getEthereumNetworkTooltip:m}=(0,v.Y)(),u=(0,l.lm)(),h=(0,i.useMemo)(()=>s.totalStakedByUser(r||[]),[r,s]),p=(0,i.useCallback)(async e=>{try{if(!u)throw Error("Notification not ready");if(!n)throw Error("Invalid account");let i=null==r?void 0:r.find(t=>t.hash===e);if(!i)throw Error("Invalid staking node");if(!o.isStakeableBy(i,a))throw Error("Not stakeable node");await s.stake(e),u.add({variant:"success",title:"Success",text:'Staked in "'.concat(e,'" successfully.')});let l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,i=[...e.filter(e=>r.isUserStake(e)),t],s=a/i.length,o=i.map(e=>({...e,stakers:{...e.stakers,[n]:s},virtual:Date.now()}));return o}(r,i,n.address,a,o);return t(new g.Wy({name:"ccns",entities:l})),!0}catch(e){null==u||u.add({variant:"error",title:"Error",text:e.message})}return!1},[n,a,t,o,r,u,s]),k=(0,i.useCallback)(async e=>{try{if(!u)throw Error("Notification not ready");if(!n)throw Error("Invalid account");let i=null==r?void 0:r.find(t=>t.hash===e);if(!i)throw Error("Invalid staking node");if(!o.isUserStake(i))throw Error("Not stakeable node");await s.unstake(e),u.add({variant:"success",title:"Success",text:'Unstaked from "'.concat(e,'" successfully.')});let l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,i=e.filter(e=>r.isUserStake(e)),s=a/(i.length-1),o=i.map(e=>{let a;if(e.hash===t.hash){let{[n]:t,...r}=e.stakers;a=r}else a={...e.stakers,[n]:s};return{...e,stakers:a,virtual:Date.now()}});return o}(r,i,n.address,a,o);return t(new g.Wy({name:"ccns",entities:l})),!0}catch(e){null==u||u.add({variant:"error",title:"Error",text:e.message})}return!1},[n,a,t,o,r,u,s]);return{userStake:h,isEthereumNetwork:c,getEthereumNetworkTooltip:m,handleStake:p,handleUnstake:k}}var k=n(17675);let y=(0,r.ZP)(l.iA).attrs(e=>({...e,borderType:"solid",stickyHeader:!1})).withConfig({displayName:"styles__StyledTable",componentId:"sc-v68eoi-0"})(["&&{thead{","}td,th{"," border-bottom:1px solid #ffffff22;&:first-child{","}&:last-child{","}}}"],{display:"none"},{width:"0px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"0.75rem",paddingBottom:"0.75rem"},{width:"66.666667%",maxWidth:"0px",fontSize:"0.75rem",textTransform:"uppercase"},{textAlign:"right"});var w=n(64139),j=n(91489);let RewardCalculator=e=>{let{nodes:t,...n}=e,[r,s]=(0,i.useState)(1e4),o=(0,i.useCallback)(e=>{let t=e.target.value?Number(e.target.value):void 0;s(t)},[]),d=(0,i.useMemo)(()=>{let e=new x.S,n=e.totalPerAlephPerDay(t||[])*(r||0),i=100*e.currentAPY(t||[]);return[{name:"Rewards per day",value:(0,a.jsx)(j.Z,{value:n})},{name:"Current APY",value:"".concat(i.toFixed(2),"%")}]},[t,r]);return(0,a.jsxs)(w.Z,{loading:!t,...n,children:[(0,a.jsx)(N,{forwardedAs:"h3",type:"info",color:"main0",children:"REWARD CALCULATOR"}),(0,a.jsx)(S,{children:(0,a.jsx)(l.oi,{value:r,onChange:o,type:"number",name:"staked-amount",placeholder:"0",label:"Amount staked",buttonStyle:"wrapped"})}),(0,a.jsx)(y,{borderType:"solid",rowKey:e=>e.name,columns:[{label:"",render:e=>e.name},{label:"",render:e=>e.value}],data:d})]})};RewardCalculator.displayName="RewardCalculator";var b=(0,i.memo)(RewardCalculator),N=(0,r.ZP)(l.DU)({marginBottom:"1.5rem"}),S=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-zdteg2-0"})({marginBottom:"1rem"}),P=n(39674),C=n(33910),Z=n(16377),_=n(23610),A=n(72882);let StakeButton=e=>{let{node:t,accountBalance:n=0,onStake:r,onUnstake:s}=e,o=(0,f.z)(),{isEthereumNetwork:d,getEthereumNetworkTooltip:c}=useStaking(),m=(0,i.useMemo)(()=>o.isUserStake(t),[t,o]),u=(0,i.useMemo)(()=>{let[e]=o.isStakeableBy(t,n);return!e},[o,t,n]),h=(0,i.useCallback)(()=>{m?s(t.hash):r(t.hash)},[m,s,t.hash,r]),p=c();return d?(0,a.jsx)(a.Fragment,{children:m?(0,a.jsx)(l.zx,{kind:"gradient",size:"md",variant:"secondary",color:"main0",onClick:h,children:"Unstake"}):(0,a.jsx)(l.zx,{kind:"gradient",size:"md",variant:"secondary",color:"main0",onClick:h,disabled:u,children:"Stake"})}):(0,a.jsx)(A.ZP,{kind:"gradient",size:"md",variant:"secondary",color:m?"main1":"main0",onClick:h,disabled:u||!d,tooltipContent:p,tooltipPosition:{my:"bottom-center",at:"top-center"},children:m?"Unstake":"Stake"})};StakeButton.displayName="StakeButton";var I=(0,i.memo)(StakeButton);let NodeAmount=e=>{let{amount:t}=e;return(0,a.jsx)(j.Z,{value:t})};NodeAmount.displayName="NodeAmount";var E=(0,i.memo)(NodeAmount),B=n(34517),R=n(16451),T=n(25675),D=n.n(T);let StakingNodesTable=e=>{let{nodes:t,filteredNodes:n,account:r,accountBalance:s,showStakedAmount:o,nodesIssues:d,loadItemsDisabled:c,handleLoadItems:m,handleSortItems:u,handleStake:h,handleUnstake:p}=e,{apiServer:g}=(0,R.r)(),f=(0,i.useMemo)(()=>{let e=[{label:"",align:"center",render:e=>(null==d?void 0:d[e.hash])?(0,a.jsx)(z,{children:"\xa0"}):null},{label:"EST. APY",render:e=>(0,a.jsx)(Z.Z,{node:e,nodes:t})},{label:"NAME",sortable:!0,sortBy:e=>e.name,render:e=>(0,a.jsx)(l.tJ,{hash:e.hash,name:e.name,picture:e.picture,apiServer:g,ImageCmp:D()})},{label:"STAKED",sortable:!0,width:"100%",sortBy:e=>e.total_staked,render:e=>(0,a.jsx)(_.Z,{staked:e.total_staked,status:e.status,locked:e.locked})},{label:"LINKED",sortable:!0,sortBy:e=>e.resource_nodes.length,render:e=>(0,a.jsx)(C.ZP,{nodes:e.crnsData})},{label:"SCORE",sortable:!0,sortBy:e=>e.score,render:e=>(0,a.jsx)(l.WG,{score:e.score})},{label:"",align:"right",render:e=>(0,a.jsxs)(W,{children:[(0,a.jsx)(I,{node:e,accountBalance:s,onStake:h,onUnstake:p}),(0,a.jsx)(B.Z,{kind:"gradient",size:"md",variant:"secondary",color:"main0",href:"/account/earn/ccn/".concat(e.hash),children:"Info"})]})}];return o&&r&&e.splice(e.length-1,0,{label:"AMOUNT",sortable:!0,sortBy:e=>e.stakers[r.address]||0,render:e=>(0,a.jsx)(E,{amount:e.stakers[r.address]||0})}),e},[r,s,g,t,d,h,p,o]);return(0,a.jsx)(P.Z,{columns:f,data:n,infiniteScroll:!c,onLoadMore:m,onSort:u})};StakingNodesTable.displayName="StakingNodesTable";var M=(0,i.memo)(StakingNodesTable),z=(0,r.ZP)(l.Cc)({marginLeft:"auto !important",marginRight:"auto !important",display:"flex !important"}),W=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-8coxzr-0"})({display:"flex",justifyContent:"flex-end",gap:"0.75rem"}),U=n(77091),F=n(45866),L=n(34816),Y=n(43815),O=n(32006),$=n(47432);let StakeChart=e=>{let{nodes:t,...n}=e,s=(0,i.useMemo)(()=>new x.S,[]),o=(0,r.Fg)(),d=(0,i.useMemo)(()=>{let e=s.totalStakedByOperators(t||[]),n=s.totalStaked(t||[]),a=n-e;return[{label:"Stakers",value:"".concat((a/1e6).toFixed(2),"M"),percentage:a/n,gradient:"main0"},{label:"Node operators",value:"".concat((e/1e6).toFixed(2),"M"),percentage:e/n,color:"main1"}]},[t,s]),c=o.color.disabled2;return(0,a.jsxs)(w.Z,{loading:!t,...n,children:[(0,a.jsx)(K,{forwardedAs:"h3",type:"info",color:"main0",children:"STAKED"}),(0,a.jsxs)(J,{children:[(0,a.jsxs)(q,{data:d,width:100,height:100,margin:{},children:[(0,a.jsx)("defs",{children:(0,a.jsx)($._,{data:d})}),(0,a.jsx)(L.b,{data:[{v:1}],dataKey:"v",stroke:"transparent",innerRadius:"72%",outerRadius:"100%",startAngle:450,endAngle:90,isAnimationActive:!1,fill:c}),(0,a.jsx)(L.b,{data:d,dataKey:"percentage",stroke:"transparent",innerRadius:"72%",outerRadius:"100%",startAngle:450,endAngle:90,children:d.map(e=>{let t="gr-".concat(e.gradient),n=e.gradient?"url(#".concat(t,")"):e.color?o.color[e.color]||e.color:void 0;return(0,a.jsx)(Y.b,{fill:n},e.label)})})]}),(0,a.jsx)(X,{children:d.map(e=>(0,a.jsxs)(G,{children:[(0,a.jsx)(l.cu,{$color:"transparent"===e.color?c:e.color,$gradient:e.gradient,$size:"1.25rem"}),(0,a.jsxs)(Q,{className:"tp-body3",children:[(0,a.jsx)("div",{children:e.value}),(0,a.jsx)(V,{className:"fs-10",children:e.label})]})]},e.label))})]})]})};StakeChart.displayName="StakeChart";var H=(0,i.memo)(StakeChart),K=(0,r.ZP)(l.DU)({margin:"0px",minHeight:"2rem"}),J=(0,r.ZP)("div")({display:"flex",flexDirection:"column",alignItems:"center"}),q=(0,r.ZP)(O.u)({marginTop:"0.75rem",marginBottom:"0.75rem",minHeight:"6.25rem"}),X=(0,r.ZP)("div")({marginTop:"0.25rem",display:"flex",flexDirection:"column",gap:"1rem"}),G=(0,r.ZP)("div")({display:"flex",alignItems:"center",gap:"0.75rem"}),Q=(0,r.ZP)("div")({display:"flex",flexDirection:"column",justifyContent:"space-between",gap:"0.25rem",whiteSpace:"nowrap",fontStyle:"normal",lineHeight:"1rem !important"}),V=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-1u5aoev-0"})({opacity:"0.6"}),ee=n(2064),et=n(99983);let StakingPage=e=>{let{account:t,accountBalance:n,nodes:r,paginatedSortedFilteredNodes:s,stakeNodes:g,filteredStakeNodes:x,tabs:v,selectedTab:y,filter:w,isStakeableOnly:j,isStakeableOnlyDisabled:N,nodesIssues:S,loadItemsDisabled:P,handleLoadItems:C,handleSortItems:Z,handleTabChange:_,handleFilterChange:A,handleStake:I,handleUnstake:E,handleStakeableOnlyChange:B}=function(e){let[t]=(0,d.mr)(),{connection:{account:n,balance:r=0}}=t,s=(0,f.z)(),{nodes:o,filteredNodes:g,...x}=(0,m.v)({...e,filterKey:"ccnsq"}),[v,y]=(0,i.useState)(),w=(0,i.useCallback)(async e=>{let t=e.target.checked;y(t)},[]),{stakeNodes:j}=(0,p.e)({nodes:o}),{stakeNodes:b}=(0,p.e)({nodes:g}),{nodesIssues:N,warningFlag:S}=(0,u.i)({nodes:b,isStaking:!0}),[P,C]=(0,i.useState)(),Z=P||((null==j?void 0:j.length)?"user":"nodes"),_=(0,i.useMemo)(()=>{let e=[{id:"nodes",name:"All core nodes"},{id:"user",name:"My stakes",label:S?{label:(0,a.jsx)(l.Cc,{children:S}),position:"top"}:void 0}];return e},[S]),A=(0,i.useMemo)(()=>{if(g)return g.filter(e=>s.isStakeableBy(e,r)[0])},[r,g,s]),I=!(null==A?void 0:A.length)||"nodes"!==Z,E=!I&&(void 0!==v?v:!!n),B=(0,i.useMemo)(()=>E&&n?A:g,[E,g,n,A]),{sortedNodes:R}=(0,h.L)({nodesIssues:N,nodes:b}),{handleStake:T,handleUnstake:D}=useStaking(),M=(0,i.useCallback)(async e=>{let t=await T(e);t&&C("user")},[T]),z=(0,i.useCallback)(async e=>{let t=await D(e);t&&(!j||j.length<=1)&&C("nodes")},[D,j]),W=(0,i.useMemo)(()=>{if(B)return B.sort((e,t)=>{let n=1-Math.min(e.total_staked/c.B.maxStakedPerNode,1),a=1-Math.min(t.total_staked/c.B.maxStakedPerNode,1),r=e.score+e.total_staked>=c.B.maxStakedPerNode?0:(e.score+n)/2,i=t.score+t.total_staked>=c.B.maxStakedPerNode?0:(t.score+a)/2;return i-r})},[B]),{list:U,handleSortItems:F}=(0,k.g)({list:W}),{list:L,loadItemsDisabled:Y,handleLoadItems:O}=(0,l.fw)({list:U,itemsPerPage:20,numberOfPages:2});return{...x,account:n,accountBalance:r,nodes:o,filteredNodes:B,stakeNodes:j,filteredStakeNodes:R,selectedTab:Z,tabs:_,isStakeableOnly:E,isStakeableOnlyDisabled:I,nodesIssues:N,paginatedSortedFilteredNodes:L,loadItemsDisabled:Y,handleSortItems:F,handleLoadItems:O,handleTabChange:C,handleStake:M,handleUnstake:z,handleStakeableOnlyChange:w}}(e),{render:R}=(0,ee.W)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o(),{children:[(0,a.jsx)("title",{children:"Aleph token staking | Aleph Cloud"}),(0,a.jsx)("meta",{name:"description",content:"Control your Aleph Cloud account, manage staking, and unlock decentralized connectivity. Earn rewards for supporting confidential, decentralized cloud infrastructure."}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,a.jsx)(et.F,{$variant:"xl",children:(0,a.jsxs)("section",{children:[(0,a.jsx)(ea,{type:"h5",forwardedAs:"h1",children:"Staking"}),(0,a.jsx)(U.Z,{children:(0,a.jsxs)(er,{children:[(0,a.jsxs)(ei,{children:[(0,a.jsx)(es,{className:"tp-h7",children:"What is staking with Aleph Cloud?"}),(0,a.jsxs)("p",{className:"fs-16",children:["What is staking with Aleph Cloud? Staking is the heartbeat of our dynamic peer-to-peer network, driving security, decentralization, and rewards. With a minimum of 10,000 Aleph tokens, stakeholders form the network's foundation. Rewards are distributed every 10 days and are auto-compounded, allowing your stake to grow organically. The APY depends on factors like linked Compute Resource Nodes (CRNs) and node scoring, ensuring a fair and dynamic experience. Aleph Cloud staking empowers you to control the controllers, shaping decentralized connectivity while earning rewards. Plus, it's non-custodial."," ",(0,a.jsx)(eo,{className:"text-main0",children:"Join us today!"})]})]}),(0,a.jsxs)(el,{children:[(0,a.jsx)(ed,{children:(0,a.jsx)(b,{nodes:r})}),(0,a.jsx)(ec,{children:(0,a.jsx)(em,{children:(0,a.jsx)(H,{nodes:r})})})]})]})}),(0,a.jsxs)(eu,{children:[(0,a.jsxs)(eh,{children:[(0,a.jsxs)(ep,{children:[(0,a.jsx)(l.mQ,{tabs:v,align:"left",selected:y,onTabChange:_}),(0,a.jsx)(l.XZ,{label:"Ready to stake",checked:j,onChange:B,size:"xs",disabled:N})]}),(0,a.jsx)(l.oi,{value:w,name:"filter-ccn",placeholder:"Search me",onChange:A,icon:(0,a.jsx)(l.JO,{name:"search"})})]}),(0,a.jsxs)(eg,{children:[(0,a.jsx)(F.Z,{show:!R||!r}),R&&(0,a.jsx)(a.Fragment,{children:"user"===y?(0,a.jsx)(a.Fragment,{children:r&&x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M,{nodes:r,filteredNodes:x,accountBalance:n,account:t,handleStake:I,handleUnstake:E,showStakedAmount:!0,nodesIssues:S}),(0,a.jsx)(ef,{children:t?(null==g?void 0:g.length)?"":"You are not staking.":"Connect your wallet to see your stakes."})]}):(0,a.jsx)(a.Fragment,{children:"No data"})}):(0,a.jsx)(a.Fragment,{children:r&&(0,a.jsx)(M,{nodes:r,filteredNodes:s,accountBalance:n,account:t,handleStake:I,handleUnstake:E,nodesIssues:S,loadItemsDisabled:P,handleLoadItems:C,handleSortItems:Z})})})]})]})]})})]})};StakingPage.displayName="StakingPage";var en=(0,i.memo)(StakingPage),ea=(0,r.ZP)(l.DU)({marginBottom:"2rem"}),er=(0,r.ZP)("div")({display:"flex",flexWrap:"wrap",alignItems:"flex-start",gap:"1.5rem","@media (min-width: 87.5rem)":{flexWrap:"nowrap"}}),ei=(0,r.ZP)("div")({flex:"1 1 auto",alignSelf:"stretch"}),es=(0,r.ZP)("h2")({marginBottom:"0px"}),eo=(0,r.ZP)("strong")({fontWeight:"700"}),el=(0,r.ZP)("div")({display:"flex",maxWidth:"100%",flex:"1 1 auto",flexWrap:"wrap",alignItems:"stretch",gap:"1.5rem","@media (min-width: 87.5rem)":{flex:"none",flexWrap:"nowrap"}}),ed=(0,r.ZP)("div")({maxWidth:"100%",flex:"1 1 auto","@media (min-width: 87.5rem)":{flex:"none"}}),ec=(0,r.ZP)("div")({display:"flex",flex:"1 1 auto",flexWrap:"wrap",alignItems:"stretch",gap:"1.5rem","@media (min-width: 36rem)":{flexWrap:"nowrap"},"@media (min-width: 87.5rem)":{flex:"none"}}),em=(0,r.ZP)("div")({flex:"1 1 0%"}),eu=(0,r.ZP)("div")({marginTop:"3.5rem"}),eh=(0,r.ZP)("div")({marginBottom:"2rem",display:"flex",flexDirection:"column",flexWrap:"wrap",alignItems:"stretch",justifyContent:"space-between",gap:"2.5rem","@media (min-width: 48rem)":{flexDirection:"row",alignItems:"flex-end"}}),ep=(0,r.ZP)("div")({display:"flex",flexDirection:"column",flexWrap:"wrap",alignItems:"flex-start",gap:"2.5rem","@media (min-width: 36rem)":{flexDirection:"row",alignItems:"center",gap:"1rem"}}),eg=(0,r.ZP)("div")({position:"relative"}),ef=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv1",componentId:"sc-b0j27-0"})({marginLeft:"1rem",marginRight:"1rem",marginTop:"2.5rem",marginBottom:"2.5rem",textAlign:"center",opacity:"0.6"}),ex=en}},function(e){e.O(0,[5675,4669,2583,9774,2888,179],function(){return e(e.s=44137)}),_N_E=e.O()}]);