(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41],{37313:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/storage/volume/new",function(){return s(99249)}])},72882:function(e,r,s){"use strict";s.d(r,{ZP:function(){return h}});var l=s(85893),u=s(67294),c=s(79632),d=s(43251),f=s(19521);let m=(0,f.ZP)(c.JO).attrs(e=>{let{buttonSize:r}=e;return{size:(()=>{switch(r){case"xs":return"xs";case"sm":return"sm";case"lg":return"md-lg";case"xl":return"lg";default:return"md"}})()}}).withConfig({displayName:"styles__InfoIcon",componentId:"sc-15zds0b-0"})(["opacity:0.8;"]),p=(0,u.forwardRef)((e,r)=>{let{tooltipContent:s,tooltipPosition:f,children:p,disabled:h,size:v,...y}=e,[g,w]=(0,u.useState)(!1);(0,u.useEffect)(()=>{w(!0)},[]);let x=(0,u.useRef)(null),b=r||x;return(0,l.jsxs)("div",{className:"inline-flex relative",children:[(0,l.jsx)(c.zx,{ref:b,disabled:h,size:v,...y,children:(0,l.jsxs)(l.Fragment,{children:[p,h&&s&&(0,l.jsx)(m,{name:"info-circle",buttonSize:v})]})}),g&&h&&s&&(0,l.jsx)(d.Z,{my:(null==f?void 0:f.my)||"bottom-center",at:(null==f?void 0:f.at)||"top-center",targetRef:b,content:s})]})});p.displayName="ButtonWithInfoTooltip";var h=p},99249:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return Z}});var l=s(85893),u=s(19521),c=s(67294),d=s(9911),f=s(11163),m=s(65148),p=s(55032),h=s(24959),v=s(90805),y=s(87536),g=s(56312),w=s(37419),x=s(86780),b=s(9324),_=s(50586),j=s(28565);let N={volumeType:m.lf.New};var k=s(68805),E=s(93963),P=s(34747),z=s(75650),T=s(49531),C=s(93788),S=s(72882),Z=c.memo(function(){let{control:e,address:r,accountBalance:s,isCreateButtonDisabled:u,errors:Z,cost:V,handleSubmit:B,handleBack:F}=function(){let e=(0,f.useRouter)(),[r,s]=(0,p.mr)(),{account:l,balance:u=0}=r.connection,k=(0,v.B)(),{next:E,stop:P}=(0,x.A)({}),z=(0,c.useCallback)(async r=>{if(!k)throw _.Z.ConnectYourWallet;let l=await k.getAddSteps(r),u=l.map(e=>x.n[e]),c=k.addSteps(r);try{let r;for(;!r;){let{value:e,done:s}=await c.next();if(s){r=e[0];break}await E(u)}s(new b.Wy({name:"volume",entities:r})),await e.replace("/")}finally{await P()}},[s,k,E,e,P]),{control:T,handleSubmit:C,formState:{errors:S}}=(0,h.c)({defaultValues:N,onSubmit:z,resolver:(0,g.F)(m.l8.addSchema)}),Z=(0,y.qo)({control:T}),A=(0,c.useMemo)(()=>Z,[Z]),V=(0,c.useMemo)(()=>({entityType:d.py.Volume,props:{volume:A}}),[A]),B=(0,w.F)(V),{isCreateButtonDisabled:F}=(0,j.U)({cost:B,accountBalance:u});return{address:(null==l?void 0:l.address)||"",accountBalance:u,isCreateButtonDisabled:F,values:Z,control:T,errors:S,cost:B,handleSubmit:C,handleBack:()=>{e.push("/storage/")}}}();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(C.Z,{handleBack:F}),(0,l.jsxs)(z.l,{onSubmit:B,errors:Z,children:[(0,l.jsx)(A,{children:(0,l.jsxs)(E.Z,{children:[(0,l.jsx)(T.N,{number:"1",children:"Add volume"}),(0,l.jsx)(P.n,{control:e})]})}),(0,l.jsx)(k.Z,{address:r,cost:V,unlockedAmount:s,paymentMethod:d.XL.Hold,description:(0,l.jsx)(l.Fragment,{children:"This amount needs to be present in your wallet until the volume is removed. Tokens won 't be locked nor consumed. The volume will be garbage collected once funds are removed from the wallet."}),button:(0,l.jsx)(S.ZP,{type:"submit",color:"main0",kind:"default",size:"lg",variant:"primary",disabled:u,tooltipContent:u?function(e){let{title:r,description:s}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"tp-body3 fs-18 text-base2",children:r}),(0,l.jsx)("p",{className:"tp-body1 fs-14 text-base2",children:s})]})}({title:"Insufficient Funds",description:"You don't have enough ALEPH tokens in your wallet to create this volume. Please add more tokens to your wallet to continue."}):void 0,tooltipPosition:{my:"bottom-center",at:"top-center"},children:"Create volume"})})]})]})}),A=(0,u.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-1soo596-0"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.5rem",paddingTop:"5rem","@media (min-width: 48rem)":{paddingTop:"2.5rem",paddingBottom:"2.5rem"}})},56312:function(e,r,s){"use strict";s.d(r,{F:function(){return zod_t}});var l=s(87536),t=function(e,r,s){if(e&&"reportValidity"in e){var u=(0,l.U2)(s,r);e.setCustomValidity(u&&u.message||""),e.reportValidity()}},resolvers_i=function(e,r){var i=function(s){var l=r.fields[s];l&&l.ref&&"reportValidity"in l.ref?t(l.ref,s,e):l.refs&&l.refs.forEach(function(r){return t(r,s,e)})};for(var s in r.fields)i(s)},n=function(e,r){r.shouldUseNativeValidation&&resolvers_i(e,r);var s={};for(var u in e){var c=(0,l.U2)(r.fields,u),d=Object.assign(e[u]||{},{ref:c&&c.ref});if(a(r.names||Object.keys(e),u)){var f=Object.assign({},o((0,l.U2)(s,u)));(0,l.t8)(f,"root",d),(0,l.t8)(s,u,f)}else(0,l.t8)(s,u,d)}return s},o=function(e){return Array.isArray(e)?e.filter(Boolean):[]},a=function(e,r){return e.some(function(e){return e.startsWith(r+".")})},zod_n=function(e,r){for(var s={};e.length;){var u=e[0],c=u.code,d=u.message,f=u.path.join(".");if(!s[f]){if("unionErrors"in u){var m=u.unionErrors[0].errors[0];s[f]={message:m.message,type:m.code}}else s[f]={message:d,type:c}}if("unionErrors"in u&&u.unionErrors.forEach(function(r){return r.errors.forEach(function(r){return e.push(r)})}),r){var p=s[f].types,h=p&&p[u.code];s[f]=(0,l.KN)(f,r,s,c,h?[].concat(h,u.message):u.message)}e.shift()}return s},zod_t=function(e,r,s){return void 0===s&&(s={}),function(l,u,c){try{return Promise.resolve(function(u,d){try{var f=Promise.resolve(e["sync"===s.mode?"parse":"parseAsync"](l,r)).then(function(e){return c.shouldUseNativeValidation&&resolvers_i({},c),{errors:{},values:s.raw?l:e}})}catch(e){return d(e)}return f&&f.then?f.then(void 0,d):f}(0,function(e){if(null!=e.errors)return{values:{},errors:n(zod_n(e.errors,!c.shouldUseNativeValidation&&"all"===c.criteriaMode),c)};throw e}))}catch(e){return Promise.reject(e)}}}}},function(e){e.O(0,[536,855,747,774,888,179],function(){return e(e.s=37313)}),_N_E=e.O()}]);