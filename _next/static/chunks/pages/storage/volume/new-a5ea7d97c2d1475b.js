(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41],{37313:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/storage/volume/new",function(){return s(67828)}])},67828:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return V}});var u=s(85893),l=s(19521),d=s(67294),c=s(9911),f=s(11163),m=s(65148),p=s(55032),h=s(24959),v=s(90805),y=s(87536),g=s(56312),_=s(37419),w=s(86780),b=s(9324),j=s(50586);let E={volumeType:m.lf.New};var x=s(79632),N=s(68805),k=s(93963),T=s(34747),A=s(75650),C=s(49531),S=s(93788),V=d.memo(function(){let{control:e,address:r,accountBalance:s,isCreateButtonDisabled:l,errors:V,cost:z,handleSubmit:F,handleBack:P}=function(){let e=(0,f.useRouter)(),[r,s]=(0,p.mr)(),{account:u,balance:l=0}=r.connection,x=(0,v.B)(),{next:N,stop:k}=(0,w.A)({}),T=(0,d.useCallback)(async r=>{if(!x)throw j.Z.ConnectYourWallet;let u=await x.getAddSteps(r),l=u.map(e=>w.n[e]),d=x.addSteps(r);try{let r;for(;!r;){let{value:e,done:s}=await d.next();if(s){r=e[0];break}await N(l)}s(new b.Wy({name:"volume",entities:r})),await e.replace("/")}finally{await k()}},[s,x,N,e,k]),{control:A,handleSubmit:C,formState:{errors:S}}=(0,h.c)({defaultValues:E,onSubmit:T,resolver:(0,g.F)(m.l8.addSchema)}),V=(0,y.qo)({control:A}),B=(0,d.useMemo)(()=>V,[V]),z=(0,d.useMemo)(()=>({entityType:c.py.Volume,props:{volume:B}}),[B]),F=(0,_.F)(z),P=l>=((null==F?void 0:F.cost)||Number.MAX_SAFE_INTEGER);return{address:(null==u?void 0:u.address)||"",accountBalance:l,isCreateButtonDisabled:!P,values:V,control:A,errors:S,cost:F,handleSubmit:C,handleBack:()=>{e.push("/storage/")}}}();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(S.Z,{handleBack:P}),(0,u.jsxs)(A.l,{onSubmit:F,errors:V,children:[(0,u.jsx)(B,{children:(0,u.jsxs)(k.Z,{children:[(0,u.jsx)(C.N,{number:"1",children:"Add volume"}),(0,u.jsx)(T.n,{control:e})]})}),(0,u.jsx)(N.Z,{address:r,cost:z,unlockedAmount:s,paymentMethod:c.XL.Hold,description:(0,u.jsx)(u.Fragment,{children:"This amount needs to be present in your wallet until the volume is removed. Tokens won 't be locked nor consumed. The volume will be garbage collected once funds are removed from the wallet."}),button:(0,u.jsx)(x.zx,{type:"submit",color:"main0",kind:"default",size:"lg",variant:"primary",disabled:l,children:"Create volume"})})]})]})}),B=(0,l.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-1soo596-0"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.5rem",paddingTop:"5rem","@media (min-width: 48rem)":{paddingTop:"2.5rem",paddingBottom:"2.5rem"}})},56312:function(e,r,s){"use strict";s.d(r,{F:function(){return zod_t}});var u=s(87536),t=function(e,r,s){if(e&&"reportValidity"in e){var l=(0,u.U2)(s,r);e.setCustomValidity(l&&l.message||""),e.reportValidity()}},resolvers_i=function(e,r){var i=function(s){var u=r.fields[s];u&&u.ref&&"reportValidity"in u.ref?t(u.ref,s,e):u.refs&&u.refs.forEach(function(r){return t(r,s,e)})};for(var s in r.fields)i(s)},n=function(e,r){r.shouldUseNativeValidation&&resolvers_i(e,r);var s={};for(var l in e){var d=(0,u.U2)(r.fields,l),c=Object.assign(e[l]||{},{ref:d&&d.ref});if(a(r.names||Object.keys(e),l)){var f=Object.assign({},o((0,u.U2)(s,l)));(0,u.t8)(f,"root",c),(0,u.t8)(s,l,f)}else(0,u.t8)(s,l,c)}return s},o=function(e){return Array.isArray(e)?e.filter(Boolean):[]},a=function(e,r){return e.some(function(e){return e.startsWith(r+".")})},zod_n=function(e,r){for(var s={};e.length;){var l=e[0],d=l.code,c=l.message,f=l.path.join(".");if(!s[f]){if("unionErrors"in l){var m=l.unionErrors[0].errors[0];s[f]={message:m.message,type:m.code}}else s[f]={message:c,type:d}}if("unionErrors"in l&&l.unionErrors.forEach(function(r){return r.errors.forEach(function(r){return e.push(r)})}),r){var p=s[f].types,h=p&&p[l.code];s[f]=(0,u.KN)(f,r,s,d,h?[].concat(h,l.message):l.message)}e.shift()}return s},zod_t=function(e,r,s){return void 0===s&&(s={}),function(u,l,d){try{return Promise.resolve(function(l,c){try{var f=Promise.resolve(e["sync"===s.mode?"parse":"parseAsync"](u,r)).then(function(e){return d.shouldUseNativeValidation&&resolvers_i({},d),{errors:{},values:s.raw?u:e}})}catch(e){return c(e)}return f&&f.then?f.then(void 0,c):f}(0,function(e){if(null!=e.errors)return{values:{},errors:n(zod_n(e.errors,!d.shouldUseNativeValidation&&"all"===d.criteriaMode),d)};throw e}))}catch(e){return Promise.reject(e)}}}}},function(e){e.O(0,[536,406,747,774,888,179],function(){return e(e.s=37313)}),_N_E=e.O()}]);