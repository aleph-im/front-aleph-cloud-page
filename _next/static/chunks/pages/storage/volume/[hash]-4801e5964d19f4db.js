(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[936],{30711:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/storage/volume/[hash]",function(){return t(23846)}])},34517:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var i=t(85893),r=t(67294),o=t(41664),a=t.n(o),s=t(79632);let ButtonLink=e=>{let{href:n,variant:t="secondary",color:r="main0",kind:o="default",size:d="md",disabled:c,children:l,...m}=e,u=(0,i.jsx)(s.zx,{as:c?void 0:"a",variant:t,color:r,kind:o,size:d,disabled:c,...m,children:l});return c?u:(0,i.jsx)(a(),{href:n,passHref:!0,legacyBehavior:!0,children:u})};ButtonLink.displayName="ButtonLink";var d=(0,r.memo)(ButtonLink)},93963:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var i=t(19521);let r={xl:90,lg:60.0625,md:44.6875},o=i.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-1bpjbi2-0"})(["",""],e=>{let{$variant:n="lg"}=e;return(0,i.iv)([""," max-width:","rem;"],{marginLeft:"auto",marginRight:"auto",width:"100%",paddingLeft:"1.5rem",paddingRight:"1.5rem","@media (min-width: 62rem)":{paddingLeft:"4rem",paddingRight:"4rem"}},r[n])});var a=o},76696:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var i=t(85893),r=t(19521),o=t(67294),a=t(70150),s=t(79632);let d=r.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-hdgoyh-0"})(["",""],e=>{let{theme:n}=e;return(0,r.iv)([""," ","{color:",";}&:hover ","{color:",";}"],{display:"flex",cursor:"pointer",alignItems:"center"},c,n.color.purple4,c,n.color.main0)}),c=(0,r.ZP)(s.JO).withConfig({displayName:"styles__StyledIcon",componentId:"sc-hdgoyh-1"})(["",""],e=>{let{theme:n}=e;return(0,r.iv)([""," transition-property:color;transition-duration:","ms;transition-timing-function:",";"],{marginLeft:"0.5rem",cursor:"pointer"},n.transition.duration.fast,n.transition.timing)}),IconText=e=>{let{children:n,onClick:t,iconName:r}=e;return(0,i.jsxs)(d,{onClick:t,children:[(0,i.jsx)(m,{children:n}),(0,i.jsx)(u,{name:r,className:"text-purple4"})]})};IconText.displayName="IconText";var l=(0,o.memo)(IconText),m=(0,r.ZP)(a.xv).withConfig({displayName:"cmp___StyledText",componentId:"sc-3gm8x3-0"})({wordBreak:"break-all"}),u=(0,r.ZP)(c).withConfig({displayName:"cmp___StyledStyledIcon",componentId:"sc-3gm8x3-1"})({marginLeft:"0.5rem",cursor:"pointer"})},70150:function(e,n,t){"use strict";t.d(n,{W2:function(){return d},Z0:function(){return a},xv:function(){return s}});var i=t(19521),r=t(93963),o=t(79632);let a=i.ZP.hr.withConfig({displayName:"common__Separator",componentId:"sc-1mp6l0k-0"})([""," border:0;border-top:1px solid ",";opacity:0.3;"],{marginTop:"1.25rem",marginBottom:"1.25rem"},e=>{let{theme:n}=e;return n.color.main0}),s=i.ZP.span.attrs((0,o.PT)("tp-body1 text-text")).withConfig({displayName:"common__Text",componentId:"sc-1mp6l0k-1"})([""]),d=(0,i.ZP)(r.Z).attrs(e=>({...e,variant:"dashboard"})).withConfig({displayName:"common__Container",componentId:"sc-1mp6l0k-2"})([""])},69368:function(e,n,t){"use strict";t.d(n,{vx:function(){return useCopyToClipboardAndNotify}});var i=t(79632),r=t(67294);function useCopyToClipboardAndNotify(){let[e,n]=function(){let[e,n]=(0,r.useState)(null),copy=async e=>{var t;if(!(null===(t=navigator)||void 0===t?void 0:t.clipboard))return console.warn("Clipboard not supported"),!1;try{return await navigator.clipboard.writeText(e),n(e),!0}catch(e){return console.warn("Copy failed",e),n(null),!1}};return[e,copy]}(),t=(0,i.lm)(),o=(0,r.useCallback)(async e=>{let i=await n(e);i&&t&&t.add({variant:"success",title:"Copied to clipboard"})},[n,t]);return[e,o]}},90805:function(e,n,t){"use strict";t.d(n,{B:function(){return useVolumeManager}});var i=t(55640);function useVolumeManager(){let[e]=(0,i.mr)(),{volumeManager:n}=e.manager;return n}},7770:function(e,n,t){"use strict";t.d(n,{S:function(){return useRequestVolumes}});var i=t(68607),r=t(90805),o=t(36949),a=t(55640);function useRequestVolumes(){let{id:e,triggerDeps:n=[],triggerOnMount:t=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[s]=(0,a.mr)(),{account:d}=s.connection;n=[d,...n];let c=(0,r.B)(),{data:l,request:m}=(0,i.M)({name:"volume",doRequest:async()=>{if(!c)return[];if(!e)return c.getAll();{let n=await c.get(e);return n?[n]:[]}},onSuccess:()=>null,flushData:!e,triggerOnMount:t,triggerDeps:n});return(0,o.C)({entities:l,request:m,triggerOnMount:t}),{entities:l}}},36949:function(e,n,t){"use strict";t.d(n,{C:function(){return useRetryNotConfirmedEntities}});var i=t(67294);function useRetryNotConfirmedEntities(e){let{entities:n=[],request:t,triggerOnMount:r}=e;(0,i.useEffect)(()=>{if(!r)return;let e=(Array.isArray(n)?n:[n]).filter(e=>!e.confirmed);if(!e.length)return;let i=setInterval(t,1e4);return()=>clearInterval(i)},[n,t,r])}},68607:function(e,n,t){"use strict";t.d(n,{M:function(){return useAppStoreEntityRequest}});var i=t(67294),r=t(55640),o=t(9324),a=t(79632);function useAppStoreEntityRequest(e){let[n,t]=(0,r.mr)();return function(e){let{state:n,dispatch:t,name:r,...s}=e,d=n[r],c=(0,i.useMemo)(()=>{let{entities:e,keys:n,...t}=d;return{data:e,...t}},[d]);return(0,a.QT)({state:c,setState:e=>t(new o.B9({name:r,state:e})),...s})}({state:n,dispatch:t,...e})}},23846:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ManageVolume}});var i=t(85893),r=t(19521),o=t(34517),a=t(76696),s=t(79632),d=t(9911),c=t(11163),l=t(67294),m=t(69368),u=t(90805),p=t(55640),f=t(7770),g=t(9324),h=t(69060),y=t(70150),x=t(11505);function ManageVolume(){let{volume:e,handleCopyHash:n,handleDelete:t,handleDownload:L}=function(){let[,e]=(0,p.mr)(),n=(0,c.useRouter)(),{hash:t}=n.query,{entities:i}=(0,f.S)({id:t}),[r]=i||[],[,o]=(0,m.vx)(),a=(0,u.B)(),s=(0,l.useCallback)(()=>{o((null==r?void 0:r.id)||"")},[o,r]),d=(0,l.useCallback)(async()=>{if(!a)throw Error("Manager not ready");if(!r)throw Error("Invalid volume");try{await a.del(r),e(new g.gg({name:"volume",keys:[r.id]})),await n.replace("/")}catch(e){}},[a,r,e,n]),h=(0,l.useCallback)(async()=>{if(!a)throw Error("Manager not ready");if(!r)throw Error("Invalid volume");await a.download(r)},[a,r]);return{volume:r,handleCopyHash:s,handleDelete:d,handleDownload:h}}(),A=(0,r.Fg)();if(!e)return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(y.W2,{children:(0,i.jsx)(v,{children:"Loading..."})})});let M=(0,h.zN)(e.id),q=d.K_[e.type];return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(_,{children:(0,i.jsxs)(y.W2,{children:[(0,i.jsxs)(w,{children:[(0,i.jsxs)(j,{children:[(0,i.jsx)(C,{name:"floppy-disk",className:"text-main0"}),(0,i.jsx)("div",{className:"tp-body2",children:M}),(0,i.jsx)(N,{kind:"secondary",variant:e.confirmed?"success":"warning",children:e.confirmed?"READY":(0,i.jsxs)(I,{children:[(0,i.jsx)(S,{children:"CONFIRMING"}),(0,i.jsx)(x.s5,{strokeColor:A.color.base2,width:".8rem"})]})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(Z,{size:"md",variant:"tertiary",color:"main0",kind:"default",forwardedAs:"a",onClick:L,children:"Download"}),(0,i.jsx)(s.zx,{kind:"functional",variant:"warning",size:"md",onClick:t,children:"Delete"})]})]}),(0,i.jsxs)(s.Jy,{children:[(0,i.jsxs)(P,{children:[(0,i.jsx)(b,{variant:"accent",children:q}),(0,i.jsxs)(k,{children:[(0,i.jsx)("div",{className:"tp-info text-main0",children:"ITEM HASH"}),(0,i.jsx)(a.Z,{iconName:"copy",onClick:n,children:e.id})]})]}),(0,i.jsx)(y.Z0,{}),(0,i.jsxs)(R,{children:[(0,i.jsx)("div",{className:"tp-info text-main0",children:"EXPLORER"}),(0,i.jsx)("div",{children:(0,i.jsx)("a",{className:"tp-body1 fs-16",href:e.url,target:"_blank",referrerPolicy:"no-referrer",children:(0,i.jsx)(a.Z,{iconName:"square-up-right",children:(0,i.jsx)(y.xv,{children:(0,h.bs)(e.url,80)})})})})]}),(0,i.jsxs)(T,{children:[(0,i.jsxs)(E,{children:[(0,i.jsx)("div",{className:"tp-info text-main0",children:"SIZE"}),(0,i.jsx)("div",{children:(0,i.jsx)(y.xv,{className:"fs-10 tp-body1",children:(0,h.eB)(e.size,"MiB")})})]}),(0,i.jsxs)(B,{children:[(0,i.jsx)("div",{className:"tp-info text-main0",children:"CREATED ON"}),(0,i.jsx)("div",{children:(0,i.jsx)(y.xv,{className:"fs-10 tp-body1",children:e.date})})]})]})]}),(0,i.jsx)(D,{children:(0,i.jsx)(o.Z,{variant:"primary",href:"/storage/volume/new",children:"Create new volume"})})]})})})}var v=(0,r.ZP)(s.Jy).withConfig({displayName:"cmp___StyledNoisyContainer",componentId:"sc-1ow8j9g-0"})({marginTop:"1rem",marginBottom:"1rem"}),_=(0,r.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-1ow8j9g-1"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.5rem",paddingTop:"5rem","@media (min-width: 48rem)":{paddingTop:"2.5rem",paddingBottom:"2.5rem"}}),w=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1ow8j9g-2"})({display:"flex",justifyContent:"space-between",paddingBottom:"1.25rem"}),j=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1ow8j9g-3"})({display:"flex",alignItems:"center"}),C=(0,r.ZP)(s.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-1ow8j9g-4"})({marginRight:"1rem"}),N=(0,r.ZP)(s.__).withConfig({displayName:"cmp___StyledLabel",componentId:"sc-1ow8j9g-5"})({marginLeft:"1rem"}),I=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1ow8j9g-6"})({display:"flex",alignItems:"center"}),S=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-1ow8j9g-7"})({marginRight:"0.5rem"}),Z=(0,r.ZP)(s.zx).withConfig({displayName:"cmp___StyledButton",componentId:"sc-1ow8j9g-8"})({marginRight:"1rem !important"}),P=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-1ow8j9g-9"})({display:"flex",alignItems:"center",justifyContent:"flex-start",overflow:"hidden"}),b=(0,r.ZP)(s.Vp).withConfig({displayName:"cmp___StyledTag",componentId:"sc-1ow8j9g-10"})({marginRight:"1rem",whiteSpace:"nowrap"}),k=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-1ow8j9g-11"})({flex:"1 1 auto"}),R=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-1ow8j9g-12"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),T=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv8",componentId:"sc-1ow8j9g-13"})({marginTop:"1.25rem",marginBottom:"1.25rem",display:"flex"}),E=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv9",componentId:"sc-1ow8j9g-14"})({marginRight:"1.25rem"}),B=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv10",componentId:"sc-1ow8j9g-15"})({marginRight:"1.25rem"}),D=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv11",componentId:"sc-1ow8j9g-16"})({marginTop:"5rem",textAlign:"center"})}},function(e){e.O(0,[774,888,179],function(){return e(e.s=30711)}),_N_E=e.O()}]);