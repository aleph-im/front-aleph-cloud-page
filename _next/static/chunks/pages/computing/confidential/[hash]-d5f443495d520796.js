(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[568],{68798:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/computing/confidential/[hash]",function(){return n(24294)}])},93788:function(e,i,n){"use strict";n.d(i,{Z:function(){return BackButtonSection_cmp}});var t=n(85893),s=n(19521),l=n(70150),r=n(19584),BackButtonSection_cmp=e=>{let{handleBack:i}=e;return(0,t.jsx)(d,{children:(0,t.jsx)(l.W2,{children:(0,t.jsx)(r.Z,{handleBack:i})})})},d=(0,s.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-o42jnx-0"})({paddingTop:"0px !important",paddingBottom:"0px !important",paddingLeft:"0px",paddingRight:"0px","@media (min-width: 48rem)":{paddingTop:"2.5rem !important"}})},34517:function(e,i,n){"use strict";n.d(i,{Z:function(){return a}});var t=n(85893),s=n(67294),l=n(41664),r=n.n(l),d=n(79632);let ButtonLink=e=>{let{href:i,variant:n="secondary",color:s="main0",kind:l="default",size:a="md",disabled:o,children:c,...m}=e,p=(0,t.jsx)(d.zx,{as:o?void 0:"a",variant:n,color:s,kind:l,size:a,disabled:o,...m,children:c});return o?p:(0,t.jsx)(r(),{href:i,passHref:!0,legacyBehavior:!0,children:p})};ButtonLink.displayName="ButtonLink";var a=(0,s.memo)(ButtonLink)},5598:function(e,i,n){"use strict";n.d(i,{Z:function(){return h}});var t=n(85893),s=n(19521),l=n(41664),r=n.n(l),d=n(49107),a=n(67294),o=n(70150),c=n(76696),m=n(79632);let VolumeItem=e=>{let{volume:i}=e,n=(0,m.vx)((null==i?void 0:i.ref)||"");return(0,t.jsx)(x,{children:(0,d.w2)(i)?(0,t.jsxs)(y,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"PERSISTENT VOLUME"}),(0,t.jsx)(o.xv,{className:"fs-10 tp-body1",children:(0,d.eB)(i.size_mib,"MiB")})]}):(0,d.Py)(i)?(0,t.jsxs)(f,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"EPHEMERAL VOLUME"}),(0,t.jsx)(o.xv,{className:"fs-10 tp-body1",children:(0,d.eB)(i.size_mib,"MiB")})]}):(0,t.jsxs)(g,{children:[(0,t.jsxs)(u,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"IMMUTABLE VOLUME"}),(0,t.jsx)(r(),{className:"tp-body1 fs-16",href:"/storage/volume/".concat(i.ref),children:(0,t.jsx)(c.Z,{iconName:"square-up-right",children:"Volume details"})})]}),(0,t.jsx)("div",{className:"tp-info text-main0",children:"ITEM HASH"}),(0,t.jsx)(c.Z,{iconName:"copy",onClick:n,children:i.ref}),i.mount&&(0,t.jsxs)(v,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"MOUNT"}),(0,t.jsx)(o.xv,{children:i.mount})]})]})})};VolumeItem.displayName="VolumeItem";let VolumeList=e=>{let{volumes:i}=e;return(0,t.jsx)(t.Fragment,{children:i.map((e,i)=>(0,t.jsx)(p,{volume:e},i))})};VolumeList.displayName="VolumeList";let p=(0,a.memo)(VolumeItem);var h=(0,a.memo)(VolumeList),x=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1118z9h-0"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),y=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1118z9h-1"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),f=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1118z9h-2"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),g=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-1118z9h-3"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),u=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-1118z9h-4"})({marginBottom:"1.25rem"}),v=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-1118z9h-5"})({marginTop:"1.25rem"})},8252:function(e,i,n){"use strict";n.d(i,{o:function(){return useAuthorization}});var t=n(55032),s=n(67294),l=n(54976);function useAuthorization(){let[{authorization:e},i]=(0,t.mr)();return(0,s.useMemo)(()=>{i(new l._j({features:["confidentials"]}))},[i,!0]),e}},57261:function(e,i,n){"use strict";n.d(i,{G:function(){return useConfidentialManager}});var t=n(55032);function useConfidentialManager(){let[e]=(0,t.mr)(),{confidentialManager:i}=e.manager;return i}},18395:function(e,i,n){"use strict";n.d(i,{p:function(){return useSSHKeyManager}});var t=n(55032);function useSSHKeyManager(){let[e]=(0,t.mr)(),{sshKeyManager:i}=e.manager;return i}},75899:function(e,i,n){"use strict";n.d(i,{x:function(){return useRequestConfidentials}});var t=n(77205),s=n(57261);function useRequestConfidentials(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(0,s.G)();return(0,t.F)({...e,manager:i,name:"confidential"})}},24294:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return ManageConfidential}});var t=n(85893),s=n(19521),l=n(34517),r=n(76696),d=n(79632),a=n(9911),o=n(49107),c=n(70150),m=n(5598),p=n(11505),h=n(41664),x=n.n(h),y=n(93788),f=n(11163),g=n(67294),u=n(18395),v=n(75899),_=n(8252),j=n(57125),N=n(57261);function ManageConfidential(){var e;let{authorized:i,theme:n,confidential:h,status:X,mappedKeys:Y,nodeDetails:Q,handleCopyHash:$,handleCopyConnect:ee,handleCopyIpv6:ei,handleBack:en}=function(){let e=(0,s.Fg)(),i=(0,f.useRouter)(),{push:n,query:{hash:t}}=i,{confidentials:l}=(0,_.o)();(0,g.useEffect)(()=>{l||n("/")},[l,n]);let{entities:r}=(0,v.x)({ids:t}),[a]=r||[],o=(0,N.G)(),c=(0,j.y)({executable:a,manager:o,subscribeLogs:!1}),{status:m}=c,[p,h]=(0,g.useState)([]),x=(0,u.p)();(0,g.useEffect)(()=>{if(!a||!x)return;let getMapped=async()=>{let e=await (null==x?void 0:x.getByValues(a.authorized_keys||[]));h(e)};getMapped()},[x,a]);let y=(0,d.vx)((null==a?void 0:a.id)||""),w=(0,d.vx)((null==m?void 0:m.ipv6Parsed)||""),C=(0,d.vx)("ssh root@".concat(null==m?void 0:m.ipv6Parsed));return{...c,authorized:l,theme:e,confidential:a,status:m,mappedKeys:p,handleCopyHash:y,handleCopyConnect:C,handleCopyIpv6:w,handleBack:()=>{n(".")}}}();if(!i)return;if(!h)return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.Z,{handleBack:en}),(0,t.jsx)(c.W2,{children:(0,t.jsx)(w,{children:"Loading..."})})]});let et=(null==h?void 0:null===(e=h.metadata)||void 0===e?void 0:e.name)||(0,o.zN)(h.id),es=a.K_[h.type],el=h.volumes;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.Z,{handleBack:en}),(0,t.jsx)(C,{children:(0,t.jsxs)(c.W2,{children:[(0,t.jsx)(S,{children:(0,t.jsxs)(b,{children:[(0,t.jsx)(Z,{name:"alien-8bit",className:"text-main0"}),(0,t.jsx)("div",{className:"tp-body2",children:et}),(0,t.jsx)(I,{kind:"secondary",variant:h.time<Date.now()-45e3&&(null==X?void 0:X.ipv6Parsed)?"success":"warning",children:(null==X?void 0:X.ipv6Parsed)?"READY":(0,t.jsxs)(P,{children:[(0,t.jsx)(B,{children:"CONFIRMING"}),(0,t.jsx)(p.s5,{strokeColor:n.color.base2,width:".8rem"})]})})]})}),(0,t.jsxs)(d.Jy,{children:[(0,t.jsxs)(D,{children:[(0,t.jsx)(q,{variant:"accent",children:es}),(0,t.jsxs)(T,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"ITEM HASH"}),(0,t.jsx)(r.Z,{iconName:"copy",onClick:$,children:h.id})]})]}),(0,t.jsx)(c.Z0,{}),(0,t.jsxs)(M,{children:[(0,t.jsxs)(k,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"CORES"}),(0,t.jsx)("div",{children:(0,t.jsxs)(c.xv,{children:[h.resources.vcpus," x86 64bit"]})})]}),(0,t.jsxs)(E,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"RAM"}),(0,t.jsx)("div",{children:(0,t.jsx)(c.xv,{children:(0,o.Fx)(h.resources.memory,{from:"MiB",to:"GiB",displayUnit:!0})})})]}),(0,t.jsxs)(R,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"HDD"}),(0,t.jsx)("div",{children:(0,t.jsx)(c.xv,{children:(0,o.Fx)(h.size,{from:"MiB",to:"GiB",displayUnit:!0})})})]})]}),(0,t.jsxs)(L,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"EXPLORER"}),(0,t.jsx)("div",{children:(0,t.jsx)("a",{className:"tp-body1 fs-16",href:h.url,target:"_blank",referrerPolicy:"no-referrer",children:(0,t.jsx)(r.Z,{iconName:"square-up-right",children:(0,t.jsx)(c.xv,{children:(0,o.bs)(h.url,80)})})})})]}),(0,t.jsx)(c.Z0,{}),(0,t.jsxs)(z,{children:[(0,t.jsx)(d.DU,{type:"h7",as:"h2",color:"main0",children:"Connection methods"}),(0,t.jsxs)(V,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"SSH COMMAND"}),(0,t.jsx)("div",{children:X?(0,t.jsx)(r.Z,{iconName:"copy",onClick:ee,children:(0,t.jsxs)(c.xv,{children:[">_ ssh root@",X.ipv6Parsed]})}):(0,t.jsxs)(A,{children:[(0,t.jsx)(U,{className:"tp-body1 fs-16 text-main2",children:"Allocating"}),(0,t.jsx)(p.g4,{width:".8rem",height:"1rem",color:n.color.main2})]})})]}),(0,t.jsxs)(H,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"IPv6"}),(0,t.jsx)("div",{children:X&&(0,t.jsx)(r.Z,{iconName:"copy",onClick:ei,children:(0,t.jsx)(c.xv,{children:X.ipv6Parsed})})})]})]}),(0,t.jsxs)(O,{children:[(0,t.jsx)(d.DU,{type:"h7",as:"h2",color:"main0",children:"Accessible for"}),(0,t.jsx)(F,{children:Y.map((e,i)=>e&&(0,t.jsxs)(G,{children:[(0,t.jsxs)("div",{className:"tp-info text-main0",children:["SSH KEY #",i+1]}),(0,t.jsx)(x(),{className:"tp-body1 fs-16",href:"?hash="+e.id,referrerPolicy:"no-referrer",children:(0,t.jsx)(r.Z,{iconName:"square-up-right",children:(0,t.jsx)(c.xv,{children:e.label})})})]},null==e?void 0:e.id))})]}),Q&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Z0,{}),(0,t.jsx)(d.DU,{type:"h7",as:"h2",color:"main0",children:"Current CRN"}),(0,t.jsxs)(K,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"NAME"}),(0,t.jsx)("div",{children:(0,t.jsx)(c.xv,{children:Q.name})})]}),(0,t.jsxs)(W,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"URL"}),(0,t.jsx)("div",{children:(0,t.jsx)("a",{className:"tp-body1 fs-16",href:Q.url,target:"_blank",referrerPolicy:"no-referrer",children:(0,t.jsx)(r.Z,{iconName:"square-up-right",children:(0,t.jsx)(c.xv,{children:(0,o.bs)(Q.url,80)})})})})]})]}),el.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Z0,{}),(0,t.jsx)(d.DU,{type:"h7",as:"h2",color:"main0",children:"Linked Storage(s)"}),(0,t.jsx)(m.Z,{volumes:el})]})]}),(0,t.jsx)(J,{children:(0,t.jsx)(l.Z,{variant:"primary",href:"https://docs.aleph.im/computing/confidential/",target:"_blank",children:"Create new confidential instance"})})]})})]})}var w=(0,s.ZP)(d.Jy).withConfig({displayName:"cmp___StyledNoisyContainer",componentId:"sc-yblltq-0"})({marginTop:"1rem",marginBottom:"1rem"}),C=(0,s.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-yblltq-1"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.5rem",paddingTop:"5rem","@media (min-width: 48rem)":{paddingTop:"2.5rem",paddingBottom:"2.5rem"}}),S=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-yblltq-2"})({display:"flex",flexDirection:"column",flexWrap:"wrap",justifyContent:"space-between",gap:"1rem",paddingBottom:"1.25rem","@media (min-width: 48rem)":{flexDirection:"row"}}),b=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-yblltq-3"})({display:"flex",alignItems:"center"}),Z=(0,s.ZP)(d.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-yblltq-4"})({marginRight:"1rem"}),I=(0,s.ZP)(d.__).withConfig({displayName:"cmp___StyledLabel",componentId:"sc-yblltq-5"})({marginLeft:"1rem"}),P=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-yblltq-6"})({display:"flex",alignItems:"center"}),B=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-yblltq-7"})({marginRight:"0.5rem"}),D=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-yblltq-8"})({display:"flex",alignItems:"center",justifyContent:"flex-start",overflow:"hidden"}),q=(0,s.ZP)(d.Vp).withConfig({displayName:"cmp___StyledTag",componentId:"sc-yblltq-9"})({marginRight:"1rem",whiteSpace:"nowrap"}),T=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-yblltq-10"})({flex:"1 1 auto"}),M=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-yblltq-11"})({marginTop:"1.25rem",marginBottom:"1.25rem",display:"flex"}),k=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv8",componentId:"sc-yblltq-12"})({marginRight:"1.25rem"}),E=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv9",componentId:"sc-yblltq-13"})({marginRight:"1.25rem"}),R=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv10",componentId:"sc-yblltq-14"})({marginRight:"1.25rem"}),L=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv11",componentId:"sc-yblltq-15"})({marginRight:"1.25rem"}),z=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv12",componentId:"sc-yblltq-16"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),V=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv13",componentId:"sc-yblltq-17"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),A=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv14",componentId:"sc-yblltq-18"})({display:"flex",alignItems:"flex-end"}),U=(0,s.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-yblltq-19"})({marginRight:"0.25rem"}),H=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv15",componentId:"sc-yblltq-20"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),O=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv16",componentId:"sc-yblltq-21"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),F=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv17",componentId:"sc-yblltq-22"})({marginTop:"1.25rem",marginBottom:"1.25rem",display:"flex"}),G=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv18",componentId:"sc-yblltq-23"})({marginRight:"1.25rem"}),K=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv19",componentId:"sc-yblltq-24"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),W=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv20",componentId:"sc-yblltq-25"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),J=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv21",componentId:"sc-yblltq-26"})({marginTop:"5rem",textAlign:"center"})}},function(e){e.O(0,[200,774,888,179],function(){return e(e.s=68798)}),_N_E=e.O()}]);