(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[994],{34399:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/computing/confidential/new",function(){return n(40219)}])},93788:function(e,t,n){"use strict";n.d(t,{Z:function(){return cmp}});var i=n(85893),o=n(19521),a=n(70150),r=n(79632),cmp=e=>{let{handleBack:t}=e;return(0,i.jsx)(s,{children:(0,i.jsx)(a.W2,{children:(0,i.jsx)(r.zx,{kind:"functional",variant:"textOnly",onClick:t,children:(0,i.jsxs)(c,{className:"tp-info text-base2",children:[(0,i.jsx)(r.JO,{name:"arrow-left"})," Back"]})})})})},s=(0,o.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-o42jnx-0"})({paddingTop:"0px !important",paddingBottom:"0px !important",paddingLeft:"0px",paddingRight:"0px","@media (min-width: 48rem)":{paddingTop:"2.5rem !important"}}),c=(0,o.ZP)("p").withConfig({displayName:"cmp___StyledP",componentId:"sc-o42jnx-1"})({display:"flex",alignItems:"center",justifyContent:"center",gap:"0.25rem",textAlign:"center"})},93963:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(19521);let o={xl:90,lg:60.0625,md:44.6875},a=i.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-1bpjbi2-0"})(["",""],e=>{let{$variant:t="lg"}=e;return(0,i.iv)([""," max-width:","rem;"],{marginLeft:"auto",marginRight:"auto",width:"100%",paddingLeft:"1.5rem",paddingRight:"1.5rem","@media (min-width: 62rem)":{paddingLeft:"4rem",paddingRight:"4rem"}},o[t])});var r=a},49531:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});var i=n(85893),o=n(67294),a=n(79632);let SectionTitle=e=>(0,i.jsx)(a.NP,{as:"h2",color:"main0",numberColor:"main0",...e});SectionTitle.displayName="SectionTitle";var r=(0,o.memo)(SectionTitle)},93161:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(85893),o=n(19521),a=n(67294),r=n(79632);let s=o.ZP.a.withConfig({displayName:"styles__StyledExternalLink",componentId:"sc-1kmpaq1-0"})(["",""],e=>{let{theme:t,$color:n="white",$typo:i,$underline:a=!1}=e;return(0,o.iv)(["color:",";text-decoration:",";",""],t.color[n],a?"underline":"none",i?(0,r.pX)(i):"")}),ExternalLink=e=>{let{text:t,href:n,color:o,typo:a,underline:r,...c}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(s,{href:n,target:"_blank",$color:o,$typo:a,$underline:r,...c,children:[t||n,(0,i.jsx)(d,{name:"square-up-right"})]})})};ExternalLink.displayName="ExternalLink";var c=(0,a.memo)(ExternalLink),d=(0,o.ZP)(r.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-mxjtpv-0"})({marginLeft:"0.625rem"})},76696:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(85893),o=n(19521),a=n(67294),r=n(70150),s=n(79632);let c=o.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-hdgoyh-0"})(["",""],e=>{let{theme:t}=e;return(0,o.iv)([""," ","{color:",";}&:hover ","{color:",";}"],{display:"flex",cursor:"pointer",alignItems:"center"},d,t.color.purple4,d,t.color.main0)}),d=(0,o.ZP)(s.JO).withConfig({displayName:"styles__StyledIcon",componentId:"sc-hdgoyh-1"})(["",""],e=>{let{theme:t}=e;return(0,o.iv)([""," transition-property:color;transition-duration:","ms;transition-timing-function:",";"],{marginLeft:"0.5rem",cursor:"pointer"},t.transition.duration.fast,t.transition.timing)}),IconText=e=>{let{children:t,onClick:n,iconName:o}=e;return(0,i.jsxs)(c,{onClick:n,children:[(0,i.jsx)(m,{children:t}),(0,i.jsx)(p,{name:o,className:"text-purple4"})]})};IconText.displayName="IconText";var l=(0,a.memo)(IconText),m=(0,o.ZP)(r.xv).withConfig({displayName:"cmp___StyledText",componentId:"sc-3gm8x3-0"})({wordBreak:"break-all"}),p=(0,o.ZP)(d).withConfig({displayName:"cmp___StyledStyledIcon",componentId:"sc-3gm8x3-1"})({marginLeft:"0.5rem",cursor:"pointer"})},43251:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(85893),o=n(19521),a=n(67294),r=n(79632);let ResponsiveTooltip=e=>{let t=(0,r._K)("md");return(0,i.jsx)(c,{...e,$_css:t?{position:"fixed !important",left:"0px !important",top:"0px !important",zIndex:"20 !important",margin:"1.5rem",height:"calc(100% - 3rem) !important",width:"calc(100% - 3rem) !important",maxWidth:"100% !important",transform:"none !important"}:""})};ResponsiveTooltip.displayName="ResponsiveTooltip";var s=(0,a.memo)(ResponsiveTooltip),c=(0,o.ZP)(r.u).withConfig({displayName:"cmp___StyledTooltip",componentId:"sc-vdmo8c-0"})(["",""],e=>e.$_css)},82690:function(e,t,n){"use strict";n.d(t,{Z:function(){return NewEntityTab}});var i=n(85893),o=n(19521),a=n(79632),r=n(11163),s=n.n(r),c=n(67294);function NewEntityTab(e){let{selected:t,handleChange:n}=function(e){let t=(0,c.useCallback)(e=>{s().push("/computing/".concat(e,"/new"))},[]);return{...e,handleChange:t}}(e);return(0,i.jsx)(d,{selected:t,onTabChange:n,tabs:[{id:"function",name:"Function"},{id:"instance",name:"Instance"},{id:"gpu-instance",name:"GPU Instance",label:{label:"BETA",position:"top"}},{id:"confidential",name:"Confidential",label:{label:"BETA",position:"top"}}]})}var d=(0,o.ZP)(a.mQ).withConfig({displayName:"cmp___StyledTabs",componentId:"sc-1stdhvf-0"})({overflow:"hidden"})},70150:function(e,t,n){"use strict";n.d(t,{W2:function(){return c},Z0:function(){return r},xv:function(){return s}});var i=n(19521),o=n(93963),a=n(79632);let r=i.ZP.hr.withConfig({displayName:"common__Separator",componentId:"sc-1mp6l0k-0"})([""," border:0;border-top:1px solid ",";opacity:0.3;"],{marginTop:"1.25rem",marginBottom:"1.25rem"},e=>{let{theme:t}=e;return t.color.main0}),s=i.ZP.span.attrs((0,a.PT)("tp-body1 text-text")).withConfig({displayName:"common__Text",componentId:"sc-1mp6l0k-1"})([""]),c=(0,i.ZP)(o.Z).attrs(e=>({...e})).withConfig({displayName:"common__Container",componentId:"sc-1mp6l0k-2"})([""])},24959:function(e,t,n){"use strict";n.d(t,{c:function(){return useForm}});var i=n(79632),o=n(67294),a=n(87536),r=n(1604),s=n(50586);function useForm(e){let{onSubmit:t,onSuccess:n,onError:c,readyDeps:d=[],...l}=e,m=(0,a.cI)(l);(0,o.useEffect)(()=>{"object"==typeof l.defaultValues&&m.reset(l.defaultValues)},[...d]);let[p,h]=(0,o.useState)({data:void 0,error:void 0,loading:!1}),[g,{onLoad:u,onSuccess:x,onError:f}]=(0,i.g7)({flushData:!0,state:p,setState:h,onSuccess:n,onError:c}),y=(0,o.useCallback)(async e=>{try{u();let n=await t(e);x(n)}catch(t){let e=t instanceof r.jm?s.Z.ValidationError:(null==t?void 0:t.cause)||t;m.setError("root.serverError",{...e,message:null==e?void 0:e.message}),f(e)}},[m,f,u,t,x]),_=(0,o.useCallback)(async e=>{let t;if(console.log(e),!t){let n=function getFirstError(e){let[t]=Object.entries(e);if(!t)return;let[n,i]=t;if(Array.isArray(i)){let e=i[i.length-1];return getFirstError(e)}return[n,i]}(e);if(n){let[e,i]=n,o="string"==typeof i?i:(null==i?void 0:i.message)?": ".concat(i.message):(null==i?void 0:i.type)?': "'.concat(null==i?void 0:i.type,'" validation not satisfied'):"";t=s.Z.FieldError(e,o)}}t||(t=s.Z.ValidationError),f(t)},[f]),j=(0,o.useMemo)(()=>m.handleSubmit(y,_),[m,y,_]);return{...m,requestState:g,handleSubmit:j}}},40219:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return NewConfidentialPage}});var i=n(85893),o=n(19521),a=n(93788),r=n(82690),s=n(70150),c=n(49531),d=n(79632),l=n(93161),m=n(67294);let p=o.ZP.div.attrs(e=>{let{theme:t,$backgroundColor:n,...i}=e;return n?(0,d.PT)(n)(i):"twentysix"===t.name?(0,d.PT)("fx-grain-3")(i):(0,d.PT)("fx-glass-main0")(i)}).withConfig({displayName:"styles__StyledToggleContainer",componentId:"sc-r60x86-0"})(["",""],e=>{let{theme:t,$animation:n=5e4}=e,{borderRadius:i}=t.component.noisyContainer;return(0,o.iv)(["border-radius:","rem;&&::after{","}"],i,n?(0,o.iv)(["animation-duration:","ms;"],n):(0,o.iv)(["animation:none;"]))}),h=o.ZP.div.withConfig({displayName:"styles__StyledToggleBar",componentId:"sc-r60x86-1"})(["",""],{display:"flex",cursor:"pointer",alignItems:"center",justifyContent:"space-between",columnGap:"1.5rem",padding:"1.5rem"}),g=(0,o.ZP)(d.JO).attrs(e=>({...e,name:"angle-down",size:"lg"})).withConfig({displayName:"styles__StyledIcon",componentId:"sc-r60x86-2"})(["",""],e=>{let{theme:t,$isOpen:n}=e;return(0,o.iv)([""," width:1em;background-color:",";color:",";transform:rotate(","deg);transition-property:opacity,visibility,transform;transition-duration:","ms;transition-timing-function:",";"],{cursor:"pointer",padding:"0.25rem"},t.color.text,t.color.base1,n?180:0,t.transition.duration.normal,t.transition.timing)}),ToggleContainer=e=>{let{toggleTitle:t,backgroundColor:n="fx-grain-2",children:o}=e,[a,r]=(0,m.useState)(!1),s=(0,m.useCallback)(()=>r(e=>!e),[r]);return(0,i.jsxs)(p,{$backgroundColor:n,children:[(0,i.jsxs)(h,{onClick:s,children:[t,(0,i.jsx)(g,{$isOpen:a})]}),(0,i.jsx)(d.Gd,{open:a,shouldUnmount:!a,children:(0,i.jsx)(x,{children:o})})]})};ToggleContainer.displayName="ToggleContainer";var u=(0,m.memo)(ToggleContainer),x=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-179hw05-0"})({padding:"1.5rem",paddingTop:"2.5rem"});let f=o.ZP.div.withConfig({displayName:"styles__StyledCodeContainer",componentId:"sc-bt3aj1-0"})([""," ",""],{position:"relative",height:"fit-content",borderRadius:"0.75rem",paddingTop:"2rem"},e=>{let{theme:t}=e;return(0,o.iv)(["color:",";background:linear-gradient(91.23deg,#ffffff11 11.38%,#ffffff00 96.5%),linear-gradient(84.86deg,#2260ff0c 65.23%,#1859ff00 99.89%),#141327;"],t.color.white)}),y=o.ZP.div.withConfig({displayName:"styles__StyledCopyCodeContainer",componentId:"sc-bt3aj1-1"})(["",""],e=>{let{theme:t}=e;return(0,o.iv)([""," color:",";transition-property:opacity;transition-duration:","ms;transition-timing-function:",";&:hover{","}"],{position:"absolute",right:"0px",top:"0px",zIndex:"10",display:"flex",cursor:"pointer",alignItems:"center",gap:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.25rem",paddingBottom:"0.25rem",opacity:"0.5"},e=>{let{theme:t}=e;return t.color.purple4},t.transition.duration.fast,t.transition.timing,{opacity:"1"})}),_=o.ZP.div.withConfig({displayName:"styles__StyledFileInputContainer",componentId:"sc-bt3aj1-2"})(["",""],e=>{let{isEncryptedDiskImagePresent:t}=e;return t?(0,o.iv)(["",""],{display:"flex",flexDirection:"column",alignItems:"center","> :not([hidden]) ~ :not([hidden])":{"--tw-space-y-reverse":"0",marginTop:"calc(2.5rem * calc(1 - var(--tw-space-y-reverse)))",marginBottom:"calc(2.5rem * var(--tw-space-y-reverse))"}}):(0,o.iv)(["",""],{})});var j=n(76696),w=n(55032),v=n(24959),C=n(36286),I=n(11163),S=n(87536),b=n(43251);function ExternalBulletItemLink(e){let{href:t,title:n}=e;return(0,i.jsxs)(k,{href:t,target:"_blank",children:[(0,i.jsx)(d.vo,{kind:"info",title:n}),(0,i.jsx)(N,{name:"square-up-right"})]})}function CodeBlock(e){let{code:t,language:n}=e,o=(0,d.vx)(t);return(0,i.jsx)(P,{children:(0,i.jsxs)(f,{children:[(0,i.jsxs)(y,{onClick:o,children:[n,(0,i.jsx)(d.JO,{name:"copy",className:"text-purple4"})]}),(0,i.jsx)(Z,{children:t})]})})}function NewConfidentialPage(){let{commands:e,encryptedDiskImageFormValues:t,encryptedDiskImageCtrl:n,encryptedDiskImageItemHash:o,disabledUploadEncryptedDiskImage:p,isUploadingFile:h,uploadedFileMessage:g,uploadEncryptedDiskImageButtonRef:x,uploadEncryptedDiskImageButtonToolip:f,handleUploadEncryptedDiskImage:y,handleCopyEncryptedDiskImageHash:k,handleBack:N}=function(){let[e]=(0,w.mr)(),t=(0,I.useRouter)(),n=(0,d.lm)(),{connection:{account:i},manager:{fileManager:o}}=e,[a,r]=(0,m.useState)(!1),[s,c]=(0,m.useState)(),[l,p]=(0,m.useState)(),h=(0,m.useMemo)(()=>!i||!!a,[i,a]),g=(0,m.useMemo)(()=>null==l?void 0:l.item_hash,[l]),u=(0,m.useRef)(null),x=(0,m.useMemo)(()=>{if(h&&!i)return"Connect your wallet"},[h,i]),f=(0,m.useCallback)(async e=>{if(!o)return;i||alert("Connect your wallet");let{encryptedDiskImage:t}=e;if(t)try{r(!0);let e=await o.uploadFile(t,C.qG.ipfs);return c(t),e}catch(e){console.error(e)}finally{r(!1)}},[i,o]),y=(0,m.useCallback)(async e=>{e&&(p(e),null==n||n.add({variant:"success",title:"File uploaded",text:"Encrypted disk image uploaded successfully"}))},[n]),{control:_,handleSubmit:j,reset:b}=(0,v.c)({defaultValues:{},onSubmit:f,onSuccess:y,readyDeps:[]}),k=(0,S.qo)({control:_}),N=(0,S.bc)({control:_,name:"encryptedDiskImage"}),P=(0,d.vx)(g||""),Z=(0,m.useMemo)(()=>{let e="aleph instance confidential";return g&&(e+=" \\ \n    --rootfs ".concat(g)),e},[g]);return(0,m.useEffect)(()=>{s&&s===k.encryptedDiskImage&&b()},[s,b,k.encryptedDiskImage]),{commands:{retrieveScriptsCommand:"wget https://raw.githubusercontent.com/aleph-im/aleph-vm/main/examples/example_confidential_image/build_debian_image.sh\nwget https://raw.githubusercontent.com/aleph-im/aleph-vm/main/examples/example_confidential_image/setup_debian_rootfs.sh",fetchBaseImageCommand:"wget https://cloud.debian.org/images/cloud/bookworm/latest/debian-12-genericcloud-amd64.qcow2",mountImageCommand:"sudo mkdir -p /mnt/debian\nsudo guestmount \\\n    --format=qcow2 \\\n    -a ./debian-12-genericcloud-amd64.qcow2 \\\n    -o allow_other \\\n    -i /mnt/debian",copyRootFileSystemCommand:"export ROOT_DIR=./extracted\nmkdir ${ROOT_DIR}\nsudo cp --archive /mnt/debian/* ${ROOT_DIR}",cleanUpMountCommand:"sudo guestunmount /mnt/debian\nsudo rm -r /mnt/debian",createEncryptedDiskCommand:"bash ./build_debian_image.sh \\\n    --rootfs-dir $ROOT_DIR \\\n    -o ~/destination-image.img \\\n    --password your-password",createConfidentialInstanceCommand:Z,secureChannelWithInstanceCommand:"aleph instance confidential-init-session <vmhash>",startInstanceCommand:"aleph instance confidential-start <vmhash>"},encryptedDiskImageFormValues:k,encryptedDiskImageCtrl:N,encryptedDiskImageItemHash:g,disabledUploadEncryptedDiskImage:h,isUploadingFile:a,uploadedFileMessage:l,uploadEncryptedDiskImageButtonRef:u,uploadEncryptedDiskImageButtonToolip:x,handleUploadEncryptedDiskImage:j,handleCopyEncryptedDiskImageHash:P,handleBack:()=>{t.push("/computing/confidential/")}}}();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.Z,{handleBack:N}),(0,i.jsx)(T,{children:(0,i.jsx)(s.W2,{children:(0,i.jsx)(r.Z,{selected:"confidential"})})}),(0,i.jsx)(B,{children:(0,i.jsx)(s.W2,{children:(0,i.jsx)(u,{toggleTitle:(0,i.jsx)(c.N,{number:0,children:"Requirements"}),children:(0,i.jsxs)(D,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(E,{className:"tp-h7",children:"System"}),(0,i.jsx)(d.DY,{size:"regular",gap:"1rem",items:[{kind:"info",title:"Machine running Linux on x86_64"},{kind:"info",title:"Machine with IPv6 connectiviy"}]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(R,{className:"tp-h7",children:"Software"}),(0,i.jsxs)(d.DY,{size:"regular",gap:"1rem",items:[],children:[(0,i.jsx)(ExternalBulletItemLink,{href:"https://docs.aleph.im/tools/aleph-client/",title:"Aleph Client command-line tool"}),(0,i.jsx)(ExternalBulletItemLink,{href:"https://doc.rust-lang.org/cargo/getting-started/installation.html",title:"Rust and Cargo"}),(0,i.jsx)(ExternalBulletItemLink,{href:"https://github.com/virtee/sevctl",title:"Sevctl tool from AMD"}),(0,i.jsx)(ExternalBulletItemLink,{href:"https://www.openssh.com/",title:"OpenSSH keypair"}),(0,i.jsx)(ExternalBulletItemLink,{href:"https://github.com/ipfs/kubo",title:"IPFS Server"}),(0,i.jsx)(ExternalBulletItemLink,{href:"https://command-not-found.com/guestmount",title:"Guestmount"})]})]})]})})})}),(0,i.jsx)(L,{children:(0,i.jsx)(s.W2,{children:(0,i.jsx)(u,{toggleTitle:(0,i.jsx)(c.N,{number:1,children:"Create encrypted disk image"}),children:(0,i.jsxs)(O,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(M,{className:"tp-h7",children:"1. Retrieving the scripts"}),(0,i.jsxs)(F,{children:[(0,i.jsx)("strong",{children:"Download"})," the necessary"," ",(0,i.jsx)("strong",{children:"sample scripts"})," from"," ",(0,i.jsx)(l.Z,{href:"https://github.com/aleph-im/aleph-vm/tree/main/examples/example_confidential_image",color:"main0",text:"Aleph VM Examples - Confidential Image"})]}),(0,i.jsx)(CodeBlock,{code:e.retrieveScriptsCommand,language:"bash"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(W,{className:"tp-h7",children:"2. Customizing the VM"}),(0,i.jsxs)(z,{children:["It is ",(0,i.jsx)("strong",{children:"advised"})," to at least add a"," ",(0,i.jsx)("strong",{children:"user with"})," both a ",(0,i.jsx)("strong",{children:"password"})," ","and an ",(0,i.jsx)("strong",{children:"SSH key"})," in the sudo group."]}),(0,i.jsxs)("p",{children:["You can ",(0,i.jsx)("strong",{children:"customize your VM"})," by modifying the"," ",(0,i.jsx)("strong",{children:"setup_debian_rootfs.sh"})," script. This script is executed within the VM's chroot environment, allowing you to tailor the system according to your needs."]}),(0,i.jsx)("p",{children:"This allows you to:"}),(0,i.jsxs)(A,{children:[(0,i.jsx)(d.DY,{size:"regular",gap:"0.5rem",items:[{kind:"info",title:"Add a user."},{kind:"info",title:"Install an SSH key."}]}),(0,i.jsx)(d.DY,{size:"regular",gap:"0.5rem",items:[{kind:"info",title:"Install additional software."},{kind:"info",title:"Modify the default configuration."}]})]}),(0,i.jsxs)("p",{children:["Simply add your custom instructions at the end of the"," ",(0,i.jsx)("strong",{children:"setup_debian_rootfs.sh"})," script."]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(V,{className:"tp-h7",children:"3. Fetching a base image"}),(0,i.jsxs)(U,{children:["It is ",(0,i.jsx)("strong",{children:"recommended"})," to start from the"," ",(0,i.jsx)("strong",{children:"genericcloud image"}),", as it contain cloud-init, which is used to setup the network when launching the VM."]}),(0,i.jsx)(CodeBlock,{code:e.fetchBaseImageCommand,language:"bash"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)($,{className:"tp-h7",children:"4. Extract the root filesystem"}),(0,i.jsxs)(q,{children:["To do so, we simply need to ",(0,i.jsx)("strong",{children:"mount"})," the"," ",(0,i.jsx)("strong",{children:"raw image"})," with ",(0,i.jsx)("strong",{children:"guestmount"}),"."]}),(0,i.jsx)(CodeBlock,{code:e.mountImageCommand,language:"bash"}),(0,i.jsxs)(J,{children:["Then, you can simply ",(0,i.jsx)("strong",{children:"copy"})," the"," ",(0,i.jsx)("strong",{children:"root file system"})," to any directory."]}),(0,i.jsx)(G,{children:"Take caution to preserve the proper permission like the setuid bit with the --archive option."}),(0,i.jsx)(CodeBlock,{code:e.copyRootFileSystemCommand,language:"bash"}),(0,i.jsxs)(H,{children:["Then, ",(0,i.jsx)("strong",{children:"clean"})," up the ",(0,i.jsx)("strong",{children:"mount"}),":"]}),(0,i.jsx)(CodeBlock,{code:e.cleanUpMountCommand,language:"bash"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(Y,{className:"tp-h7",children:"5. Create the encrypted disk"}),(0,i.jsxs)("p",{children:["Run the ",(0,i.jsx)("strong",{children:"build_debian_image.sh"})," that will"," ",(0,i.jsx)("strong",{children:"create"})," the image with the"," ",(0,i.jsx)("strong",{children:"encrypted disk"})]}),(0,i.jsxs)(X,{children:["The ",(0,i.jsx)("strong",{children:"password option"})," is the"," ",(0,i.jsx)("strong",{children:"secret password key"}),", with which the"," ",(0,i.jsx)("strong",{children:"disk will be encrypted"}),", you will need to pass it to launch the VM."]}),(0,i.jsx)(CodeBlock,{code:e.createEncryptedDiskCommand,language:"bash"})]})]})})})}),(0,i.jsx)(K,{children:(0,i.jsx)(s.W2,{children:(0,i.jsx)(u,{toggleTitle:(0,i.jsx)(c.N,{number:2,children:"Upload encrypted disk image"}),children:(0,i.jsxs)(Q,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Upload"})," your encrypted disk image created in"," ",(0,i.jsx)("strong",{children:"Step 1: Create encrypted disk image"})]}),(0,i.jsxs)(_,{isEncryptedDiskImagePresent:!!t.encryptedDiskImage,children:[(0,i.jsx)(d.S2,{...n.field,...n.fieldState}),t.encryptedDiskImage&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{ref:x,children:(0,i.jsx)(d.zx,{disabled:p,type:"submit",onClick:y,animation:"icon-to-top-on-hover",children:h?(0,i.jsxs)(i.Fragment,{children:["Uploading ",(0,i.jsx)(ee,{name:"spinner"})]}):(0,i.jsxs)(i.Fragment,{children:["Upload",(0,i.jsx)(d.JO,{name:"arrow-up"})]})})}),p&&(0,i.jsx)(b.Z,{my:"bottom-left",at:"top-right",targetRef:x,content:f})]})]}),g&&(0,i.jsxs)("div",{children:[(0,i.jsx)(et,{className:"tp-h7",children:"Uploaded encrypted disk image"}),(0,i.jsx)("div",{className:"tp-info text-main0",children:"MESSAGE ITEM HASH"}),(0,i.jsx)(j.Z,{iconName:"copy",onClick:k,children:o})]})]})})})}),(0,i.jsx)(en,{children:(0,i.jsx)(s.W2,{children:(0,i.jsx)(u,{toggleTitle:(0,i.jsx)(c.N,{number:3,children:"Create Confidential Instance"}),children:(0,i.jsx)(ei,{children:(0,i.jsxs)("div",{children:[(0,i.jsxs)(eo,{children:["This command will ask you about how much ",(0,i.jsx)("strong",{children:"CPU"}),","," ",(0,i.jsx)("strong",{children:"RAM"})," and ",(0,i.jsx)("strong",{children:"Disk"})," you want to use and on which ",(0,i.jsx)("strong",{children:"node (CRN)"})," to deploy it."]}),(0,i.jsx)(CodeBlock,{code:e.createConfidentialInstanceCommand,language:"bash"}),(0,i.jsxs)(ea,{children:["This command handles instance creation, secure channel setup, and VM initialization all at once. To run the three steps separately"," ",(0,i.jsx)(l.Z,{href:"https://docs.aleph.im/computing/confidential/instance/",color:"main0",text:"check the docs"})]})]})})})})}),(0,i.jsx)(er,{children:(0,i.jsx)(es,{children:(0,i.jsxs)(d.zx,{as:"a",href:"/computing/confidential",animation:"icon-to-right-on-hover",children:["Check your Confidentials ",(0,i.jsx)(d.JO,{name:"arrow-right"})]})})})]})}var k=(0,o.ZP)("a").withConfig({displayName:"cmp___StyledA",componentId:"sc-l9cc46-0"})({display:"flex",alignItems:"flex-end",gap:"0.5rem"}),N=(0,o.ZP)(d.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-l9cc46-1"})({paddingBottom:"0.375rem"}),P=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-l9cc46-2"})({minWidth:"10rem",maxWidth:"100%"}),Z=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-l9cc46-3"})({overflow:"auto",whiteSpace:"pre",borderBottomRightRadius:"0.75rem",borderBottomLeftRadius:"0.75rem",paddingLeft:"1.25rem",paddingRight:"1.25rem",paddingBottom:"2rem"}),T=(0,o.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-l9cc46-4"})({paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",paddingBottom:"0px","@media (min-width: 48rem)":{paddingTop:"2rem",paddingBottom:"2rem"}}),B=(0,o.ZP)("section").withConfig({displayName:"cmp___StyledSection2",componentId:"sc-l9cc46-5"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.25rem",paddingTop:"5rem","@media (min-width: 48rem)":{paddingTop:"2.5rem"}}),D=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-l9cc46-6"})({display:"flex",flexWrap:"wrap",columnGap:"6rem",rowGap:"1.75rem"}),E=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-l9cc46-7"})({marginBottom:"0.5rem"}),R=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-l9cc46-8"})({marginBottom:"0.5rem"}),L=(0,o.ZP)("section").withConfig({displayName:"cmp___StyledSection3",componentId:"sc-l9cc46-9"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.25rem",paddingTop:"0px"}),O=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-l9cc46-10"})({display:"flex",flexDirection:"column",gap:"1.5rem"}),M=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-l9cc46-11"})({marginBottom:"0.5rem"}),F=(0,o.ZP)("p").withConfig({displayName:"cmp___StyledP",componentId:"sc-l9cc46-12"})({marginBottom:"0.5rem"}),W=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv8",componentId:"sc-l9cc46-13"})({marginBottom:"0.5rem"}),z=(0,o.ZP)("p").withConfig({displayName:"cmp___StyledP2",componentId:"sc-l9cc46-14"})({marginBottom:"0.5rem"}),A=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv9",componentId:"sc-l9cc46-15"})({marginBottom:"1rem",marginTop:"0.5rem",display:"flex",flexWrap:"wrap",gap:"1.5rem"}),V=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv10",componentId:"sc-l9cc46-16"})({marginBottom:"0.5rem"}),U=(0,o.ZP)("p").withConfig({displayName:"cmp___StyledP3",componentId:"sc-l9cc46-17"})({marginBottom:"0.5rem"}),$=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv11",componentId:"sc-l9cc46-18"})({marginBottom:"0.5rem"}),q=(0,o.ZP)("p").withConfig({displayName:"cmp___StyledP4",componentId:"sc-l9cc46-19"})({marginBottom:"0.5rem"}),J=(0,o.ZP)("p").withConfig({displayName:"cmp___StyledP5",componentId:"sc-l9cc46-20"})({marginTop:"0.5rem"}),G=(0,o.ZP)("p").withConfig({displayName:"cmp___StyledP6",componentId:"sc-l9cc46-21"})({marginBottom:"0.5rem"}),H=(0,o.ZP)("p").withConfig({displayName:"cmp___StyledP7",componentId:"sc-l9cc46-22"})({marginTop:"0.5rem",marginBottom:"0.5rem"}),Y=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv12",componentId:"sc-l9cc46-23"})({marginBottom:"0.5rem"}),X=(0,o.ZP)("p").withConfig({displayName:"cmp___StyledP8",componentId:"sc-l9cc46-24"})({marginBottom:"0.5rem"}),K=(0,o.ZP)("section").withConfig({displayName:"cmp___StyledSection4",componentId:"sc-l9cc46-25"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.25rem",paddingTop:"0px"}),Q=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv13",componentId:"sc-l9cc46-26"})({display:"flex",flexDirection:"column",gap:"1.5rem"}),ee=(0,o.ZP)(d.JO).withConfig({displayName:"cmp___StyledIcon2",componentId:"sc-l9cc46-27"})({"@keyframes spin":{to:{transform:"rotate(360deg)"}},animation:"spin 1s linear infinite"}),et=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv14",componentId:"sc-l9cc46-28"})({marginBottom:"0.5rem"}),en=(0,o.ZP)("section").withConfig({displayName:"cmp___StyledSection5",componentId:"sc-l9cc46-29"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.25rem",paddingTop:"0px"}),ei=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv15",componentId:"sc-l9cc46-30"})({display:"flex",flexDirection:"column",gap:"1.5rem"}),eo=(0,o.ZP)("p").withConfig({displayName:"cmp___StyledP9",componentId:"sc-l9cc46-31"})({marginBottom:"0.5rem"}),ea=(0,o.ZP)("p").withConfig({displayName:"cmp___StyledP10",componentId:"sc-l9cc46-32"})({marginTop:"0.5rem",fontStyle:"italic"}),er=(0,o.ZP)("section").withConfig({displayName:"cmp___StyledSection6",componentId:"sc-l9cc46-33"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"5rem",paddingTop:"1.5rem"}),es=(0,o.ZP)(s.W2).withConfig({displayName:"cmp___StyledContainer",componentId:"sc-l9cc46-34"})({display:"flex",alignItems:"center",justifyContent:"center",paddingTop:"2rem"})}},function(e){e.O(0,[536,774,888,179],function(){return e(e.s=34399)}),_N_E=e.O()}]);