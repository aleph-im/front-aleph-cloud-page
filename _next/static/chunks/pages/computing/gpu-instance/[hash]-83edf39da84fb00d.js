(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[776],{85216:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/computing/gpu-instance/[hash]",function(){return n(42563)}])},4450:function(e,i,n){"use strict";n.d(i,{Z:function(){return LogsFeed}});var t=n(85893),s=n(19521),a=n(79632),r=n(70150),c=n(45866);function LogsFeed(e){let{logs:i}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.DU,{type:"h7",as:"h2",color:"main0",children:"Stdout"}),(0,t.jsxs)(d,{children:[(0,t.jsx)(c.Z,{show:!(null==i?void 0:i.stdout),color:"white"}),(0,t.jsx)(o,{readOnly:!0,name:"stdout",placeholder:"Loading logs...",value:null==i?void 0:i.stdout,variant:"code"})]}),(0,t.jsx)(r.Z0,{}),(0,t.jsx)(a.DU,{type:"h7",as:"h2",color:"main0",children:"Stderr"}),(0,t.jsxs)(l,{children:[(0,t.jsx)(c.Z,{show:!(null==i?void 0:i.stderr),color:"white"}),(0,t.jsx)(m,{readOnly:!0,name:"stderr",placeholder:"Loading logs...",value:null==i?void 0:i.stderr,variant:"code"})]})]})}var d=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-fvcqgm-0"})({position:"relative"}),o=(0,s.ZP)(a.Kx).withConfig({displayName:"cmp___StyledTextArea",componentId:"sc-fvcqgm-1"})({height:"30rem"}),l=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-fvcqgm-2"})({position:"relative"}),m=(0,s.ZP)(a.Kx).withConfig({displayName:"cmp___StyledTextArea2",componentId:"sc-fvcqgm-3"})({height:"30rem"})},65426:function(e,i,n){"use strict";n.d(i,{Z:function(){return useFetchTermsAndConditions}});var t=n(55032),s=n(67294);function useFetchTermsAndConditions(e){let{termsAndConditionsMessageHash:i}=e,[n]=(0,t.mr)(),{manager:{messageManager:a}}=n,[r,c]=(0,s.useState)(!0),[d,o]=(0,s.useState)();return(0,s.useEffect)(()=>{let fetchTermsAndConditions=async()=>{try{var e;let n;if(!a||!i)return o(void 0);c(!0);try{let{content:e}=await a.get(i);n=e}catch(e){console.error(e)}if(!n)return o(void 0);let t=n.item_hash,s=null===(e=n.metadata)||void 0===e?void 0:e.name;o({cid:t,name:s,url:"https://ipfs.aleph.im/ipfs/".concat(t,"?filename=").concat(s)})}catch(e){console.error(e)}finally{c(!1)}};fetchTermsAndConditions()},[a,i]),{loading:r,termsAndConditions:d}}},78474:function(e,i,n){"use strict";n.d(i,{c:function(){return useGpuInstanceManager}});var t=n(55032);function useGpuInstanceManager(){let[e]=(0,t.mr)(),{gpuInstanceManager:i}=e.manager;return i}},18395:function(e,i,n){"use strict";n.d(i,{p:function(){return useSSHKeyManager}});var t=n(55032);function useSSHKeyManager(){let[e]=(0,t.mr)(),{sshKeyManager:i}=e.manager;return i}},15743:function(e,i,n){"use strict";n.d(i,{m:function(){return useRequestGpuInstances}});var t=n(77205),s=n(78474);function useRequestGpuInstances(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(0,s.c)();return(0,t.F)({...e,manager:i,name:"gpuInstance"})}},42563:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return ManageGpuInstance}});var t=n(85893),s=n(19521),a=n(41664),r=n.n(a),c=n(11505),d=n(34517),o=n(76696),l=n(79632),m=n(9911),p=n(49107),h=n(70150),x=n(5598),u=n(93788),g=n(4450),v=n(11163),f=n(67294),j=n(18395),y=n(55304),_=n(65426),N=n(15743),C=n(78474);function ManageGpuInstance(){var e;let{gpuInstance:i,termsAndConditions:n,status:a,mappedKeys:Y,nodeDetails:Q,isRunning:$,stopDisabled:ee,startDisabled:ei,rebootDisabled:en,logs:et,tabs:es,tabId:ea,theme:er,handleStop:ec,handleStart:ed,handleReboot:eo,handleCopyHash:el,handleCopyConnect:em,handleCopyIpv6:ep,handleDelete:eh,handleBack:ex,setTabId:eu}=function(){var e,i;let n=(0,v.useRouter)(),{hash:t}=n.query,{entities:a}=(0,N.m)({ids:t}),[r]=a||[],c=(0,C.c)(),d=(0,s.Fg)(),[o,m]=(0,f.useState)("detail"),p=(0,y.y)({executable:r,manager:c,subscribeLogs:"log"===o}),{logsDisabled:h,status:x}=p,{termsAndConditions:u}=(0,_.Z)({termsAndConditionsMessageHash:null==r?void 0:null===(i=r.requirements)||void 0===i?void 0:null===(e=i.node)||void 0===e?void 0:e.terms_and_conditions}),g=(0,f.useMemo)(()=>[{id:"detail",name:"Details"},{id:"log",name:"Logs",disabled:h}],[h]),[w,Z]=(0,f.useState)([]),S=(0,l.vx)((null==r?void 0:r.id)||""),I=(0,l.vx)((null==x?void 0:x.ipv6Parsed)||""),P=(0,l.vx)("ssh root@".concat(null==x?void 0:x.ipv6Parsed)),D=(0,j.p)();return(0,f.useEffect)(()=>{if(!r||!D)return;let getMapped=async()=>{let e=await (null==D?void 0:D.getByValues(r.authorized_keys||[]));Z(e)};getMapped()},[D,r]),{...p,gpuInstance:r,termsAndConditions:u,mappedKeys:w,theme:d,tabs:g,tabId:o,setTabId:m,handleCopyHash:S,handleCopyConnect:P,handleCopyIpv6:I,handleBack:()=>{n.push(".")}}}();if(!i)return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Z,{handleBack:ex}),(0,t.jsx)(h.W2,{children:(0,t.jsx)(w,{children:"Loading..."})})]});let eg=(null==i?void 0:null===(e=i.metadata)||void 0===e?void 0:e.name)||(0,p.zN)(i.id),ev=m.K_[i.type],ef=i.volumes;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Z,{handleBack:ex}),(0,t.jsx)(Z,{children:(0,t.jsxs)(h.W2,{children:[(0,t.jsxs)(S,{children:[(0,t.jsxs)(I,{children:[(0,t.jsx)(P,{name:"alien-8bit",className:"text-main0"}),(0,t.jsx)("div",{className:"tp-body2",children:eg}),(0,t.jsx)(D,{kind:"secondary",variant:i.time<Date.now()-45e3&&$?"success":"warning",children:$?"READY":(0,t.jsxs)(z,{children:[(0,t.jsx)(b,{children:"CONFIRMING"}),(0,t.jsx)(c.s5,{strokeColor:er.color.base2,width:".8rem"})]})})]}),(0,t.jsxs)(T,{children:[(0,t.jsx)(l.u,{content:"Stop GPU Instance",my:"bottom-center",at:"top-center",children:(0,t.jsx)(l.zx,{variant:"secondary",size:"md",onClick:ec,disabled:ee,children:(0,t.jsx)(l.JO,{name:"stop"})})}),(0,t.jsx)(l.u,{content:"Reallocate GPU Instance",my:"bottom-center",at:"top-center",children:(0,t.jsx)(l.zx,{variant:"secondary",size:"md",onClick:ed,disabled:ei,children:(0,t.jsx)(l.JO,{name:"play"})})}),(0,t.jsx)(l.u,{content:"Reboot GPU Instance",my:"bottom-center",at:"top-center",children:(0,t.jsx)(l.zx,{variant:"secondary",size:"md",onClick:eo,disabled:en,children:(0,t.jsx)(l.JO,{name:"arrow-rotate-backward"})})}),(0,t.jsx)(l.zx,{kind:"functional",variant:"error",size:"md",onClick:eh,children:(0,t.jsx)(l.JO,{name:"trash"})})]})]}),(0,t.jsxs)(l.Jy,{children:[(0,t.jsxs)(k,{children:[(0,t.jsx)(B,{variant:"accent",children:ev}),(0,t.jsxs)(R,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"ITEM HASH"}),(0,t.jsx)(o.Z,{iconName:"copy",onClick:el,children:i.id})]})]}),(0,t.jsx)(h.Z0,{}),(0,t.jsxs)(F,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"CORES"}),(0,t.jsx)("div",{children:(0,t.jsxs)(h.xv,{children:[i.resources.vcpus," x86 64bit"]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"RAM"}),(0,t.jsx)("div",{children:(0,t.jsx)(h.xv,{children:(0,p.Fx)(i.resources.memory,{from:"MiB",to:"GiB",displayUnit:!0})})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"HDD"}),(0,t.jsx)("div",{children:(0,t.jsx)(h.xv,{children:(0,p.Fx)(i.size,{from:"MiB",to:"GiB",displayUnit:!0})})})]})]}),(0,t.jsxs)(M,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"EXPLORER"}),(0,t.jsx)("div",{children:(0,t.jsx)("a",{className:"tp-body1 fs-16",href:i.url,target:"_blank",referrerPolicy:"no-referrer",children:(0,t.jsx)(o.Z,{iconName:"square-up-right",children:(0,t.jsx)(h.xv,{children:(0,p.bs)(i.url,80)})})})})]}),(0,t.jsx)(h.Z0,{}),(0,t.jsx)(l.mQ,{selected:ea,align:"left",onTabChange:eu,tabs:es}),(0,t.jsx)(A,{role:"tabpanel",children:"detail"===ea?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(E,{children:[(0,t.jsx)(l.DU,{type:"h7",as:"h2",color:"main0",children:"Connection methods"}),(0,t.jsxs)(U,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"SSH COMMAND"}),(0,t.jsx)("div",{children:a?(0,t.jsx)(o.Z,{iconName:"copy",onClick:em,children:(0,t.jsxs)(h.xv,{children:[">_ ssh root@",a.ipv6Parsed]})}):(0,t.jsxs)(G,{children:[(0,t.jsx)(L,{className:"tp-body1 fs-16 text-main2",children:"Allocating"}),(0,t.jsx)(c.g4,{width:".8rem",height:"1rem",color:er.color.main2})]})})]}),(0,t.jsxs)(O,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"IPv6"}),(0,t.jsx)("div",{children:a&&(0,t.jsx)(o.Z,{iconName:"copy",onClick:ep,children:(0,t.jsx)(h.xv,{children:a.ipv6Parsed})})})]})]}),(0,t.jsxs)(q,{children:[(0,t.jsx)(l.DU,{type:"h7",as:"h2",color:"main0",children:"Accessible for"}),(0,t.jsx)(H,{children:Y.map((e,i)=>e&&(0,t.jsxs)(J,{children:[(0,t.jsxs)("div",{className:"tp-info text-main0",children:["SSH KEY #",i+1]}),(0,t.jsx)(r(),{className:"tp-body1 fs-16",href:"?hash="+e.id,referrerPolicy:"no-referrer",children:(0,t.jsx)(o.Z,{iconName:"square-up-right",children:(0,t.jsx)(h.xv,{children:e.label})})})]},null==e?void 0:e.id))})]}),Q&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Z0,{}),(0,t.jsx)(l.DU,{type:"h7",as:"h2",color:"main0",children:"Current CRN"}),(0,t.jsxs)(K,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"NAME"}),(0,t.jsx)("div",{children:(0,t.jsx)(h.xv,{children:Q.name})})]}),(0,t.jsxs)(W,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"URL"}),(0,t.jsx)("div",{children:(0,t.jsx)("a",{className:"tp-body1 fs-16",href:Q.url,target:"_blank",referrerPolicy:"no-referrer",children:(0,t.jsx)(o.Z,{iconName:"square-up-right",children:(0,t.jsx)(h.xv,{children:(0,p.bs)(Q.url,80)})})})})]})]}),ef.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Z0,{}),(0,t.jsx)(l.DU,{type:"h7",as:"h2",color:"main0",children:"Linked Storage(s)"}),(0,t.jsx)(x.Z,{volumes:ef})]}),void 0!==n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Z0,{}),(0,t.jsx)(l.DU,{type:"h7",as:"h2",color:"main0",children:"Terms & Conditions"}),(0,t.jsxs)(X,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"ACCEPTED T&C"}),(0,t.jsx)("div",{children:(0,t.jsx)("a",{className:"tp-body1 fs-16",href:n.url,target:"_blank",referrerPolicy:"no-referrer",children:(0,t.jsx)(o.Z,{iconName:"square-up-right",children:(0,t.jsx)(h.xv,{children:n.name})})})})]})]})]}):"log"===ea?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(g.Z,{logs:et})}):(0,t.jsx)(t.Fragment,{})})]}),(0,t.jsx)(V,{children:(0,t.jsx)(d.Z,{variant:"primary",href:"/computing/gpu-instance/new",children:"Create new GPU Instance"})})]})})]})}var w=(0,s.ZP)(l.Jy).withConfig({displayName:"cmp___StyledNoisyContainer",componentId:"sc-azctu-0"})({marginTop:"1rem",marginBottom:"1rem"}),Z=(0,s.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-azctu-1"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.5rem",paddingTop:"5rem","@media (min-width: 48rem)":{paddingTop:"2.5rem",paddingBottom:"2.5rem"}}),S=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-azctu-2"})({display:"flex",flexDirection:"column",flexWrap:"wrap",justifyContent:"space-between",gap:"1rem",paddingBottom:"1.25rem","@media (min-width: 48rem)":{flexDirection:"row"}}),I=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-azctu-3"})({display:"flex",alignItems:"center"}),P=(0,s.ZP)(l.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-azctu-4"})({marginRight:"1rem"}),D=(0,s.ZP)(l.__).withConfig({displayName:"cmp___StyledLabel",componentId:"sc-azctu-5"})({marginLeft:"1rem"}),z=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-azctu-6"})({display:"flex",alignItems:"center"}),b=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-azctu-7"})({marginRight:"0.5rem"}),T=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-azctu-8"})({display:"flex",gap:"1rem"}),k=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-azctu-9"})({display:"flex",alignItems:"center",justifyContent:"flex-start",overflow:"hidden"}),B=(0,s.ZP)(l.Vp).withConfig({displayName:"cmp___StyledTag",componentId:"sc-azctu-10"})({marginRight:"1rem",whiteSpace:"nowrap"}),R=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-azctu-11"})({flex:"1 1 auto"}),F=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv8",componentId:"sc-azctu-12"})({marginTop:"1.25rem",marginBottom:"1.25rem",display:"flex",flexWrap:"wrap",justifyContent:"flex-start",gap:"1.25rem"}),M=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv9",componentId:"sc-azctu-13"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),A=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv10",componentId:"sc-azctu-14"})({marginTop:"1.5rem"}),E=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv11",componentId:"sc-azctu-15"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),U=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv12",componentId:"sc-azctu-16"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),G=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv13",componentId:"sc-azctu-17"})({display:"flex",alignItems:"flex-end"}),L=(0,s.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-azctu-18"})({marginRight:"0.25rem"}),O=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv14",componentId:"sc-azctu-19"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),q=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv15",componentId:"sc-azctu-20"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),H=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv16",componentId:"sc-azctu-21"})({marginTop:"1.25rem",marginBottom:"1.25rem",display:"flex"}),J=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv17",componentId:"sc-azctu-22"})({marginRight:"1.25rem"}),K=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv18",componentId:"sc-azctu-23"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),W=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv19",componentId:"sc-azctu-24"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),X=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv20",componentId:"sc-azctu-25"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),V=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv21",componentId:"sc-azctu-26"})({marginTop:"5rem",textAlign:"center"})}},function(e){e.O(0,[118,774,888,179],function(){return e(e.s=85216)}),_N_E=e.O()}]);