(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[550],{60567:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/computing/function/[hash]",function(){return n(87615)}])},33223:function(e,i,n){"use strict";n.d(i,{k:function(){return useProgramManager}});var t=n(55640);function useProgramManager(){let[e]=(0,t.mr)(),{programManager:i}=e.manager;return i}},16368:function(e,i,n){"use strict";n.d(i,{n:function(){return useRequestPrograms}});var t=n(68607),a=n(33223),r=n(36949),s=n(55640);function useRequestPrograms(){let{id:e,triggerDeps:i=[],triggerOnMount:n=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[d]=(0,s.mr)(),{account:c}=d.connection;i=[c,...i];let o=(0,a.k)(),{data:l,request:m}=(0,t.M)({name:"program",doRequest:async()=>{if(!o)return[];if(!e)return o.getAll();{let i=await o.get(e);return i?[i]:[]}},onSuccess:()=>null,flushData:!e,triggerOnMount:n,triggerDeps:i});return(0,r.C)({entities:l,request:m,triggerOnMount:n}),{entities:l}}},87615:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return ManageFunction}});var t=n(85893),a=n(19521),r=n(41664),s=n.n(r),d=n(34517),c=n(76696),o=n(79632),l=n(9911),m=n(11163),p=n(67294),h=n(69368),x=n(73107),f=n(33223),y=n(55640),u=n(16368),g=n(9324),j=n(86780),v=n(50586),_=n(49107),N=n(70150),w=n(5598),k=n(11505);function ManageFunction(){var e;let{func:i,handleCopyHash:n,handleDelete:r,handleDownload:H,copyAndNotify:W}=function(){let[,e]=(0,y.mr)(),i=(0,m.useRouter)(),{hash:n}=i.query,{entities:t}=(0,u.n)({id:n}),[a]=t||[],[,r]=(0,h.vx)(),s=(0,f.k)(),{next:d,stop:c}=(0,j.A)({}),o=(0,x.j)(a),l=(0,p.useCallback)(async()=>{if(!s)throw v.Z.ConnectYourWallet;if(!a)throw v.Z.FunctionNotFound;let n=await s.getDelSteps(a),t=n.map(e=>j.n[e]),r=s.delSteps(a);try{for(;;){let{done:e}=await r.next();if(e)break;await d(t)}e(new g.gg({name:"program",keys:[a.id]})),await i.replace("/")}catch(e){}finally{await c()}},[s,a,e,i,d,c]),_=(0,p.useCallback)(async()=>{if(!s)throw v.Z.ConnectYourWallet;if(!a)throw v.Z.FunctionNotFound;await s.download(a)},[s,a]);return{func:a,handleCopyHash:o,handleDelete:l,handleDownload:_,copyAndNotify:r}}(),V=(0,a.Fg)();if(!i)return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(N.W2,{children:(0,t.jsx)(C,{children:"Loading..."})})});let Y=(null==i?void 0:null===(e=i.metadata)||void 0===e?void 0:e.name)||(0,_.zN)(i.id),J=l.K_[i.type],X=i.volumes;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(Z,{children:(0,t.jsxs)(N.W2,{children:[(0,t.jsxs)(I,{children:[(0,t.jsxs)(P,{children:[(0,t.jsx)(S,{name:"alien-8bit",className:"text-main0"}),(0,t.jsx)("div",{className:"tp-body2",children:Y}),(0,t.jsx)(z,{kind:"secondary",variant:i.confirmed?"success":"warning",children:i.confirmed?"READY":(0,t.jsxs)(D,{children:[(0,t.jsx)(T,{children:"CONFIRMING"}),(0,t.jsx)(k.s5,{strokeColor:V.color.base2,width:".8rem"})]})})]}),(0,t.jsxs)(b,{children:[(0,t.jsx)(o.zx,{size:"md",variant:"tertiary",color:"main0",kind:"default",forwardedAs:"a",onClick:H,children:"Download"}),(0,t.jsx)(o.zx,{kind:"functional",variant:"warning",size:"md",onClick:r,children:"Delete"})]})]}),(0,t.jsxs)(o.Jy,{children:[(0,t.jsxs)(E,{children:[(0,t.jsx)(M,{variant:"accent",children:J}),(0,t.jsxs)(R,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"ITEM HASH"}),(0,t.jsx)(c.Z,{iconName:"copy",onClick:n,children:i.id})]})]}),(0,t.jsx)(N.Z0,{}),(0,t.jsxs)(O,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"CORES"}),(0,t.jsx)("div",{children:(0,t.jsxs)(N.xv,{children:[i.resources.vcpus," x86 64bit"]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"RAM"}),(0,t.jsx)("div",{children:(0,t.jsx)(N.xv,{children:(0,_.Fx)(i.resources.memory,{from:"MiB",to:"GiB",displayUnit:!0})})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"TIMEOUT"}),(0,t.jsx)("div",{children:(0,t.jsx)(N.xv,{children:"".concat(i.resources.seconds,"s")})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"SIZE"}),(0,t.jsx)("div",{children:(0,t.jsx)(N.xv,{className:"fs-10 tp-body1",children:(0,_.eB)((null==i?void 0:i.size)||0,"MiB")})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"CREATED ON"}),(0,t.jsx)("div",{children:(0,t.jsx)(N.xv,{className:"fs-10 tp-body1",children:i.date})})]})]}),(0,t.jsxs)(A,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"EXPLORER"}),(0,t.jsx)("div",{children:(0,t.jsx)("a",{className:"tp-body1 fs-16",href:i.url,target:"_blank",referrerPolicy:"no-referrer",children:(0,t.jsx)(c.Z,{iconName:"square-up-right",children:(0,t.jsx)(N.xv,{children:(0,_.bs)(i.url,80)})})})})]}),(0,t.jsxs)(B,{children:[(0,t.jsx)("span",{className:"tp-info text-main0",children:"API ENTRYPOINT"}),(0,t.jsx)("div",{children:(0,t.jsx)("a",{className:"tp-body1 fs-16",href:i.urlVM,target:"_blank",referrerPolicy:"no-referrer",children:(0,t.jsx)(c.Z,{iconName:"square-up-right",children:(0,t.jsx)(N.xv,{children:(0,_.bs)(i.urlVM,80)})})})})]}),(0,t.jsx)(N.Z0,{}),(0,t.jsx)(o.DU,{type:"h7",as:"h2",color:"main0",children:"Linked Runtime"}),(0,t.jsx)("div",{className:"tp-info text-main0",children:"ITEM HASH"}),(0,t.jsx)(c.Z,{iconName:"copy",onClick:()=>W(i.runtime.ref),children:i.runtime.ref}),i.runtime.comment&&(0,t.jsxs)(F,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"COMMENT"}),(0,t.jsx)(N.xv,{children:i.runtime.comment})]}),(0,t.jsx)(N.Z0,{}),(0,t.jsx)(o.DU,{type:"h7",as:"h2",color:"main0",children:"Linked Codebase"}),(0,t.jsxs)(L,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"IMMUTABLE VOLUME"}),(0,t.jsx)(s(),{className:"tp-body1 fs-16",href:"/storage/volume/".concat(i.code.ref),children:(0,t.jsx)(c.Z,{iconName:"square-up-right",children:"Volume details"})})]}),(0,t.jsx)("div",{className:"tp-info text-main0",children:"ITEM HASH"}),(0,t.jsx)(c.Z,{iconName:"copy",onClick:()=>W(i.code.ref),children:i.code.ref}),i.code.entrypoint&&(0,t.jsxs)(q,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"CODE ENTRYPOINT"}),(0,t.jsx)(N.xv,{children:i.code.entrypoint})]}),X.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.Z0,{}),(0,t.jsx)(o.DU,{type:"h7",as:"h2",color:"main0",children:"Linked Storage(s)"}),(0,t.jsx)(w.Z,{volumes:X,copyAndNotify:W})]})]}),(0,t.jsx)(U,{children:(0,t.jsx)(d.Z,{variant:"primary",href:"/computing/function/new",children:"Create new function"})})]})})})}var C=(0,a.ZP)(o.Jy).withConfig({displayName:"cmp___StyledNoisyContainer",componentId:"sc-1az7ypk-0"})({marginTop:"1rem",marginBottom:"1rem"}),Z=(0,a.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-1az7ypk-1"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.5rem",paddingTop:"5rem","@media (min-width: 48rem)":{paddingTop:"2.5rem",paddingBottom:"2.5rem"}}),I=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1az7ypk-2"})({display:"flex",justifyContent:"space-between",paddingBottom:"1.25rem"}),P=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1az7ypk-3"})({display:"flex",alignItems:"center"}),S=(0,a.ZP)(o.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-1az7ypk-4"})({marginRight:"1rem"}),z=(0,a.ZP)(o.__).withConfig({displayName:"cmp___StyledLabel",componentId:"sc-1az7ypk-5"})({marginLeft:"1rem"}),D=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1az7ypk-6"})({display:"flex",alignItems:"center"}),T=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-1az7ypk-7"})({marginRight:"0.5rem"}),b=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-1az7ypk-8"})({display:"flex",flexWrap:"wrap",justifyContent:"flex-end",gap:"0.5rem","@media (min-width: 36rem)":{gap:"1rem"}}),E=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-1az7ypk-9"})({display:"flex",alignItems:"center",justifyContent:"flex-start",overflow:"hidden"}),M=(0,a.ZP)(o.Vp).withConfig({displayName:"cmp___StyledTag",componentId:"sc-1az7ypk-10"})({marginRight:"1rem",whiteSpace:"nowrap"}),R=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-1az7ypk-11"})({flex:"1 1 auto"}),O=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv8",componentId:"sc-1az7ypk-12"})({display:"flex",flexWrap:"wrap",justifyContent:"space-between",gap:"0.5rem"}),A=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv9",componentId:"sc-1az7ypk-13"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),B=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv10",componentId:"sc-1az7ypk-14"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),F=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv11",componentId:"sc-1az7ypk-15"})({marginTop:"1.25rem"}),L=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv12",componentId:"sc-1az7ypk-16"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),q=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv13",componentId:"sc-1az7ypk-17"})({marginTop:"1.25rem"}),U=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv14",componentId:"sc-1az7ypk-18"})({marginTop:"5rem",textAlign:"center"})}},function(e){e.O(0,[667,774,888,179],function(){return e(e.s=60567)}),_N_E=e.O()}]);