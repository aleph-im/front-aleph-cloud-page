(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[19],{80860:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/computing/confidential",function(){return t(61627)}])},13855:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var i=t(85893),a=t(19521),r=t(67294),o=t(34517),l=t(49107),s=t(67102),d=t(79632);let VolumesTabContent=e=>{let{data:n,cta:t=!0}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Jy,{children:(0,i.jsx)(m,{children:(0,i.jsx)(s.Z,{borderType:"none",rowNoise:!0,rowKey:e=>e.id,data:n,rowProps:e=>({css:e.confirmed?"":{opacity:"0.6"}}),columns:[{label:"Name",width:"100%",sortable:!0,render:e=>(0,l.zN)(e.id||"")},{label:"Size",align:"right",sortable:!0,render:e=>(0,l.eB)(e.size||0,"MiB")},{label:"Date",align:"right",sortable:!0,render:e=>e.date},{label:"",align:"right",render:e=>(0,i.jsx)(o.Z,{kind:"functional",variant:"secondary",href:"/storage/volume/".concat(e.id),children:(0,i.jsx)(d.JO,{name:"angle-right",size:"lg"})}),cellProps:()=>({css:{paddingLeft:"0.75rem !important"}})}]})})}),t&&(0,i.jsx)(u,{children:(0,i.jsxs)(o.Z,{variant:"primary",href:"/storage/volume/new",children:[(0,i.jsx)(g,{name:"plus-circle",size:"lg"})," Create new volume"]})})]})};VolumesTabContent.displayName="VolumesTabContent";var c=(0,r.memo)(VolumesTabContent),m=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1he0kq9-0"})({maxWidth:"100%",overflow:"auto"}),u=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1he0kq9-1"})({marginTop:"2.5rem",textAlign:"center"}),g=(0,a.ZP)(d.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-1he0kq9-2"})({marginRight:"0.25rem"})},51037:function(e,n,t){"use strict";t.d(n,{Z:function(){return useConfidentialsVolumesIds}});var i=t(67294),a=t(55032);function useConfidentialsVolumesIds(){let[e,n]=(0,i.useState)([]),[t]=(0,a.mr)(),r=t.confidential.entities;return(0,i.useMemo)(()=>{if(!r)return n([]);n(r.flatMap(e=>e.volumes.filter(e=>"ref"in e).map(e=>e.ref)))},[r]),e}},57261:function(e,n,t){"use strict";t.d(n,{G:function(){return useConfidentialManager}});var i=t(55032);function useConfidentialManager(){let[e]=(0,i.mr)(),{confidentialManager:n}=e.manager;return n}},90805:function(e,n,t){"use strict";t.d(n,{B:function(){return useVolumeManager}});var i=t(55032);function useVolumeManager(){let[e]=(0,i.mr)(),{volumeManager:n}=e.manager;return n}},75899:function(e,n,t){"use strict";t.d(n,{x:function(){return useRequestConfidentials}});var i=t(77205),a=t(57261);function useRequestConfidentials(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,a.G)();return(0,i.F)({...e,manager:n,name:"confidential"})}},61627:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ConfidentialDashboardPage}});var i=t(85893),a=t(19521),r=t(79632),o=t(93963),l=t(18585),s=t(13855),d=t(24340),c=t(78823),m=t(67294),u=t(75899),g=t(90805),f=t(77205),h=t(51037),p=t(36924),v=t(55032),x=t(8252),b=t(11163);function getLabel(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e.length>0?"(".concat(e.length,")"):"";return"".concat(n?"BETA ":"").concat(t)}var C=t(34517),_=t(49107),y=t(67102);let CreateConfidentialButton=e=>{let{children:n}=e;return(0,i.jsx)(C.Z,{variant:"primary",href:"https://docs.aleph.im/computing/confidential/",target:"_blank",children:n})};CreateConfidentialButton.displayName="CreateConfidentialButton";let j=(0,m.memo)(e=>{let{data:n}=e;return(0,i.jsx)(i.Fragment,{children:n.length>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.Jy,{children:(0,i.jsx)(Z,{children:(0,i.jsx)(y.Z,{borderType:"none",rowNoise:!0,rowKey:e=>e.id,data:n,columns:[{label:"Name",width:"100%",sortable:!0,render:e=>{var n;return(null==e?void 0:null===(n=e.metadata)||void 0===n?void 0:n.name)||(0,_.zN)(e.id)}},{label:"Cores",align:"right",sortable:!0,render:e=>{var n;return(null==e?void 0:null===(n=e.resources)||void 0===n?void 0:n.vcpus)||0}},{label:"RAM",align:"right",sortable:!0,render:e=>{var n;return(0,_.Fx)((null==e?void 0:null===(n=e.resources)||void 0===n?void 0:n.memory)||0,{from:"MiB",to:"GiB",displayUnit:!0})}},{label:"HDD",align:"right",sortable:!0,render:e=>(0,_.eB)(e.size,"MiB")},{label:"Date",align:"right",sortable:!0,render:e=>e.date},{label:"",align:"right",render:e=>(0,i.jsx)(C.Z,{kind:"functional",variant:"secondary",href:"/computing/confidential/".concat(e.id),children:(0,i.jsx)(r.JO,{name:"angle-right",size:"lg"})}),cellProps:()=>({css:{paddingLeft:"0.75rem !important"}})}]})})}),(0,i.jsx)(N,{children:(0,i.jsx)(w,{children:"Create confidential instance"})})]}):(0,i.jsx)(T,{children:(0,i.jsx)(w,{children:"Create your first confidential instance"})})})});j.displayName="ConfidentialsTabContent";let w=(0,m.memo)(CreateConfidentialButton);var Z=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-dvqxu5-0"})({maxWidth:"100%",overflow:"auto"}),N=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-dvqxu5-1"})({marginTop:"5rem",textAlign:"center"}),T=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-dvqxu5-2"})({marginTop:"2.5rem",textAlign:"center"});function ConfidentialDashboardPage(){let{authorized:e,tabs:n,tabId:t,setTabId:a,confidentials:C,volumes:_,domains:y}=function(){let{push:e}=(0,b.useRouter)(),{confidentials:n}=(0,x.o)(),{entities:t=[]}=(0,u.x)(),{entities:i=[]}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,h.Z)(),t=(0,g.B)();return(0,f.F)({...e,manager:t,name:"confidentialVolume",ids:n})}(),{entities:a=[]}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[n]=(0,v.mr)(),t=n.confidential.entities,{entities:i}=(0,p.d)(e),a=(0,m.useMemo)(()=>{if(!t||!i)return[];let e=t.reduce((e,n)=>(e[n.id]=!0,e),{});return i.filter(n=>!!e[n.ref])},[i,t]);return{entities:a}}(),[r,o]=(0,m.useState)("confidential"),l=(0,m.useMemo)(()=>[{id:"confidential",name:"Confidentials",label:{label:getLabel(t),position:"bottom"}},{id:"volume",name:"Attached Volumes",label:{label:getLabel(i),position:"bottom"},disabled:!i.length},{id:"domain",name:"Linked Domains",label:{label:getLabel(a),position:"bottom"},disabled:!a.length}],[a,t,i]);return(0,m.useEffect)(()=>{n||e("/")},[n,e]),{authorized:n,confidentials:t,volumes:i,domains:a,tabs:l,tabId:r,setTabId:o}}();if(e)return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(B,{$variant:"xl",children:(0,i.jsx)(r.mQ,{selected:t,tabs:n,onTabChange:a})}),(0,i.jsx)("div",{role:"tabpanel",children:"confidential"===t?(0,i.jsxs)(i.Fragment,{children:[!!C.length&&(0,i.jsx)(P,{$variant:"xl",children:(0,i.jsx)(j,{data:C})}),(0,i.jsx)(c.Z,{imageSrc:"/img/dashboard/instance.svg",imageAlt:"Confidential illustration",info:"WHAT IS A...",title:"Confidential Instance",description:"Protect your sensitive workloads with our Confidential VMs. Designed for maximum privacy and security, ensuring your execution and data stays safe.",withButton:!1})]}):"volume"===t?(0,i.jsx)(i.Fragment,{children:!!_.length&&(0,i.jsx)(I,{$variant:"xl",children:(0,i.jsx)(s.Z,{data:_,cta:!1})})}):"domain"===t?(0,i.jsx)(i.Fragment,{children:!!y.length&&(0,i.jsx)(S,{$variant:"xl",children:(0,i.jsx)(d.Z,{data:y,cta:!1})})}):(0,i.jsx)(i.Fragment,{})}),(0,i.jsx)(o.Z,{$variant:"xl",children:(0,i.jsx)(l.Z,{})})]})}var B=(0,a.ZP)(o.Z).withConfig({displayName:"cmp___StyledContainer",componentId:"sc-e682e7-0"})({marginTop:"2.5rem",marginBottom:"2.5rem"}),P=(0,a.ZP)(o.Z).withConfig({displayName:"cmp___StyledContainer2",componentId:"sc-e682e7-1"})({marginTop:"2.5rem",marginBottom:"2.5rem"}),I=(0,a.ZP)(o.Z).withConfig({displayName:"cmp___StyledContainer3",componentId:"sc-e682e7-2"})({marginTop:"2.5rem",marginBottom:"2.5rem"}),S=(0,a.ZP)(o.Z).withConfig({displayName:"cmp___StyledContainer4",componentId:"sc-e682e7-3"})({marginTop:"2.5rem",marginBottom:"2.5rem"})}},function(e){e.O(0,[733,774,888,179],function(){return e(e.s=80860)}),_N_E=e.O()}]);