(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[143],{13190:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/computing/instance/[hash]",function(){return n(11988)}])},4450:function(e,i,n){"use strict";n.d(i,{Z:function(){return LogsFeed}});var t=n(85893),s=n(19521),a=n(79632),r=n(70150),d=n(45866);function LogsFeed(e){let{logs:i}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.DU,{type:"h7",as:"h2",color:"main0",children:"Stdout"}),(0,t.jsxs)(l,{children:[(0,t.jsx)(d.Z,{show:!(null==i?void 0:i.stdout),color:"white"}),(0,t.jsx)(c,{readOnly:!0,name:"stdout",placeholder:"Loading logs...",value:null==i?void 0:i.stdout,variant:"code"})]}),(0,t.jsx)(r.Z0,{}),(0,t.jsx)(a.DU,{type:"h7",as:"h2",color:"main0",children:"Stderr"}),(0,t.jsxs)(o,{children:[(0,t.jsx)(d.Z,{show:!(null==i?void 0:i.stderr),color:"white"}),(0,t.jsx)(m,{readOnly:!0,name:"stderr",placeholder:"Loading logs...",value:null==i?void 0:i.stderr,variant:"code"})]})]})}var l=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-fvcqgm-0"})({position:"relative"}),c=(0,s.ZP)(a.Kx).withConfig({displayName:"cmp___StyledTextArea",componentId:"sc-fvcqgm-1"})({height:"30rem"}),o=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-fvcqgm-2"})({position:"relative"}),m=(0,s.ZP)(a.Kx).withConfig({displayName:"cmp___StyledTextArea2",componentId:"sc-fvcqgm-3"})({height:"30rem"})},18395:function(e,i,n){"use strict";n.d(i,{p:function(){return useSSHKeyManager}});var t=n(55032);function useSSHKeyManager(){let[e]=(0,t.mr)(),{sshKeyManager:i}=e.manager;return i}},96370:function(e,i,n){"use strict";n.d(i,{u:function(){return useRequestInstances}});var t=n(99978),s=n(77205);function useRequestInstances(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(0,t.U)();return(0,s.F)({...e,manager:i,name:"instance"})}},11988:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return ManageInstance}});var t=n(85893),s=n(19521),a=n(41664),r=n.n(a),d=n(11505),l=n(34517),c=n(76696),o=n(79632),m=n(9911),p=n(11163),h=n(67294),x=n(99978),f=n(18395),g=n(96370),v=n(55304),j=n(49107),y=n(70150),_=n(5598),u=n(93788),N=n(4450);function ManageInstance(){var e;let{instance:i,status:n,mappedKeys:a,nodeDetails:X,isRunning:V,stopDisabled:Y,startDisabled:Q,rebootDisabled:$,logs:ee,tabs:ei,tabId:en,theme:et,handleStop:es,handleStart:ea,handleReboot:er,handleCopyHash:ed,handleCopyConnect:el,handleCopyIpv6:ec,handleDelete:eo,handleBack:em,setTabId:ep}=function(){let e=(0,p.useRouter)(),{hash:i}=e.query,{entities:n}=(0,g.u)({ids:i}),[t]=n||[],a=(0,x.U)(),r=(0,s.Fg)(),[d,l]=(0,h.useState)("detail"),c=(0,v.y)({executable:t,manager:a,subscribeLogs:"log"===d}),{logsDisabled:m,status:j}=c,y=(0,h.useMemo)(()=>[{id:"detail",name:"Details"},{id:"log",name:"Logs",disabled:m}],[m]),[_,u]=(0,h.useState)([]),N=(0,o.vx)((null==t?void 0:t.id)||""),w=(0,o.vx)((null==j?void 0:j.ipv6Parsed)||""),C=(0,o.vx)("ssh root@".concat(null==j?void 0:j.ipv6Parsed)),S=(0,f.p)();return(0,h.useEffect)(()=>{if(!t||!S)return;let getMapped=async()=>{let e=await (null==S?void 0:S.getByValues(t.authorized_keys||[]));u(e)};getMapped()},[S,t]),{...c,instance:t,mappedKeys:_,theme:r,tabs:y,tabId:d,setTabId:l,handleCopyHash:N,handleCopyConnect:C,handleCopyIpv6:w,handleBack:()=>{e.push(".")}}}();if(!i)return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Z,{handleBack:em}),(0,t.jsx)(y.W2,{children:(0,t.jsx)(w,{children:"Loading..."})})]});let eh=(null==i?void 0:null===(e=i.metadata)||void 0===e?void 0:e.name)||(0,j.zN)(i.id),ex=m.K_[i.type],ef=i.volumes;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Z,{handleBack:em}),(0,t.jsx)(C,{children:(0,t.jsxs)(y.W2,{children:[(0,t.jsxs)(S,{children:[(0,t.jsxs)(Z,{children:[(0,t.jsx)(I,{name:"alien-8bit",className:"text-main0"}),(0,t.jsx)("div",{className:"tp-body2",children:eh}),(0,t.jsx)(P,{kind:"secondary",variant:i.time<Date.now()-45e3&&V?"success":"warning",children:V?"READY":(0,t.jsxs)(q,{children:[(0,t.jsx)(D,{children:"CONFIRMING"}),(0,t.jsx)(d.s5,{strokeColor:et.color.base2,width:".8rem"})]})})]}),(0,t.jsxs)(b,{children:[(0,t.jsx)(o.u,{content:"Stop Instance",my:"bottom-center",at:"top-center",children:(0,t.jsx)(o.zx,{variant:"secondary",size:"md",onClick:es,disabled:Y,children:(0,t.jsx)(o.JO,{name:"stop"})})}),(0,t.jsx)(o.u,{content:"Reallocate Instance",my:"bottom-center",at:"top-center",children:(0,t.jsx)(o.zx,{variant:"secondary",size:"md",onClick:ea,disabled:Q,children:(0,t.jsx)(o.JO,{name:"play"})})}),(0,t.jsx)(o.u,{content:"Reboot Instance",my:"bottom-center",at:"top-center",children:(0,t.jsx)(o.zx,{variant:"secondary",size:"md",onClick:er,disabled:$,children:(0,t.jsx)(o.JO,{name:"arrow-rotate-backward"})})}),(0,t.jsx)(o.zx,{kind:"functional",variant:"error",size:"md",onClick:eo,children:(0,t.jsx)(o.JO,{name:"trash"})})]})]}),(0,t.jsxs)(o.Jy,{children:[(0,t.jsxs)(k,{children:[(0,t.jsx)(B,{variant:"accent",children:ex}),(0,t.jsxs)(T,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"ITEM HASH"}),(0,t.jsx)(c.Z,{iconName:"copy",onClick:ed,children:i.id})]})]}),(0,t.jsx)(y.Z0,{}),(0,t.jsxs)(R,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"CORES"}),(0,t.jsx)("div",{children:(0,t.jsxs)(y.xv,{children:[i.resources.vcpus," x86 64bit"]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"RAM"}),(0,t.jsx)("div",{children:(0,t.jsx)(y.xv,{children:(0,j.Fx)(i.resources.memory,{from:"MiB",to:"GiB",displayUnit:!0})})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"HDD"}),(0,t.jsx)("div",{children:(0,t.jsx)(y.xv,{children:(0,j.Fx)(i.size,{from:"MiB",to:"GiB",displayUnit:!0})})})]})]}),(0,t.jsxs)(F,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"EXPLORER"}),(0,t.jsx)("div",{children:(0,t.jsx)("a",{className:"tp-body1 fs-16",href:i.url,target:"_blank",referrerPolicy:"no-referrer",children:(0,t.jsx)(c.Z,{iconName:"square-up-right",children:(0,t.jsx)(y.xv,{children:(0,j.bs)(i.url,80)})})})})]}),(0,t.jsx)(y.Z0,{}),(0,t.jsx)(o.mQ,{selected:en,align:"left",onTabChange:ep,tabs:ei}),(0,t.jsx)(M,{role:"tabpanel",children:"detail"===en?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(E,{children:[(0,t.jsx)(o.DU,{type:"h7",as:"h2",color:"main0",children:"Connection methods"}),(0,t.jsxs)(L,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"SSH COMMAND"}),(0,t.jsx)("div",{children:n?(0,t.jsx)(c.Z,{iconName:"copy",onClick:el,children:(0,t.jsxs)(y.xv,{children:[">_ ssh root@",n.ipv6Parsed]})}):(0,t.jsxs)(O,{children:[(0,t.jsx)(z,{className:"tp-body1 fs-16 text-main2",children:"Allocating"}),(0,t.jsx)(d.g4,{width:".8rem",height:"1rem",color:et.color.main2})]})})]}),(0,t.jsxs)(U,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"IPv6"}),(0,t.jsx)("div",{children:n&&(0,t.jsx)(c.Z,{iconName:"copy",onClick:ec,children:(0,t.jsx)(y.xv,{children:n.ipv6Parsed})})})]})]}),(0,t.jsxs)(A,{children:[(0,t.jsx)(o.DU,{type:"h7",as:"h2",color:"main0",children:"Accessible for"}),(0,t.jsx)(H,{children:a.map((e,i)=>e&&(0,t.jsxs)(J,{children:[(0,t.jsxs)("div",{className:"tp-info text-main0",children:["SSH KEY #",i+1]}),(0,t.jsx)(r(),{className:"tp-body1 fs-16",href:"?hash="+e.id,referrerPolicy:"no-referrer",children:(0,t.jsx)(c.Z,{iconName:"square-up-right",children:(0,t.jsx)(y.xv,{children:e.label})})})]},null==e?void 0:e.id))})]}),X&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.Z0,{}),(0,t.jsx)(o.DU,{type:"h7",as:"h2",color:"main0",children:"Current CRN"}),(0,t.jsxs)(K,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"NAME"}),(0,t.jsx)("div",{children:(0,t.jsx)(y.xv,{children:X.name})})]}),(0,t.jsxs)(W,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"URL"}),(0,t.jsx)("div",{children:(0,t.jsx)("a",{className:"tp-body1 fs-16",href:X.url,target:"_blank",referrerPolicy:"no-referrer",children:(0,t.jsx)(c.Z,{iconName:"square-up-right",children:(0,t.jsx)(y.xv,{children:(0,j.bs)(X.url,80)})})})})]})]}),ef.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.Z0,{}),(0,t.jsx)(o.DU,{type:"h7",as:"h2",color:"main0",children:"Linked Storage(s)"}),(0,t.jsx)(_.Z,{volumes:ef})]})]}):"log"===en?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(N.Z,{logs:ee})}):(0,t.jsx)(t.Fragment,{})})]}),(0,t.jsx)(G,{children:(0,t.jsx)(l.Z,{variant:"primary",href:"/computing/instance/new",children:"Create new instance"})})]})})]})}var w=(0,s.ZP)(o.Jy).withConfig({displayName:"cmp___StyledNoisyContainer",componentId:"sc-104qfl5-0"})({marginTop:"1rem",marginBottom:"1rem"}),C=(0,s.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-104qfl5-1"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.5rem",paddingTop:"5rem","@media (min-width: 48rem)":{paddingTop:"2.5rem",paddingBottom:"2.5rem"}}),S=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-104qfl5-2"})({display:"flex",flexDirection:"column",flexWrap:"wrap",justifyContent:"space-between",gap:"1rem",paddingBottom:"1.25rem","@media (min-width: 48rem)":{flexDirection:"row"}}),Z=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-104qfl5-3"})({display:"flex",alignItems:"center"}),I=(0,s.ZP)(o.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-104qfl5-4"})({marginRight:"1rem"}),P=(0,s.ZP)(o.__).withConfig({displayName:"cmp___StyledLabel",componentId:"sc-104qfl5-5"})({marginLeft:"1rem"}),q=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-104qfl5-6"})({display:"flex",alignItems:"center"}),D=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-104qfl5-7"})({marginRight:"0.5rem"}),b=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-104qfl5-8"})({display:"flex",gap:"1rem"}),k=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-104qfl5-9"})({display:"flex",alignItems:"center",justifyContent:"flex-start",overflow:"hidden"}),B=(0,s.ZP)(o.Vp).withConfig({displayName:"cmp___StyledTag",componentId:"sc-104qfl5-10"})({marginRight:"1rem",whiteSpace:"nowrap"}),T=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-104qfl5-11"})({flex:"1 1 auto"}),R=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv8",componentId:"sc-104qfl5-12"})({marginTop:"1.25rem",marginBottom:"1.25rem",display:"flex",flexWrap:"wrap",justifyContent:"flex-start",gap:"1.25rem"}),F=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv9",componentId:"sc-104qfl5-13"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),M=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv10",componentId:"sc-104qfl5-14"})({marginTop:"1.5rem"}),E=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv11",componentId:"sc-104qfl5-15"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),L=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv12",componentId:"sc-104qfl5-16"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),O=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv13",componentId:"sc-104qfl5-17"})({display:"flex",alignItems:"flex-end"}),z=(0,s.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-104qfl5-18"})({marginRight:"0.25rem"}),U=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv14",componentId:"sc-104qfl5-19"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),A=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv15",componentId:"sc-104qfl5-20"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),H=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv16",componentId:"sc-104qfl5-21"})({marginTop:"1.25rem",marginBottom:"1.25rem",display:"flex"}),J=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv17",componentId:"sc-104qfl5-22"})({marginRight:"1.25rem"}),K=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv18",componentId:"sc-104qfl5-23"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),W=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv19",componentId:"sc-104qfl5-24"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),G=(0,s.ZP)("div").withConfig({displayName:"cmp___StyledDiv20",componentId:"sc-104qfl5-25"})({marginTop:"5rem",textAlign:"center"})}},function(e){e.O(0,[118,774,888,179],function(){return e(e.s=13190)}),_N_E=e.O()}]);