(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[455],{66098:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/computing/instance/new/crn",function(){return i(35254)}])},34517:function(e,t,i){"use strict";i.d(t,{Z:function(){return l}});var n=i(85893),a=i(67294),o=i(41664),r=i.n(o),d=i(72771);let ButtonLink=e=>{let{href:t,variant:i="secondary",color:a="main0",kind:o="default",size:l="md",disabled:s,children:c,...m}=e,u=(0,n.jsx)(d.zx,{as:s?void 0:"a",variant:i,color:a,kind:o,size:l,disabled:s,...m,children:c});return s?u:(0,n.jsx)(r(),{href:t,passHref:!0,legacyBehavior:!0,children:u})};ButtonLink.displayName="ButtonLink";var l=(0,a.memo)(ButtonLink)},93963:function(e,t,i){"use strict";i.d(t,{Z:function(){return r}});var n=i(19521);let a={xl:90,lg:60.0625,md:44.6875},o=n.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-1bpjbi2-0"})(["",""],e=>{let{$variant:t="lg"}=e;return(0,n.iv)([""," max-width:","rem;"],{marginLeft:"auto",marginRight:"auto",width:"100%",paddingLeft:"1.5rem",paddingRight:"1.5rem","@media (min-width: 62rem)":{paddingLeft:"4rem",paddingRight:"4rem"}},a[t])});var r=o},39674:function(e,t,i){"use strict";i.d(t,{Z:function(){return l}});var n=i(85893),a=i(19521),o=i(67294),r=i(20665);let d=(0,a.ZP)(r.Z).attrs(e=>({borderType:"solid",rowNoise:!0,stickyHeader:!1,...e})).withConfig({displayName:"styles__StyledTable",componentId:"sc-edtxuy-0"})(["thead th{font-size:0.8125rem;","}td,th{padding:0.75rem 1rem;width:0;}tr,td{border:none;}"],{whiteSpace:"nowrap"}),NodesTable=e=>{let{children:t,...i}=e;return(0,n.jsx)(s,{children:(0,n.jsx)(d,{...i,children:t})})};NodesTable.displayName="NodesTable";var l=(0,o.memo)(NodesTable),s=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-c0xaff-0"})({maxWidth:"100%",overflowX:"auto"})},22887:function(e,t,i){"use strict";i.d(t,{Z:function(){return s}});var n=i(85893),a=i(67294),o=i(19521);let r=o.ZP.span.withConfig({displayName:"styles__StyledPrice",componentId:"sc-tdptuh-0"})(["",""],{display:"inline-flex",alignItems:"center",gap:"0.25rem",whiteSpace:"nowrap"});var d=i(72771),l=i(69060);let Price=e=>{let{value:t,duration:i,iconSize:a="0.75em",...o}=e;return(0,n.jsxs)(r,{...o,children:[(0,l.RK)(t),(0,n.jsx)(d.TR,{color:"currentColor",img:"aleph",size:a}),i&&(0,n.jsxs)("span",{children:["/ ",i]})]})};Price.displayName="Price";var s=(0,a.memo)(Price)},20665:function(e,t,i){"use strict";i.d(t,{Z:function(){return r}});var n=i(19521),a=i(72771);let o=(0,n.ZP)(a.iA).attrs((0,a.PT)("tp-body3")).withConfig({displayName:"styles__StyledTable",componentId:"sc-1rehsz-0"})(["",""],e=>{let{theme:t}=e,{duration:i,timing:a}=t.transition;return(0,n.iv)([".check-button{transition:all "," ","ms 0ms;background:",";color:",";width:3.75rem;height:2rem;min-height:2rem;visibility:hidden;opacity:0;&::after{display:none;}&:disabled{background:",";}}thead{color:",";background:",";border-bottom:0.125rem solid ",";th > div{opacity:1 !important;}}tbody{tr{cursor:pointer;td{transition:all "," ","ms 0ms;background:",";&.fx-noise-light{background:",";}}&:hover,&._active{td{color:",";background:",";&:first-child{border-top-left-radius:3.75rem;border-bottom-left-radius:3.75rem;}&:last-child{border-top-right-radius:3.75rem;border-bottom-right-radius:3.75rem;}}.check-button{visibility:visible;opacity:1;}}&._active{cursor:not-allowed;}&._disabled{td{color:",";background:inherit;opacity:0.8;cursor:not-allowed;}}}}td,th{","}"],a,i.fast,t.color.purple0,t.color.main0,t.color.purple0,t.color.text,e=>{let{theme:t}=e;return t.color.light0},t.color.white,a,i.fast,t.color.light0,t.color.light1,t.color.main0,t.color.purple4,t.color.disabled,{width:"0px",textOverflow:"ellipsis",whiteSpace:"nowrap",paddingLeft:"1rem",paddingRight:"1rem"})});var r=o},59682:function(e,t,i){"use strict";i.d(t,{Z:function(){return u}});var n=i(85893),a=i(19521),o=i(67294),r=i(72771);let d=a.ZP.div.withConfig({displayName:"styles__StyledSeparator",componentId:"sc-1dsk0d9-0"})([""," flex:0 0 1px;background-color:",";"],{display:"none","@media (min-width: 48rem)":{display:"block"}},e=>{let{theme:t}=e;return t.component.walletPicker.border.color});var l=i(9911),s=i(22887),c=i(73935);let m=a.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-1iblpc-0"})(["",""],e=>{let{theme:t,$sticked:i}=e,{shadow:n}=t.component.walletPicker,{timing:o,duration:r}=t.transition;return(0,a.iv)([""," background:",";box-shadow:",";transition:all "," ","ms 0s;transition-property:opacity,box-shadow;"],{paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"1rem",paddingBottom:"1rem","@media (min-width: 62rem)":{paddingLeft:"4rem",paddingRight:"4rem"}},t.color.base1,i?n:"none",o,r.fast)});var cmp=e=>{let{children:t,containerRef:i,offset:a=0,thresholdOffset:d=a,shouldHide:l=!0}=e,s=(0,o.useRef)(null),u=(0,o.useRef)(null),p=(0,r.iP)(),{scrollY:h}=(0,r.vO)({ref:i,debounceDelay:0}),f=[p,h],{bounds:v}=(0,r.Bq)({ref:u,deps:f}),{bounds:g}=(0,r.Bq)({ref:i,deps:f}),y=((null==v?void 0:v.bottom)||0)+d,b=(null==g?void 0:g.bottom)||0,{shouldMount:w,state:x}=(0,r.Q)({onOff:y>b,ref:s}),_="enter"===x,N=l?_?1:0:1,S=(null==g?void 0:g.width)||0,C=(null==g?void 0:g.left)||0,j=((null==p?void 0:p.height)||0)-((null==g?void 0:g.bottom)||0)+a,k=(0,n.jsx)(m,{ref:s,$sticked:_,style:{position:l?"fixed":"sticky",bottom:j,left:C,width:S,opacity:N},children:t});return(0,n.jsxs)(n.Fragment,{children:[l?w&&(0,c.createPortal)(k,window.document.body):k,(0,n.jsx)("div",{ref:u})]})},u=(0,o.memo)(e=>{let{submitButton:t,paymentMethodSwitch:i,paymentMethod:a,mainRef:c,totalCost:m,shouldHide:u=!0,thresholdOffset:g=600,...y}=e,b=t&&((0,o.isValidElement)(t)&&t.type===r.zx?(0,o.cloneElement)(t,{size:"md"}):t);return(0,n.jsx)(n.Fragment,{children:c&&(0,n.jsx)(cmp,{containerRef:c,shouldHide:u,thresholdOffset:g,...y,children:(0,n.jsxs)(p,{children:[(0,n.jsx)("div",{children:i}),(0,n.jsxs)(h,{children:[(0,n.jsxs)(f,{className:"tp-body2",children:[(0,n.jsx)(v,{children:a===l.XL.Stream?"Total per hour":"Total hold"}),(0,n.jsx)(s.Z,{value:m,className:"text-main0 fs-24 tp-body3"})]}),(0,n.jsx)(d,{}),b]})]})})})}),p=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-l66cr-0"})({display:"flex",flexDirection:"column",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",gap:"1.5rem",paddingTop:"0.5rem",paddingBottom:"0.5rem","@media (min-width: 48rem)":{flexDirection:"row"}}),h=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-l66cr-1"})({display:"flex",flexDirection:"column",gap:"1rem","@media (min-width: 48rem)":{flexDirection:"row"}}),f=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-l66cr-2"})({display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",whiteSpace:"nowrap"}),v=(0,a.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-l66cr-3"})({marginTop:"0.25rem"})},82690:function(e,t,i){"use strict";i.d(t,{Z:function(){return NewEntityTab}});var n=i(85893),a=i(19521),o=i(72771),r=i(11163),d=i(67294);function NewEntityTab(e){let{selected:t,handleChange:i}=function(e){let t=(0,r.useRouter)(),i=(0,d.useCallback)(e=>{t.push("/computing/".concat(e,"/new"))},[t]);return{...e,handleChange:i}}(e);return(0,n.jsx)(l,{selected:t,onTabChange:i,tabs:[{id:"function",name:"Function"},{id:"instance",name:"Instance",label:{label:"BETA",position:"top"}},{id:"confidential",name:"Confidential",disabled:!0,label:{label:"SOON",position:"top"}}]})}var l=(0,a.ZP)(o.mQ).withConfig({displayName:"cmp___StyledTabs",componentId:"sc-1stdhvf-0"})({overflow:"auto"})},93787:function(e,t,i){"use strict";i.d(t,{z:function(){return useNodeManager}});var n=i(51079);function useNodeManager(){let[e]=(0,n.mr)(),{nodeManager:t}=e;return t}},60539:function(e,t,i){"use strict";i.d(t,{O:function(){return useRequestCRNSpecs}});var n=i(67294),a=i(93787);function useRequestCRNSpecs(e){let{nodes:t}=e,i=(0,a.z)(),[o,r]=(0,n.useState)({}),[d,l]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{(async function(){t&&(await Promise.allSettled(t.filter(e=>i.isStreamPaymentSupported(e)).map(async e=>{let t=await i.getCRNspecs(e);r(i=>({...i,[e.hash]:{data:t,loading:!1,error:void 0}}))})),l(!1))})()},[i,t]),{specs:o,loading:d}}},90104:function(e,t,i){"use strict";i.d(t,{k:function(){return useRequestCRNs}});var n=i(72771),a=i(93787);function useRequestCRNs(e){let{triggerDeps:t}=e,i=(0,a.z)(),{data:o}=(0,n.GO)({doRequest:()=>i.getCRNNodes(),onSuccess:()=>null,flushData:!1,triggerOnMount:!0,triggerDeps:t}),{data:r}=(0,n.GO)({doRequest:()=>i.getLatestCRNVersion(),onSuccess:()=>null,onError:()=>null,flushData:!1,triggerOnMount:!0});return{nodes:o,lastVersion:r}}},35254:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return NewInstanceCRNListPage}});var n=i(85893),a=i(19521),o=i(67294),r=i(25675),d=i.n(r),l=i(72771),s=i(9911),c=i(93963),m=i(90104),u=i(60539),p=i(70007),h=i(93787),f=i(82690),v=i(39674),g=i(69060),y=i(34517),b=i(45866),w=i(11505),x=i(22887),_=i(59682);function NewInstanceCRNListPage(e){let{mainRef:t}=e,{nodes:i,lastVersion:r,specs:B,ips:I}=function(){let{nodes:e,lastVersion:t}=(0,m.k)({}),{specs:i,loading:n}=(0,u.O)({nodes:e}),{ips:a,loading:r}=function(e){let{nodes:t}=e,i=(0,h.z)(),[n,a]=(0,o.useState)({}),[r,d]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{(async function(){t&&(await Promise.allSettled(t.filter(e=>i.isStreamPaymentSupported(e)).map(async e=>{let t=await i.getCRNips(e);a(i=>({...i,[e.hash]:{data:t,loading:!1,error:void 0}}))})),d(!1))})()},[i,t]),{ips:n,loading:r}}({nodes:e}),d=(0,h.z)(),l=(0,o.useMemo)(()=>{let[e]=(0,p.Fk)(!0,s.XL.Stream);return e},[]),c=(0,o.useMemo)(()=>{var t;return null==e?void 0:null===(t=e.filter(e=>d.isStreamPaymentSupported(e)))||void 0===t?void 0:t.filter(e=>{let t=i[e.hash],n=a[e.hash];if(t){let e=(null==t?void 0:t.data)&&(0,p.UQ)(l,t.data);if(!e)return!1}if(n){var o;let e=!!(null==n?void 0:null===(o=n.data)||void 0===o?void 0:o.vm);if(!e)return!1}return!0})},[e,d,i,a,l]);return{nodes:c,lastVersion:t,specs:i,loading:n||r,minSpecs:l,ips:a}}(),T=(0,a.Fg)(),D=(0,o.useMemo)(()=>[{label:"SCORE",width:"10%",sortable:!0,sortBy:e=>e.score,render:e=>(0,n.jsx)(l.WG,{score:e.score})},{label:"NAME",width:"20%",sortable:!0,sortBy:e=>e.name,render:e=>(0,n.jsx)(l.tJ,{hash:e.hash,name:e.name,picture:e.picture,ImageCmp:d(),apiServer:s.pf})},{label:"CPU",width:"10%",sortable:!0,sortBy:e=>{var t,i;return(null===(i=B[e.hash])||void 0===i?void 0:null===(t=i.data)||void 0===t?void 0:t.cpu.count)||0},render:e=>{var t,i,a;return(0,n.jsx)(N,{children:(null===(t=B[e.hash])||void 0===t?void 0:t.data)?"".concat(null===(a=B[e.hash])||void 0===a?void 0:null===(i=a.data)||void 0===i?void 0:i.cpu.count," x86 64bit"):"n/a"})}},{label:"RAM",width:"10%",sortable:!0,sortBy:e=>{var t,i;return(null===(i=B[e.hash])||void 0===i?void 0:null===(t=i.data)||void 0===t?void 0:t.mem.available_kB)||0},render:e=>{var t,i;return(0,n.jsx)(S,{children:(0,g.eB)(null===(i=B[e.hash])||void 0===i?void 0:null===(t=i.data)||void 0===t?void 0:t.mem.available_kB,"KiB")})}},{label:"HDD",width:"10%",sortable:!0,sortBy:e=>{var t,i;return(null===(i=B[e.hash])||void 0===i?void 0:null===(t=i.data)||void 0===t?void 0:t.disk.available_kB)||0},render:e=>{var t,i;return(0,n.jsx)(C,{children:(0,g.eB)(null===(i=B[e.hash])||void 0===i?void 0:null===(t=i.data)||void 0===t?void 0:t.disk.available_kB,"KiB")})}},{label:"VERSION",width:"20%",sortable:!0,sortBy:e=>{var t;return null===(t=e.metricsData)||void 0===t?void 0:t.version},render:e=>{var t;return(0,n.jsx)(l.pJ,{version:(null===(t=e.metricsData)||void 0===t?void 0:t.version)||"",lastVersion:r})}},{label:"PRICE",width:"20%",sortable:!0,sortBy:()=>.11,render:()=>(0,n.jsxs)(j,{children:[(0,n.jsx)(x.Z,{value:.11})," per unit / h"]})},{label:"",align:"right",width:"100%",render:e=>(0,n.jsx)(k,{children:e.isLoading?(0,n.jsx)(P,{size:"md",color:"main2",className:"check-button",disabled:!0,children:(0,n.jsx)(w.s5,{strokeColor:T.color.main0,width:"1em"})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(l.zx,{color:"main0",variant:"tertiary",kind:"default",size:"md",type:"button",onClick:e=>e.preventDefault(),tabIndex:-1,className:"check-button",style:{visibility:e.isActive?"visible":"hidden",opacity:e.isActive?"1":"0",transition:"all ease-in-out 500ms 0ms",transitionProperty:"opacity visibility"},children:(0,n.jsx)(l.JO,{name:"check",size:"lg"})})})})}],[B,r,T]),[L,E]=(0,o.useState)(),z=(0,o.useMemo)(()=>i?i.map(e=>{let{hash:t}=e,i=t===L,n=B[t],a=I[t];return{...e,isActive:i,isLoading:!n||!a}}):[],[I,i,L,B]),O=(0,o.useCallback)(e=>({tabIndex:e.disabled?-1:0,className:"".concat(e.disabled?"_disabled":""," ").concat(e.isActive?"_active":""," ").concat(e.isLoading?"_loading":""),onClick:()=>{!e.disabled&&(e.isLoading||E(e.hash))},onKeyDown:t=>{("Space"===t.code||"Enter"===t.code)&&!e.disabled&&(e.isLoading||(t.preventDefault(),E(e.hash)))}}),[]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z,{children:(0,n.jsx)(c.Z,{children:(0,n.jsx)(f.Z,{selected:"instance"})})}),(0,n.jsxs)(R,{children:[(0,n.jsx)(b.Z,{show:!i}),(0,n.jsx)(c.Z,{$variant:"xl",children:(0,n.jsx)(l.Jy,{children:(0,n.jsx)(v.Z,{columns:D,data:z,rowProps:O})})})]}),(0,n.jsx)(_.Z,{paymentMethod:s.XL.Stream,submitButton:(0,n.jsx)(y.Z,{type:"button",color:"main0",kind:"default",size:"md",variant:"primary",href:"./crn/".concat(L),disabled:!L,children:"Continue"}),mainRef:t,totalCost:.11,shouldHide:!1,thresholdOffset:0})]})}var N=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1q1t6m4-0"})({whiteSpace:"nowrap"}),S=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1q1t6m4-1"})({whiteSpace:"nowrap"}),C=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1q1t6m4-2"})({whiteSpace:"nowrap"}),j=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-1q1t6m4-3"})({display:"flex",alignItems:"center",gap:"0.25rem",whiteSpace:"nowrap"}),k=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-1q1t6m4-4"})({display:"flex",justifyContent:"flex-end",gap:"0.75rem"}),P=(0,a.ZP)(l.zx).withConfig({displayName:"cmp___StyledButton",componentId:"sc-1q1t6m4-5"})({width:"4rem !important"}),Z=(0,a.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-1q1t6m4-6"})({paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",paddingBottom:"0px","@media (min-width: 48rem)":{paddingTop:"2rem",paddingBottom:"2rem"}}),R=(0,a.ZP)("section").withConfig({displayName:"cmp___StyledSection2",componentId:"sc-1q1t6m4-7"})({position:"relative",paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.5rem",paddingTop:"5rem","@media (min-width: 48rem)":{paddingTop:"2.5rem",paddingBottom:"2.5rem"}})}},function(e){e.O(0,[675,774,888,179],function(){return e(e.s=66098)}),_N_E=e.O()}]);