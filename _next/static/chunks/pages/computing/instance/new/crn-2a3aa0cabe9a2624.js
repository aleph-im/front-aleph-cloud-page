(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[455],{66098:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/computing/instance/new/crn",function(){return i(35254)}])},34517:function(e,t,i){"use strict";i.d(t,{Z:function(){return l}});var n=i(85893),r=i(67294),a=i(41664),o=i.n(a),d=i(72771);let ButtonLink=e=>{let{href:t,variant:i="secondary",color:r="main0",kind:a="default",size:l="md",children:s,...c}=e;return(0,n.jsx)(o(),{href:t,passHref:!0,legacyBehavior:!0,children:(0,n.jsx)(d.zx,{as:"a",variant:i,color:r,kind:a,size:l,...c,children:s})})};ButtonLink.displayName="ButtonLink";var l=(0,r.memo)(ButtonLink)},93963:function(e,t,i){"use strict";i.d(t,{Z:function(){return o}});var n=i(19521);let r={xl:90,lg:60.0625,md:44.6875},a=n.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-1bpjbi2-0"})(["",""],e=>{let{$variant:t="lg"}=e;return(0,n.iv)([""," max-width:","rem;"],{marginLeft:"auto",marginRight:"auto",width:"100%",paddingLeft:"1.25rem",paddingRight:"1.25rem","@media (min-width: 48rem)":{paddingLeft:"4rem",paddingRight:"4rem"}},r[t])});var o=a},39674:function(e,t,i){"use strict";i.d(t,{Z:function(){return l}});var n=i(85893),r=i(19521),a=i(67294),o=i(20665);let d=(0,r.ZP)(o.Z).attrs(e=>({borderType:"solid",rowNoise:!0,stickyHeader:!1,...e})).withConfig({displayName:"styles__StyledTable",componentId:"sc-edtxuy-0"})(["thead th{font-size:0.8125rem;","}tbody tr{cursor:default;}td,th{padding:0.75rem 1rem;width:0;}tr,td{border:none;}"],{whiteSpace:"nowrap"}),NodesTable=e=>{let{children:t,...i}=e;return(0,n.jsx)(s,{children:(0,n.jsx)(d,{...i,children:t})})};NodesTable.displayName="NodesTable";var l=(0,a.memo)(NodesTable),s=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-c0xaff-0"})({maxWidth:"100%",overflowX:"auto"})},22887:function(e,t,i){"use strict";i.d(t,{Z:function(){return s}});var n=i(85893),r=i(67294),a=i(19521);let o=a.ZP.span.withConfig({displayName:"styles__StyledPrice",componentId:"sc-tdptuh-0"})(["",""],{display:"inline-flex",alignItems:"center",gap:"0.25rem"});var d=i(72771),l=i(69060);let Price=e=>{let{value:t,duration:i,...r}=e;return(0,n.jsxs)(o,{...r,children:[(0,l.RK)(t),(0,n.jsx)(d.TR,{color:"currentColor",img:"aleph"}),i&&(0,n.jsxs)("span",{children:["/ ",i]})]})};Price.displayName="Price";var s=(0,r.memo)(Price)},20665:function(e,t,i){"use strict";i.d(t,{Z:function(){return o}});var n=i(19521),r=i(72771);let a=(0,n.ZP)(r.iA).attrs((0,r.PT)("tp-body3")).withConfig({displayName:"styles__StyledTable",componentId:"sc-1rehsz-0"})(["",""],e=>{let{theme:t}=e,{duration:i,timing:r}=t.transition;return(0,n.iv)([".check-button{transition:all "," ","ms 0ms;background:",";color:",";width:3.75rem;height:2rem;min-height:2rem;visibility:hidden;opacity:0;&::after{display:none;}&:disabled{background:",";}}thead{color:",";background:",";border-bottom:0.125rem solid ",";th > div{opacity:1 !important;}}tbody{tr{cursor:pointer;td{transition:all "," ","ms 0ms;background:",";&.fx-noise-light{background:",";}}&:hover,&._active{td{color:",";background:",";&:first-child{border-top-left-radius:3.75rem;border-bottom-left-radius:3.75rem;}&:last-child{border-top-right-radius:3.75rem;border-bottom-right-radius:3.75rem;}}.check-button{visibility:visible;opacity:1;}}&._active{cursor:not-allowed;}&._disabled{td{color:",";background:inherit;opacity:0.8;cursor:not-allowed;}}}}td,th{","}"],r,i.fast,t.color.purple0,t.color.main0,t.color.purple0,t.color.text,e=>{let{theme:t}=e;return t.color.light0},t.color.white,r,i.fast,t.color.light0,t.color.light1,t.color.main0,t.color.purple4,t.color.disabled,{width:"0px",textOverflow:"ellipsis",whiteSpace:"nowrap",paddingLeft:"1rem",paddingRight:"1rem"})});var o=a},82690:function(e,t,i){"use strict";i.d(t,{Z:function(){return NewEntityTab}});var n=i(85893),r=i(19521),a=i(72771),o=i(11163),d=i(67294);function NewEntityTab(e){let{selected:t,handleChange:i}=function(e){let t=(0,o.useRouter)(),i=(0,d.useCallback)(e=>{t.push("/computing/".concat(e,"/new"))},[t]);return{...e,handleChange:i}}(e);return(0,n.jsx)(l,{selected:t,onTabChange:i,tabs:[{id:"function",name:"Function"},{id:"instance",name:"Instance",label:{label:"BETA",position:"top"}},{id:"confidential",name:"Confidential",disabled:!0,label:{label:"SOON",position:"top"}}]})}var l=(0,r.ZP)(a.mQ).withConfig({displayName:"cmp___StyledTabs",componentId:"sc-1stdhvf-0"})({overflow:"auto"})},93787:function(e,t,i){"use strict";i.d(t,{z:function(){return useNodeManager}});var n=i(51079);function useNodeManager(){let[e]=(0,n.mr)(),{nodeManager:t}=e;return t}},60539:function(e,t,i){"use strict";i.d(t,{O:function(){return useRequestCRNSpecs}});var n=i(67294),r=i(93787);function useRequestCRNSpecs(e){let{nodes:t}=e,i=(0,r.z)(),[a,o]=(0,n.useState)({}),[d,l]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{(async function(){t&&(await Promise.allSettled(t.filter(e=>i.isStreamPaymentSupported(e)).map(async e=>{let t=await i.getCRNspecs(e);o(i=>({...i,[e.hash]:{data:t,loading:!1,error:void 0}}))})),l(!1))})()},[i,t]),{specs:a,loading:d}}},90104:function(e,t,i){"use strict";i.d(t,{k:function(){return useRequestCRNs}});var n=i(72771),r=i(93787);function useRequestCRNs(e){let{triggerDeps:t}=e,i=(0,r.z)(),{data:a}=(0,n.GO)({doRequest:()=>i.getCRNNodes(),onSuccess:()=>null,flushData:!1,triggerOnMount:!0,triggerDeps:t}),{data:o}=(0,n.GO)({doRequest:()=>i.getLatestCRNVersion(),onSuccess:()=>null,onError:()=>null,flushData:!1,triggerOnMount:!0});return{nodes:a,lastVersion:o}}},35254:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return NewInstanceCRNListPage}});var n=i(85893),r=i(19521),a=i(67294),o=i(72771),d=i(9911),l=i(93963),s=i(90104),c=i(60539),u=i(70007),m=i(93787),p=i(82690),h=i(39674),v=i(25675),f=i.n(v),g=i(69060),y=i(34517),b=i(45866),w=i(11505),_=i(22887);function NewInstanceCRNListPage(){let{nodes:e,lastVersion:t,specs:i,minSpecs:v,ips:y}=function(){let{nodes:e,lastVersion:t}=(0,s.k)({}),{specs:i,loading:n}=(0,c.O)({nodes:e}),{ips:r,loading:o}=function(e){let{nodes:t}=e,i=(0,m.z)(),[n,r]=(0,a.useState)({}),[o,d]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async function(){t&&(await Promise.allSettled(t.filter(e=>i.isStreamPaymentSupported(e)).map(async e=>{let t=await i.getCRNips(e);r(i=>({...i,[e.hash]:{data:t,loading:!1,error:void 0}}))})),d(!1))})()},[i,t]),{ips:n,loading:o}}({nodes:e}),d=(0,m.z)(),l=(0,a.useMemo)(()=>{let[e]=(0,u.Fk)(!0);return e},[]),p=(0,a.useMemo)(()=>{var t;return null==e?void 0:null===(t=e.filter(e=>d.isStreamPaymentSupported(e)))||void 0===t?void 0:t.filter(e=>{let t=i[e.hash],n=r[e.hash];if(t){let e=(null==t?void 0:t.data)&&(0,u.UQ)(l,t.data);if(!e)return!1}if(n){var a;let e=!!(null==n?void 0:null===(a=n.data)||void 0===a?void 0:a.vm);if(!e)return!1}return!0})},[e,d,i,r,l]);return{nodes:p,lastVersion:t,specs:i,loading:n||o,minSpecs:l,ips:r}}(),B=(0,r.Fg)(),I=(0,a.useMemo)(()=>[{label:"SCORE",width:"10%",sortable:!0,sortBy:e=>e.score,render:e=>(0,n.jsx)(o.WG,{score:e.score})},{label:"NAME",width:"20%",sortable:!0,sortBy:e=>e.name,render:e=>(0,n.jsx)(o.tJ,{hash:e.hash,name:e.name,picture:e.picture,ImageCmp:f(),apiServer:d.pf})},{label:"CPU",width:"10%",sortable:!0,sortBy:e=>{var t,n;return(null===(n=i[e.hash])||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.cpu.count)||0},render:e=>{var t,r,a;return(0,n.jsx)(x,{children:(null===(t=i[e.hash])||void 0===t?void 0:t.data)?"".concat(null===(a=i[e.hash])||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.cpu.count," x86 64bit"):"n/a"})}},{label:"RAM",width:"10%",sortable:!0,sortBy:e=>{var t,n;return(null===(n=i[e.hash])||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.mem.available_kB)||0},render:e=>{var t,r;return(0,n.jsx)(N,{children:(0,g.eB)(null===(r=i[e.hash])||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.mem.available_kB,"KiB")})}},{label:"HDD",width:"10%",sortable:!0,sortBy:e=>{var t,n;return(null===(n=i[e.hash])||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.disk.available_kB)||0},render:e=>{var t,r;return(0,n.jsx)(S,{children:(0,g.eB)(null===(r=i[e.hash])||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.disk.available_kB,"KiB")})}},{label:"VERSION",width:"20%",sortable:!0,sortBy:e=>{var t;return null===(t=e.metricsData)||void 0===t?void 0:t.version},render:e=>{var i;return(0,n.jsx)(o.pJ,{version:(null===(i=e.metricsData)||void 0===i?void 0:i.version)||"",lastVersion:t})}},{label:"PRICE",width:"20%",sortable:!0,sortBy:()=>.11,render:()=>(0,n.jsxs)(C,{children:[(0,n.jsx)(_.Z,{value:.11})," per unit / h"]})},{label:"",align:"right",width:"100%",render:e=>{let t=i[e.hash],r=y[e.hash];return(0,n.jsx)(j,{children:t&&r?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(P,{size:"md",color:"main0",className:"check-button",href:"./crn/".concat(e.hash),children:(0,n.jsx)(o.JO,{name:"angle-right"})})}):(0,n.jsx)(k,{size:"md",color:"main2",className:"check-button",disabled:!0,children:(0,n.jsx)(w.s5,{strokeColor:B.color.main0,width:"1em"})})})}}],[i,t,y,v,B]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(R,{children:(0,n.jsx)(l.Z,{children:(0,n.jsx)(p.Z,{selected:"instance"})})}),(0,n.jsxs)(Z,{children:[(0,n.jsx)(b.Z,{show:!e}),(0,n.jsx)(l.Z,{$variant:"xl",children:(0,n.jsx)(o.Jy,{children:(0,n.jsx)(h.Z,{columns:I,data:e||[]})})})]})]})}var x=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1q1t6m4-0"})({whiteSpace:"nowrap"}),N=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1q1t6m4-1"})({whiteSpace:"nowrap"}),S=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1q1t6m4-2"})({whiteSpace:"nowrap"}),C=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-1q1t6m4-3"})({display:"flex",alignItems:"center",gap:"0.25rem",whiteSpace:"nowrap"}),j=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-1q1t6m4-4"})({display:"flex",justifyContent:"flex-end",gap:"0.75rem"}),k=(0,r.ZP)(o.zx).withConfig({displayName:"cmp___StyledButton",componentId:"sc-1q1t6m4-5"})({width:"4rem !important"}),P=(0,r.ZP)(y.Z).withConfig({displayName:"cmp___StyledButtonLink",componentId:"sc-1q1t6m4-6"})({width:"4rem !important"}),R=(0,r.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-1q1t6m4-7"})({paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",paddingBottom:"0px","@media (min-width: 48rem)":{paddingTop:"2rem",paddingBottom:"2rem"}}),Z=(0,r.ZP)("section").withConfig({displayName:"cmp___StyledSection2",componentId:"sc-1q1t6m4-8"})({position:"relative",paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.5rem",paddingTop:"5rem","@media (min-width: 48rem)":{paddingTop:"2.5rem",paddingBottom:"2.5rem"}})}},function(e){e.O(0,[675,774,888,179],function(){return e(e.s=66098)}),_N_E=e.O()}]);