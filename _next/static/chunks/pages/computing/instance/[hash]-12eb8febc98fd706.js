(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[143],{13190:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/computing/instance/[hash]",function(){return i(86871)}])},34517:function(e,n,i){"use strict";i.d(n,{Z:function(){return c}});var t=i(85893),r=i(67294),a=i(41664),s=i.n(a),o=i(79632);let ButtonLink=e=>{let{href:n,variant:i="secondary",color:r="main0",kind:a="default",size:c="md",disabled:l,children:d,...m}=e,p=(0,t.jsx)(o.zx,{as:l?void 0:"a",variant:i,color:r,kind:a,size:c,disabled:l,...m,children:d});return l?p:(0,t.jsx)(s(),{href:n,passHref:!0,legacyBehavior:!0,children:p})};ButtonLink.displayName="ButtonLink";var c=(0,r.memo)(ButtonLink)},93963:function(e,n,i){"use strict";i.d(n,{Z:function(){return s}});var t=i(19521);let r={xl:90,lg:60.0625,md:44.6875},a=t.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-1bpjbi2-0"})(["",""],e=>{let{$variant:n="lg"}=e;return(0,t.iv)([""," max-width:","rem;"],{marginLeft:"auto",marginRight:"auto",width:"100%",paddingLeft:"1.5rem",paddingRight:"1.5rem","@media (min-width: 62rem)":{paddingLeft:"4rem",paddingRight:"4rem"}},r[n])});var s=a},76696:function(e,n,i){"use strict";i.d(n,{Z:function(){return d}});var t=i(85893),r=i(19521),a=i(67294),s=i(70150),o=i(79632);let c=r.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-hdgoyh-0"})(["",""],e=>{let{theme:n}=e;return(0,r.iv)([""," ","{color:",";}&:hover ","{color:",";}"],{display:"flex",cursor:"pointer",alignItems:"center"},l,n.color.purple4,l,n.color.main0)}),l=(0,r.ZP)(o.JO).withConfig({displayName:"styles__StyledIcon",componentId:"sc-hdgoyh-1"})(["",""],e=>{let{theme:n}=e;return(0,r.iv)([""," transition-property:color;transition-duration:","ms;transition-timing-function:",";"],{marginLeft:"0.5rem",cursor:"pointer"},n.transition.duration.fast,n.transition.timing)}),IconText=e=>{let{children:n,onClick:i,iconName:r}=e;return(0,t.jsxs)(c,{onClick:i,children:[(0,t.jsx)(m,{children:n}),(0,t.jsx)(p,{name:r,className:"text-purple4"})]})};IconText.displayName="IconText";var d=(0,a.memo)(IconText),m=(0,r.ZP)(s.xv).withConfig({displayName:"cmp___StyledText",componentId:"sc-3gm8x3-0"})({wordBreak:"break-all"}),p=(0,r.ZP)(l).withConfig({displayName:"cmp___StyledStyledIcon",componentId:"sc-3gm8x3-1"})({marginLeft:"0.5rem",cursor:"pointer"})},5598:function(e,n,i){"use strict";i.d(n,{Z:function(){return p}});var t=i(85893),r=i(19521),a=i(41664),s=i.n(a),o=i(69060),c=i(67294),l=i(70150),d=i(76696);let m=c.memo(e=>{let{volumes:n,copyAndNotify:i}=e;return(0,t.jsx)(t.Fragment,{children:n.map((e,n)=>(0,t.jsx)(u,{children:(0,o.w2)(e)?(0,t.jsxs)(h,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"PERSISTENT VOLUME"}),(0,t.jsx)("div",{children:(0,t.jsx)(l.xv,{className:"fs-10 tp-body1",children:(0,o.eB)(e.size_mib,"MiB")})})]}):(0,o.Py)(e)?(0,t.jsxs)(f,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"EPHEMERAL VOLUME"}),(0,t.jsx)("div",{children:(0,t.jsx)(l.xv,{className:"fs-10 tp-body1",children:(0,o.eB)(e.size_mib,"MiB")})})]}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"IMMUTABLE VOLUME"}),(0,t.jsx)("div",{children:(0,t.jsx)(s(),{className:"tp-body1 fs-16",href:"/storage/volume/".concat(e.ref),children:(0,t.jsx)(d.Z,{iconName:"square-up-right",children:"Volume details"})})}),(0,t.jsx)(d.Z,{iconName:"copy",onClick:()=>i(e.ref),children:e.ref})]})},n))})});m.displayName="VolumeList";var p=m,u=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1118z9h-0"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),h=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1118z9h-1"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),f=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1118z9h-2"})({marginTop:"1.25rem",marginBottom:"1.25rem"})},70150:function(e,n,i){"use strict";i.d(n,{W2:function(){return c},Z0:function(){return s},xv:function(){return o}});var t=i(19521),r=i(93963),a=i(79632);let s=t.ZP.hr.withConfig({displayName:"common__Separator",componentId:"sc-1mp6l0k-0"})([""," border:0;border-top:1px solid ",";opacity:0.3;"],{marginTop:"1.25rem",marginBottom:"1.25rem"},e=>{let{theme:n}=e;return n.color.main0}),o=t.ZP.span.attrs((0,a.PT)("tp-body1 text-text")).withConfig({displayName:"common__Text",componentId:"sc-1mp6l0k-1"})([""]),c=(0,t.ZP)(r.Z).attrs(e=>({...e,variant:"dashboard"})).withConfig({displayName:"common__Container",componentId:"sc-1mp6l0k-2"})([""])},69368:function(e,n,i){"use strict";i.d(n,{vx:function(){return useCopyToClipboardAndNotify}});var t=i(79632),r=i(67294);function useCopyToClipboardAndNotify(){let[e,n]=function(){let[e,n]=(0,r.useState)(null),copy=async e=>{var i;if(!(null===(i=navigator)||void 0===i?void 0:i.clipboard))return console.warn("Clipboard not supported"),!1;try{return await navigator.clipboard.writeText(e),n(e),!0}catch(e){return console.warn("Copy failed",e),n(null),!1}};return[e,copy]}(),i=(0,t.lm)(),a=(0,r.useCallback)(async e=>{let t=await n(e);t&&i&&i.add({variant:"success",title:"Copied to clipboard"})},[n,i]);return[e,a]}},99978:function(e,n,i){"use strict";i.d(n,{U:function(){return useInstanceManager}});var t=i(55640);function useInstanceManager(){let[e]=(0,t.mr)(),{instanceManager:n}=e.manager;return n}},18395:function(e,n,i){"use strict";i.d(n,{p:function(){return useSSHKeyManager}});var t=i(55640);function useSSHKeyManager(){let[e]=(0,t.mr)(),{sshKeyManager:n}=e.manager;return n}},96370:function(e,n,i){"use strict";i.d(n,{u:function(){return useRequestInstances}});var t=i(68607),r=i(99978),a=i(36949),s=i(55640);function useRequestInstances(){let{id:e,triggerDeps:n=[],triggerOnMount:i=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[o]=(0,s.mr)(),{account:c}=o.connection;n=[c,...n];let l=(0,r.U)(),{data:d,request:m}=(0,t.M)({name:"instance",doRequest:async()=>{if(!l)return[];if(!e)return l.getAll();{let n=await l.get(e);return n?[n]:[]}},onSuccess:()=>null,flushData:!e,triggerOnMount:i,triggerDeps:n});return(0,a.C)({entities:d,request:m,triggerOnMount:i}),{entities:d}}},36949:function(e,n,i){"use strict";i.d(n,{C:function(){return useRetryNotConfirmedEntities}});var t=i(67294);function useRetryNotConfirmedEntities(e){let{entities:n=[],request:i,triggerOnMount:r}=e;(0,t.useEffect)(()=>{if(!r)return;let e=(Array.isArray(n)?n:[n]).filter(e=>!e.confirmed);if(!e.length)return;let t=setInterval(i,1e4);return()=>clearInterval(t)},[n,i,r])}},68607:function(e,n,i){"use strict";i.d(n,{M:function(){return useAppStoreEntityRequest}});var t=i(67294),r=i(55640),a=i(9324),s=i(79632);function useAppStoreEntityRequest(e){let[n,i]=(0,r.mr)();return function(e){let{state:n,dispatch:i,name:r,...o}=e,c=n[r],l=(0,t.useMemo)(()=>{let{entities:e,keys:n,...i}=c;return{data:e,...i}},[c]);return(0,s.QT)({state:l,setState:e=>i(new a.B9({name:r,state:e})),...o})}({state:n,dispatch:i,...e})}},86871:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return ManageInstance}});var t=i(85893),r=i(19521),a=i(34517),s=i(76696),o=i(79632),c=i(9911),l=i(11163),d=i(67294),m=i(69368),p=i(99978),u=i(55640),h=i(18395),f=i(73603),x=i(45520),g=i(59658),v=i(76175),y=i(96370),_=i(9324),j=i(69060),N=i(70150),w=i(5598),C=i(11505),I=i(41664),S=i.n(I);function ManageInstance(){var e;let{instance:n,status:i,handleCopyHash:I,handleCopyConnect:Q,handleCopyIpv6:ee,handleDelete:en,copyAndNotify:ei,mappedKeys:et}=function(){let[e,n]=(0,u.mr)(),{account:i,blockchain:t}=e.connection,{handleConnect:r}=(0,g.R)({triggerOnMount:!1}),a=(0,l.useRouter)(),{hash:s}=a.query,{entities:o}=(0,y.u)({id:s}),[c]=o||[],[j,N]=(0,d.useState)([]),[,w]=(0,m.vx)(),C=function(e){let[n,i]=(0,d.useState)(void 0),t=(0,p.U)();return(0,d.useEffect)(()=>{if(!t||!e||n)return;async function request(){if(!t||!e)return;let n=await t.checkStatus(e);i(n)}n||request();let r=setInterval(request,1e4);return()=>clearInterval(r)},[n,e,t]),n}(c),I=(0,p.U)(),S=(0,h.p)();(0,d.useEffect)(()=>{if(!c||!S)return;let getMapped=async()=>{let e=await (null==S?void 0:S.getByValues(c.authorized_keys||[]));N(e)};getMapped()},[S,c]);let Z=(0,d.useCallback)(()=>{w((null==c?void 0:c.id)||"")},[w,c]),P=(0,d.useCallback)(()=>{w("ssh root@".concat(null==C?void 0:C.vm_ipv6))},[w,C]),b=(0,d.useCallback)(()=>{w((null==C?void 0:C.vm_ipv6)||"")},[w,C]),q=(0,d.useCallback)(async()=>{if(!c)throw Error("Invalid function");if(!I)throw Error("Manager not ready");try{if(t!==f.$O.AVAX||!(i instanceof v.Bp))throw r({blockchain:f.$O.AVAX}),Error();let e=(0,x.vG)(i);await I.del(c,e),n(new _.gg({name:"instance",keys:[c.id]})),await a.replace("/")}catch(e){}},[c,I,t,i,n,a,r]);return{instance:c,status:C,handleCopyHash:Z,handleCopyConnect:P,handleCopyIpv6:b,handleDelete:q,copyAndNotify:w,mappedKeys:j}}(),er=(0,r.Fg)();if(!n)return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(N.W2,{children:(0,t.jsx)(Z,{children:"Loading..."})})});let ea=(null==n?void 0:null===(e=n.metadata)||void 0===e?void 0:e.name)||(0,j.zN)(n.id),es=c.K_[n.type],eo=n.volumes;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(P,{children:(0,t.jsxs)(N.W2,{children:[(0,t.jsxs)(b,{children:[(0,t.jsxs)(q,{children:[(0,t.jsx)(k,{name:"alien-8bit",className:"text-main0"}),(0,t.jsx)("div",{className:"tp-body2",children:ea}),(0,t.jsx)(T,{kind:"secondary",variant:n.time<Date.now()-45e3&&(null==i?void 0:i.vm_ipv6)?"success":"warning",children:(null==i?void 0:i.vm_ipv6)?"READY":(0,t.jsxs)(B,{children:[(0,t.jsx)(D,{children:"CONFIRMING"}),(0,t.jsx)(C.s5,{strokeColor:er.color.base2,width:".8rem"})]})})]}),(0,t.jsx)("div",{children:(0,t.jsx)(o.zx,{kind:"functional",variant:"warning",size:"md",onClick:en,children:"Delete"})})]}),(0,t.jsxs)(o.Jy,{children:[(0,t.jsxs)(E,{children:[(0,t.jsx)(R,{variant:"accent",children:es}),(0,t.jsxs)(M,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"ITEM HASH"}),(0,t.jsx)(s.Z,{iconName:"copy",onClick:I,children:n.id})]})]}),(0,t.jsx)(N.Z0,{}),(0,t.jsxs)(L,{children:[(0,t.jsxs)(A,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"CORES"}),(0,t.jsx)("div",{children:(0,t.jsxs)(N.xv,{children:[n.resources.vcpus," x86 64bit"]})})]}),(0,t.jsxs)(O,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"RAM"}),(0,t.jsx)("div",{children:(0,t.jsx)(N.xv,{children:(0,j.Fx)(n.resources.memory,{from:"MiB",to:"GiB",displayUnit:!0})})})]})]}),(0,t.jsxs)(U,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"EXPLORER"}),(0,t.jsx)("div",{children:(0,t.jsx)("a",{className:"tp-body1 fs-16",href:n.url,target:"_blank",referrerPolicy:"no-referrer",children:(0,t.jsx)(s.Z,{iconName:"square-up-right",children:(0,t.jsx)(N.xv,{children:(0,j.bs)(n.url,80)})})})})]}),(0,t.jsx)(N.Z0,{}),(0,t.jsxs)(z,{children:[(0,t.jsx)(o.DU,{type:"h7",as:"h2",color:"main0",children:"Connection methods"}),(0,t.jsxs)(V,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"SSH COMMAND"}),(0,t.jsx)("div",{children:i?(0,t.jsx)(s.Z,{iconName:"copy",onClick:Q,children:(0,t.jsxs)(N.xv,{children:[">_ ssh root@",i.vm_ipv6]})}):(0,t.jsxs)(F,{children:[(0,t.jsx)(H,{className:"tp-body1 fs-16 text-main2",children:"Allocating"}),(0,t.jsx)(C.g4,{width:".8rem",height:"1rem",color:er.color.main2})]})})]}),(0,t.jsxs)(X,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"IPv6"}),(0,t.jsx)("div",{children:i&&(0,t.jsx)(s.Z,{iconName:"copy",onClick:ee,children:(0,t.jsx)(N.xv,{children:i.vm_ipv6})})})]})]}),(0,t.jsxs)(J,{children:[(0,t.jsx)(o.DU,{type:"h7",as:"h2",color:"main0",children:"Accessible for"}),(0,t.jsx)(K,{children:et.map((e,n)=>e&&(0,t.jsxs)(G,{children:[(0,t.jsxs)("div",{className:"tp-info text-main0",children:["SSH KEY #",n+1]}),(0,t.jsx)(S(),{className:"tp-body1 fs-16",href:"?hash="+e.id,referrerPolicy:"no-referrer",children:(0,t.jsx)(s.Z,{iconName:"square-up-right",children:(0,t.jsx)(N.xv,{children:e.label})})})]},null==e?void 0:e.id))})]}),(null==i?void 0:i.node)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.Z0,{}),(0,t.jsx)(o.DU,{type:"h7",as:"h2",color:"main0",children:"Current CRN"}),(0,t.jsxs)(W,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"NAME"}),(0,t.jsx)("div",{children:(0,t.jsx)(N.xv,{children:i.node.node_id})})]}),(0,t.jsxs)(Y,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"URL"}),(0,t.jsx)("div",{children:(0,t.jsx)("a",{className:"tp-body1 fs-16",href:i.node.url,target:"_blank",referrerPolicy:"no-referrer",children:(0,t.jsx)(s.Z,{iconName:"square-up-right",children:(0,t.jsx)(N.xv,{children:(0,j.bs)(i.node.url,80)})})})})]})]}),eo.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.Z0,{}),(0,t.jsx)(o.DU,{type:"h7",as:"h2",color:"main0",children:"Linked storage"}),(0,t.jsx)(w.Z,{volumes:eo,copyAndNotify:ei})]})]}),(0,t.jsx)($,{children:(0,t.jsx)(a.Z,{variant:"primary",href:"/computing/instance/new",children:"Create new instance"})})]})})})}var Z=(0,r.ZP)(o.Jy).withConfig({displayName:"cmp___StyledNoisyContainer",componentId:"sc-104qfl5-0"})({marginTop:"1rem",marginBottom:"1rem"}),P=(0,r.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-104qfl5-1"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.5rem",paddingTop:"5rem","@media (min-width: 48rem)":{paddingTop:"2.5rem",paddingBottom:"2.5rem"}}),b=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-104qfl5-2"})({display:"flex",justifyContent:"space-between",paddingBottom:"1.25rem"}),q=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-104qfl5-3"})({display:"flex",alignItems:"center"}),k=(0,r.ZP)(o.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-104qfl5-4"})({marginRight:"1rem"}),T=(0,r.ZP)(o.__).withConfig({displayName:"cmp___StyledLabel",componentId:"sc-104qfl5-5"})({marginLeft:"1rem"}),B=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-104qfl5-6"})({display:"flex",alignItems:"center"}),D=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-104qfl5-7"})({marginRight:"0.5rem"}),E=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-104qfl5-8"})({display:"flex",alignItems:"center",justifyContent:"flex-start",overflow:"hidden"}),R=(0,r.ZP)(o.Vp).withConfig({displayName:"cmp___StyledTag",componentId:"sc-104qfl5-9"})({marginRight:"1rem",whiteSpace:"nowrap"}),M=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-104qfl5-10"})({flex:"1 1 auto"}),L=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-104qfl5-11"})({marginTop:"1.25rem",marginBottom:"1.25rem",display:"flex"}),A=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv8",componentId:"sc-104qfl5-12"})({marginRight:"1.25rem"}),O=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv9",componentId:"sc-104qfl5-13"})({marginRight:"1.25rem"}),U=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv10",componentId:"sc-104qfl5-14"})({marginRight:"1.25rem"}),z=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv11",componentId:"sc-104qfl5-15"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),V=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv12",componentId:"sc-104qfl5-16"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),F=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv13",componentId:"sc-104qfl5-17"})({display:"flex",alignItems:"flex-end"}),H=(0,r.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-104qfl5-18"})({marginRight:"0.25rem"}),X=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv14",componentId:"sc-104qfl5-19"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),J=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv15",componentId:"sc-104qfl5-20"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),K=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv16",componentId:"sc-104qfl5-21"})({marginTop:"1.25rem",marginBottom:"1.25rem",display:"flex"}),G=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv17",componentId:"sc-104qfl5-22"})({marginRight:"1.25rem"}),W=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv18",componentId:"sc-104qfl5-23"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),Y=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv19",componentId:"sc-104qfl5-24"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),$=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv20",componentId:"sc-104qfl5-25"})({marginTop:"5rem",textAlign:"center"})}},function(e){e.O(0,[774,888,179],function(){return e(e.s=13190)}),_N_E=e.O()}]);