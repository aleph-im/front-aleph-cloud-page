(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[143],{13190:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/computing/instance/[hash]",function(){return n(77023)}])},34517:function(e,i,n){"use strict";n.d(i,{Z:function(){return d}});var t=n(85893),r=n(67294),a=n(41664),s=n.n(a),o=n(72771);let ButtonLink=e=>{let{href:i,variant:n="secondary",color:r="main0",kind:a="default",size:d="md",disabled:l,children:c,...m}=e,p=(0,t.jsx)(o.zx,{as:l?void 0:"a",variant:n,color:r,kind:a,size:d,disabled:l,...m,children:c});return l?p:(0,t.jsx)(s(),{href:i,passHref:!0,legacyBehavior:!0,children:p})};ButtonLink.displayName="ButtonLink";var d=(0,r.memo)(ButtonLink)},93963:function(e,i,n){"use strict";n.d(i,{Z:function(){return s}});var t=n(19521);let r={xl:90,lg:60.0625,md:44.6875},a=t.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-1bpjbi2-0"})(["",""],e=>{let{$variant:i="lg"}=e;return(0,t.iv)([""," max-width:","rem;"],{marginLeft:"auto",marginRight:"auto",width:"100%",paddingLeft:"1.5rem",paddingRight:"1.5rem","@media (min-width: 62rem)":{paddingLeft:"4rem",paddingRight:"4rem"}},r[i])});var s=a},55563:function(e,i,n){"use strict";n.d(i,{Z:function(){return d}});var t=n(85893),r=n(19521),a=n(67294),s=n(72771),o=n(70150);let IconText=e=>{let{children:i,onClick:n,iconName:r}=e;return(0,t.jsxs)(l,{onClick:n,children:[(0,t.jsx)(c,{children:i}),(0,t.jsx)(m,{name:r})]})};IconText.displayName="IconText";var d=(0,a.memo)(IconText),l=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-3gm8x3-0"})({display:"flex",cursor:"pointer",alignItems:"baseline"}),c=(0,r.ZP)(o.IK).withConfig({displayName:"cmp___StyledGrayText",componentId:"sc-3gm8x3-1"})({wordBreak:"break-all"}),m=(0,r.ZP)(s.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-3gm8x3-2"})({marginLeft:"0.5rem",cursor:"pointer"})},5598:function(e,i,n){"use strict";n.d(i,{Z:function(){return p}});var t=n(85893),r=n(19521),a=n(41664),s=n.n(a),o=n(69060),d=n(67294),l=n(70150),c=n(55563);let m=d.memo(e=>{let{volumes:i,copyAndNotify:n}=e;return(0,t.jsx)(t.Fragment,{children:i.map((e,i)=>(0,t.jsx)(h,{children:(0,o.w2)(e)?(0,t.jsxs)(f,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"PERSISTENT VOLUME"}),(0,t.jsx)("div",{children:(0,t.jsx)(l.IK,{className:"fs-10 tp-body1",children:(0,o.eB)(e.size_mib,"MiB")})})]}):(0,o.Py)(e)?(0,t.jsxs)(u,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"EPHEMERAL VOLUME"}),(0,t.jsx)("div",{children:(0,t.jsx)(l.IK,{className:"fs-10 tp-body1",children:(0,o.eB)(e.size_mib,"MiB")})})]}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"IMMUTABLE VOLUME"}),(0,t.jsx)("div",{children:(0,t.jsx)(s(),{className:"tp-body1 fs-16",href:"/storage/volume/".concat(e.ref),children:(0,t.jsx)(c.Z,{iconName:"square-up-right",children:"Volume details"})})}),(0,t.jsx)(c.Z,{iconName:"copy",onClick:()=>n(e.ref),children:e.ref})]})},i))})});m.displayName="VolumeList";var p=m,h=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1118z9h-0"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),f=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1118z9h-1"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),u=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1118z9h-2"})({marginTop:"1.25rem",marginBottom:"1.25rem"})},70150:function(e,i,n){"use strict";n.d(i,{IK:function(){return o},W2:function(){return d},Z0:function(){return s}});var t=n(19521),r=n(93963),a=n(72771);let s=t.ZP.hr.withConfig({displayName:"common__Separator",componentId:"sc-1mp6l0k-0"})([""," border:0;border-top:1px solid #fff;opacity:0.25;"],{marginTop:"1.25rem",marginBottom:"1.25rem"}),o=t.ZP.span.attrs((0,a.PT)("tp-body1")).withConfig({displayName:"common__GrayText",componentId:"sc-1mp6l0k-1"})(["color:","b3;"],e=>{let{theme:i}=e;return i.color.text}),d=(0,t.ZP)(r.Z).attrs(e=>({...e,variant:"dashboard"})).withConfig({displayName:"common__Container",componentId:"sc-1mp6l0k-2"})([""])},69368:function(e,i,n){"use strict";n.d(i,{vx:function(){return useCopyToClipboardAndNotify}});var t=n(72771),r=n(67294);function useCopyToClipboardAndNotify(){let[e,i]=function(){let[e,i]=(0,r.useState)(null),copy=async e=>{var n;if(!(null===(n=navigator)||void 0===n?void 0:n.clipboard))return console.warn("Clipboard not supported"),!1;try{return await navigator.clipboard.writeText(e),i(e),!0}catch(e){return console.warn("Copy failed",e),i(null),!1}};return[e,copy]}(),n=(0,t.lm)(),a=(0,r.useCallback)(async e=>{let t=await i(e);t&&n&&n.add({variant:"success",title:"Copied to clipboard"})},[i,n]);return[e,a]}},99978:function(e,i,n){"use strict";n.d(i,{U:function(){return useInstanceManager}});var t=n(51079);function useInstanceManager(){let[e]=(0,t.mr)(),{instanceManager:i}=e;return i}},18395:function(e,i,n){"use strict";n.d(i,{p:function(){return useSSHKeyManager}});var t=n(51079);function useSSHKeyManager(){let[e]=(0,t.mr)(),{sshKeyManager:i}=e;return i}},36949:function(e,i,n){"use strict";n.d(i,{C:function(){return useRetryNotConfirmedEntities}});var t=n(67294);function useRetryNotConfirmedEntities(e){let{entities:i=[],request:n,triggerOnMount:r}=e;(0,t.useEffect)(()=>{if(!r)return;let e=(Array.isArray(i)?i:[i]).filter(e=>!e.confirmed);if(!e.length)return;let t=setInterval(n,1e4);return()=>clearInterval(t)},[i,n,r])}},77023:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return ManageInstance}});var t=n(85893),r=n(19521),a=n(34517),s=n(55563),o=n(72771),d=n(9911),l=n(11163),c=n(67294),m=n(51079),p=n(13731),h=n(36949),f=n(99978),u=n(69368),x=n(18395),y=n(10740),g=n(57492),v=n(69060),_=n(70150),j=n(5598),N=n(11505),C=n(41664),I=n.n(C);function ManageInstance(){var e;let{instance:i,status:n,handleCopyHash:C,handleCopyConnect:Y,handleCopyIpv6:$,handleDelete:Q,copyAndNotify:ee,mappedKeys:ei}=function(){let{account:e,switchNetwork:i,selectedNetwork:n}=(0,y.$)(),t=(0,l.useRouter)(),{hash:r}=t.query,[a,s]=(0,c.useState)([]),[d]=function(e){let{id:i,triggerOnMount:n=!0}=e,[t,r]=(0,m.mr)(),a=(0,f.U)(),s=(0,c.useCallback)(async()=>{if(!a)throw Error("Manager not ready");return await a.get(i)},[i,a]),d=(0,c.useCallback)(e=>{r({type:p.MF.addAccountInstance,payload:{accountInstance:e}})},[r]),l=(0,c.useCallback)((e,i)=>{a&&i(e)},[a]),u=(0,c.useMemo)(()=>(t.accountInstances||[]).find(e=>e.id===i),[t.accountInstances,i]),x=(0,o.GO)({doRequest:s,onSuccess:d,onError:l,triggerOnMount:n});return(0,h.C)({entities:u,request:x.request,triggerOnMount:n}),[u,x]}({id:r}),[,v]=(0,u.vx)(),[,_]=(0,m.mr)(),j=function(e){let[i,n]=(0,c.useState)(void 0),t=(0,f.U)();return(0,c.useEffect)(()=>{if(!t||!e||i)return;async function request(){if(!t||!e)return;let i=await t.checkStatus(e);n(i)}i||request();let r=setInterval(request,1e4);return()=>clearInterval(r)},[i,e,t]),i}(d),N=(0,f.U)(),C=(0,x.p)();(0,c.useEffect)(()=>{if(!d||!C)return;let getMapped=async()=>{let e=await (null==C?void 0:C.getByValues(d.authorized_keys||[]));s(e)};getMapped()},[C,d]);let I=(0,c.useCallback)(()=>{v((null==d?void 0:d.id)||"")},[v,d]),w=(0,c.useCallback)(()=>{v("ssh root@".concat(null==j?void 0:j.vm_ipv6))},[v,j]),Z=(0,c.useCallback)(()=>{v((null==j?void 0:j.vm_ipv6)||"")},[v,j]),S=(0,c.useCallback)(async()=>{if(!d)throw Error("Invalid function");if(!N)throw Error("Manager not ready");try{let r;if(n!==g.Chain.AVAX){let e=await i(g.Chain.AVAX);r=e}else r=e;await N.del(d,r),_({type:p.MF.delAccountInstance,payload:{id:d.id}}),await t.replace("/")}catch(e){}},[d,N,n,_,t,i,e]);return{instance:d,status:j,handleCopyHash:I,handleCopyConnect:w,handleCopyIpv6:Z,handleDelete:S,copyAndNotify:v,mappedKeys:a}}(),en=(0,r.Fg)();if(!i)return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(_.W2,{children:(0,t.jsx)(w,{children:"Loading..."})})});let et=(null==i?void 0:null===(e=i.metadata)||void 0===e?void 0:e.name)||(0,v.zN)(i.id),er=d.K_[i.type],ea=i.volumes;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(Z,{children:(0,t.jsxs)(_.W2,{children:[(0,t.jsxs)(S,{children:[(0,t.jsxs)(b,{children:[(0,t.jsx)(P,{name:"alien-8bit",className:"text-main0"}),(0,t.jsx)("div",{className:"tp-body2",children:et}),(0,t.jsx)(q,{kind:"secondary",variant:i.time<Date.now()-45e3&&(null==n?void 0:n.vm_ipv6)?"success":"warning",children:(null==n?void 0:n.vm_ipv6)?"READY":(0,t.jsxs)(k,{children:[(0,t.jsx)(T,{children:"CONFIRMING"}),(0,t.jsx)(N.s5,{strokeColor:en.color.base2,width:".8rem"})]})})]}),(0,t.jsx)("div",{children:(0,t.jsx)(o.zx,{kind:"functional",variant:"warning",size:"md",onClick:Q,children:"Delete"})})]}),(0,t.jsxs)(o.Jy,{children:[(0,t.jsxs)(D,{children:[(0,t.jsx)(B,{className:"tp-body2 fs-16",children:er}),(0,t.jsxs)(E,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"ITEM HASH"}),(0,t.jsx)(s.Z,{iconName:"copy",onClick:C,children:i.id})]})]}),(0,t.jsx)(_.Z0,{}),(0,t.jsxs)(M,{children:[(0,t.jsxs)(R,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"CORES"}),(0,t.jsx)("div",{children:(0,t.jsxs)(_.IK,{children:[i.resources.vcpus," x86 64bit"]})})]}),(0,t.jsxs)(L,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"RAM"}),(0,t.jsx)("div",{children:(0,t.jsx)(_.IK,{children:(0,v.Fx)(i.resources.memory,{from:"MiB",to:"GiB",displayUnit:!0})})})]})]}),(0,t.jsxs)(A,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"EXPLORER"}),(0,t.jsx)("div",{children:(0,t.jsx)("a",{className:"tp-body1 fs-16",href:i.url,target:"_blank",referrerPolicy:"no-referrer",children:(0,t.jsx)(s.Z,{iconName:"square-up-right",children:(0,t.jsx)(_.IK,{children:(0,v.bs)(i.url,80)})})})})]}),(0,t.jsx)(_.Z0,{}),(0,t.jsxs)(K,{children:[(0,t.jsx)(o.DU,{type:"body3",as:"h7",color:"main0",children:"Connection methods"}),(0,t.jsxs)(U,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"SSH COMMAND"}),(0,t.jsx)("div",{children:n?(0,t.jsx)(s.Z,{iconName:"copy",onClick:Y,children:(0,t.jsxs)(_.IK,{children:[">_ ssh root@",n.vm_ipv6]})}):(0,t.jsxs)(O,{children:[(0,t.jsx)(z,{className:"tp-body1 fs-16 text-main2",children:"Allocating"}),(0,t.jsx)(N.g4,{width:".8rem",height:"1rem",color:en.color.main2})]})})]}),(0,t.jsxs)(F,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"IPv6"}),(0,t.jsx)("div",{children:n&&(0,t.jsx)(s.Z,{iconName:"copy",onClick:$,children:(0,t.jsx)(_.IK,{children:n.vm_ipv6})})})]})]}),(0,t.jsxs)(V,{children:[(0,t.jsx)(o.DU,{type:"body3",as:"h7",color:"main0",children:"Accessible for"}),(0,t.jsx)(H,{children:ei.map((e,i)=>e&&(0,t.jsxs)(G,{children:[(0,t.jsxs)("div",{className:"tp-info text-main0",children:["SSH KEY #",i+1]}),(0,t.jsx)(I(),{className:"tp-body1 fs-16",href:"?hash="+e.id,referrerPolicy:"no-referrer",children:(0,t.jsx)(s.Z,{iconName:"square-up-right",children:(0,t.jsx)(_.IK,{children:e.label})})})]},null==e?void 0:e.id))})]}),(null==n?void 0:n.node)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.Z0,{}),(0,t.jsx)(o.DU,{type:"h6",color:"main0",children:"Current CRN"}),(0,t.jsxs)(X,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"NAME"}),(0,t.jsx)("div",{children:(0,t.jsx)(_.IK,{children:n.node.node_id})})]}),(0,t.jsxs)(J,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"URL"}),(0,t.jsx)("div",{children:(0,t.jsx)("a",{className:"tp-body1 fs-16",href:n.node.url,target:"_blank",referrerPolicy:"no-referrer",children:(0,t.jsx)(s.Z,{iconName:"square-up-right",children:(0,t.jsx)(_.IK,{children:(0,v.bs)(n.node.url,80)})})})})]})]}),ea.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.Z0,{}),(0,t.jsx)(o.DU,{type:"h6",color:"main0",children:"Linked storage"}),(0,t.jsx)(j.Z,{volumes:ea,copyAndNotify:ee})]})]}),(0,t.jsx)(W,{children:(0,t.jsx)(a.Z,{variant:"primary",href:"/computing/instance/new",children:"Create new instance"})})]})})})}var w=(0,r.ZP)(o.Jy).withConfig({displayName:"cmp___StyledNoisyContainer",componentId:"sc-104qfl5-0"})({marginTop:"1rem",marginBottom:"1rem"}),Z=(0,r.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-104qfl5-1"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.5rem",paddingTop:"5rem","@media (min-width: 48rem)":{paddingTop:"2.5rem",paddingBottom:"2.5rem"}}),S=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-104qfl5-2"})({display:"flex",justifyContent:"space-between",paddingBottom:"1.25rem"}),b=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-104qfl5-3"})({display:"flex",alignItems:"center"}),P=(0,r.ZP)(o.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-104qfl5-4"})({marginRight:"1rem"}),q=(0,r.ZP)(o.__).withConfig({displayName:"cmp___StyledLabel",componentId:"sc-104qfl5-5"})({marginLeft:"1rem"}),k=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-104qfl5-6"})({display:"flex",alignItems:"center"}),T=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-104qfl5-7"})({marginRight:"0.5rem"}),D=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-104qfl5-8"})({display:"flex",alignItems:"center",justifyContent:"flex-start",overflow:"hidden"}),B=(0,r.ZP)(o.Vp).withConfig({displayName:"cmp___StyledTag",componentId:"sc-104qfl5-9"})({marginRight:"1rem",whiteSpace:"nowrap"}),E=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-104qfl5-10"})({flex:"1 1 auto"}),M=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-104qfl5-11"})({marginTop:"1.25rem",marginBottom:"1.25rem",display:"flex"}),R=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv8",componentId:"sc-104qfl5-12"})({marginRight:"1.25rem"}),L=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv9",componentId:"sc-104qfl5-13"})({marginRight:"1.25rem"}),A=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv10",componentId:"sc-104qfl5-14"})({marginRight:"1.25rem"}),K=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv11",componentId:"sc-104qfl5-15"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),U=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv12",componentId:"sc-104qfl5-16"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),O=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv13",componentId:"sc-104qfl5-17"})({display:"flex",alignItems:"flex-end"}),z=(0,r.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-104qfl5-18"})({marginRight:"0.25rem"}),F=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv14",componentId:"sc-104qfl5-19"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),V=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv15",componentId:"sc-104qfl5-20"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),H=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv16",componentId:"sc-104qfl5-21"})({marginTop:"1.25rem",marginBottom:"1.25rem",display:"flex"}),G=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv17",componentId:"sc-104qfl5-22"})({marginRight:"1.25rem"}),X=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv18",componentId:"sc-104qfl5-23"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),J=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv19",componentId:"sc-104qfl5-24"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),W=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv20",componentId:"sc-104qfl5-25"})({marginTop:"5rem",textAlign:"center"})}},function(e){e.O(0,[774,888,179],function(){return e(e.s=13190)}),_N_E=e.O()}]);