(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[99],{5445:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/computing/instance",function(){return t(12046)}])},13855:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var i=t(85893),a=t(19521),r=t(67294),o=t(34517),l=t(49107),s=t(67102),c=t(79632);let VolumesTabContent=e=>{let{data:n,cta:t=!0}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Jy,{children:(0,i.jsx)(m,{children:(0,i.jsx)(s.Z,{borderType:"none",rowNoise:!0,rowKey:e=>e.id,data:n,rowProps:e=>({css:e.confirmed?"":{opacity:"0.6"}}),columns:[{label:"Name",width:"100%",sortable:!0,render:e=>(0,l.zN)(e.id||"")},{label:"Size",align:"right",sortable:!0,render:e=>(0,l.eB)(e.size||0,"MiB")},{label:"Date",align:"right",sortable:!0,render:e=>e.date},{label:"",align:"right",render:e=>(0,i.jsx)(o.Z,{kind:"functional",variant:"secondary",href:"/storage/volume/".concat(e.id),children:(0,i.jsx)(c.JO,{name:"angle-right",size:"lg"})}),cellProps:()=>({css:{paddingLeft:"0.75rem !important"}})}]})})}),t&&(0,i.jsx)(u,{children:(0,i.jsxs)(o.Z,{variant:"primary",href:"/storage/volume/new",children:[(0,i.jsx)(g,{name:"plus-circle",size:"lg"})," Create new volume"]})})]})};VolumesTabContent.displayName="VolumesTabContent";var d=(0,r.memo)(VolumesTabContent),m=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1he0kq9-0"})({maxWidth:"100%",overflow:"auto"}),u=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1he0kq9-1"})({marginTop:"2.5rem",textAlign:"center"}),g=(0,a.ZP)(c.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-1he0kq9-2"})({marginRight:"0.25rem"})},99978:function(e,n,t){"use strict";t.d(n,{U:function(){return useInstanceManager}});var i=t(55032);function useInstanceManager(){let[e]=(0,i.mr)(),{instanceManager:n}=e.manager;return n}},90805:function(e,n,t){"use strict";t.d(n,{B:function(){return useVolumeManager}});var i=t(55032);function useVolumeManager(){let[e]=(0,i.mr)(),{volumeManager:n}=e.manager;return n}},96370:function(e,n,t){"use strict";t.d(n,{u:function(){return useRequestInstances}});var i=t(99978),a=t(77205);function useRequestInstances(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,i.U)();return(0,a.F)({...e,manager:n,name:"instance"})}},12046:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return InstanceDashboardPage}});var i=t(85893),a=t(19521),r=t(67294),o=t(79632),l=t(93963),s=t(96370),c=t(55032),d=t(90805),m=t(77205),u=t(36924);function getLabel(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e.length>0?"(".concat(e.length,")"):"";return"".concat(n?"BETA ":"").concat(t)}var g=t(18585),h=t(34517),p=t(49107),v=t(67102);let f=r.memo(e=>{let{data:n}=e;return(0,i.jsx)(i.Fragment,{children:n.length>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Jy,{children:(0,i.jsx)(b,{children:(0,i.jsx)(v.Z,{borderType:"none",rowNoise:!0,rowKey:e=>e.id,data:n,columns:[{label:"Name",width:"100%",sortable:!0,render:e=>{var n;return(null==e?void 0:null===(n=e.metadata)||void 0===n?void 0:n.name)||(0,p.zN)(e.id)}},{label:"Cores",align:"right",sortable:!0,render:e=>{var n;return(null==e?void 0:null===(n=e.resources)||void 0===n?void 0:n.vcpus)||0}},{label:"RAM",align:"right",sortable:!0,render:e=>{var n;return(0,p.Fx)((null==e?void 0:null===(n=e.resources)||void 0===n?void 0:n.memory)||0,{from:"MiB",to:"GiB",displayUnit:!0})}},{label:"HDD",align:"right",sortable:!0,render:e=>(0,p.eB)(e.size,"MiB")},{label:"Date",align:"right",sortable:!0,render:e=>e.date},{label:"",align:"right",render:e=>(0,i.jsx)(h.Z,{kind:"functional",variant:"secondary",href:"/computing/instance/".concat(e.id),children:(0,i.jsx)(o.JO,{name:"angle-right",size:"lg"})}),cellProps:()=>({css:{paddingLeft:"0.75rem !important"}})}]})})}),(0,i.jsx)(x,{children:(0,i.jsx)(h.Z,{variant:"primary",href:"/computing/instance/new",children:"Create instance"})})]}):(0,i.jsx)(y,{children:(0,i.jsx)(h.Z,{variant:"primary",href:"/computing/instance/new",children:"Create your first instance"})})})});f.displayName="InstancesTabContent";var b=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-iiy0vg-0"})({maxWidth:"100%",overflow:"auto"}),x=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-iiy0vg-1"})({marginTop:"5rem",textAlign:"center"}),y=(0,a.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-iiy0vg-2"})({marginTop:"2.5rem",textAlign:"center"}),_=t(13855),j=t(24340),w=t(78823);function InstanceDashboardPage(){let{tabs:e,tabId:n,setTabId:t,instances:a,volumes:h,domains:p}=function(){let{entities:e=[]}=(0,s.u)(),{entities:n=[]}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[n]=(0,c.mr)(),t=n.instance.entities,i=(0,r.useMemo)(()=>t?t.flatMap(e=>e.volumes.filter(e=>"ref"in e).map(e=>e.ref)):[],[t]),a=(0,d.B)();return(0,m.F)({...e,manager:a,name:"instanceVolume",ids:i})}(),{entities:t=[]}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[n]=(0,c.mr)(),t=n.instance.entities,{entities:i}=(0,u.d)(e),a=(0,r.useMemo)(()=>{if(!t||!i)return[];let e=t.reduce((e,n)=>(e[n.id]=!0,e),{});return i.filter(n=>!!e[n.ref])},[i,t]);return{entities:a}}(),[i,a]=(0,r.useState)("instance"),o=(0,r.useMemo)(()=>[{id:"instance",name:"Instances",label:{label:getLabel(e),position:"bottom"}},{id:"volume",name:"Attached Volumes",label:{label:getLabel(n),position:"bottom"},disabled:!n.length},{id:"domain",name:"Linked Domains",label:{label:getLabel(t),position:"bottom"},disabled:!t.length}],[t,e,n]);return{instances:e,volumes:n,domains:t,tabs:o,tabId:i,setTabId:a}}();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(C,{$variant:"xl",children:(0,i.jsx)(o.mQ,{selected:n,tabs:e,onTabChange:t})}),(0,i.jsx)("div",{role:"tabpanel",children:"instance"===n?(0,i.jsxs)(i.Fragment,{children:[!!a.length&&(0,i.jsx)(Z,{$variant:"xl",children:(0,i.jsx)(f,{data:a})}),(0,i.jsx)(w.Z,{imageSrc:"/img/dashboard/instance.svg",imageAlt:"Instance illustration",info:"WHAT ARE...",title:"Instances",description:"Launch and control virtual private servers (VPS) with ease. Choose between automatic or manual node selection, and customize your computing environment to meet your specific needs.",withButton:0===a.length,buttonUrl:"/computing/instance/new",buttonText:"Create instance"})]}):"volume"===n?(0,i.jsx)(i.Fragment,{children:!!h.length&&(0,i.jsx)(N,{$variant:"xl",children:(0,i.jsx)(_.Z,{data:h,cta:!1})})}):"domain"===n?(0,i.jsx)(i.Fragment,{children:!!p.length&&(0,i.jsx)(I,{$variant:"xl",children:(0,i.jsx)(j.Z,{data:p,cta:!1})})}):(0,i.jsx)(i.Fragment,{})}),(0,i.jsx)(l.Z,{$variant:"xl",children:(0,i.jsx)(g.Z,{})})]})}var C=(0,a.ZP)(l.Z).withConfig({displayName:"cmp___StyledContainer",componentId:"sc-11l30l6-0"})({marginTop:"2.5rem",marginBottom:"2.5rem"}),Z=(0,a.ZP)(l.Z).withConfig({displayName:"cmp___StyledContainer2",componentId:"sc-11l30l6-1"})({marginTop:"2.5rem",marginBottom:"2.5rem"}),N=(0,a.ZP)(l.Z).withConfig({displayName:"cmp___StyledContainer3",componentId:"sc-11l30l6-2"})({marginTop:"2.5rem",marginBottom:"2.5rem"}),I=(0,a.ZP)(l.Z).withConfig({displayName:"cmp___StyledContainer4",componentId:"sc-11l30l6-3"})({marginTop:"2.5rem",marginBottom:"2.5rem"})}},function(e){e.O(0,[733,774,888,179],function(){return e(e.s=5445)}),_N_E=e.O()}]);