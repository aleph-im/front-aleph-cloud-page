(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[589],{36330:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/configure/ssh/new",function(){return s(86855)}])},93963:function(e,r,s){"use strict";s.d(r,{Z:function(){return d}});var c=s(19521);let l={xl:90,lg:60.0625,md:44.6875},u=c.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-1bpjbi2-0"})(["",""],e=>{let{$variant:r="lg"}=e;return(0,c.iv)([""," max-width:","rem;"],{marginLeft:"auto",marginRight:"auto",width:"100%",paddingLeft:"1.5rem",paddingRight:"1.5rem","@media (min-width: 62rem)":{paddingLeft:"4rem",paddingRight:"4rem"}},l[r])});var d=u},49531:function(e,r,s){"use strict";s.d(r,{N:function(){return d}});var c=s(85893),l=s(67294),u=s(79632);let SectionTitle=e=>(0,c.jsx)(u.NP,{as:"h2",color:"main0",numberColor:"main0",...e});SectionTitle.displayName="SectionTitle";var d=(0,l.memo)(SectionTitle)},75650:function(e,r,s){"use strict";s.d(r,{l:function(){return cmp},Z:function(){return cmp}});var c=s(85893),l=s(19521);let u=l.ZP.form.withConfig({displayName:"styles__StyledForm",componentId:"sc-faebcb-0"})(["",""],{display:"flex",flex:"1 1 0%",flexDirection:"column"});var d=s(79632),m=s(93963),cmp=e=>{let{children:r,onSubmit:s,errors:l}=e;return(0,c.jsxs)(u,{onSubmit:s,noValidate:!0,children:[r,(null==l?void 0:l.root)&&(0,c.jsx)(m.Z,{children:Object.values(l.root).map(e=>(0,c.jsx)(f,{error:e},e+""))})]})},f=(0,l.ZP)(d.Xq).withConfig({displayName:"cmp___StyledFormError",componentId:"sc-tai6p3-0"})({wordBreak:"break-all"})},24959:function(e,r,s){"use strict";s.d(r,{c:function(){return useForm}});var c=s(79632),l=s(67294),u=s(87536),d=s(1604);function useForm(e){let{onSubmit:r,onSuccess:s,onError:m,readyDeps:f=[],...p}=e,y=(0,u.cI)(p);(0,l.useEffect)(()=>{"object"==typeof p.defaultValues&&y.reset(p.defaultValues)},[...f]);let[g,h]=(0,l.useState)({data:void 0,error:void 0,loading:!1}),[v,{onLoad:_,onSuccess:S,onError:w}]=(0,c.g7)({flushData:!0,state:g,setState:h,onSuccess:s,onError:m}),x=(0,l.useCallback)(async e=>{try{_();let s=await r(e);S(s)}catch(r){let e=r instanceof d.jm?Error("Validation error, check highlighted form fields"):(null==r?void 0:r.cause)||r;y.setError("root.serverError",{...e,message:null==e?void 0:e.message}),w(e)}},[y,w,_,r,S]),b=(0,l.useCallback)(async e=>{let r;if(console.log(e),!r){let s=function getFirstError(e){let[r]=Object.entries(e);if(!r)return;let[s,c]=r;if(Array.isArray(c)){let e=c[c.length-1];return getFirstError(e)}return[s,c]}(e);if(s){let[e,c]=s,l="string"==typeof c?c:(null==c?void 0:c.message)?": ".concat(c.message):(null==c?void 0:c.type)?': "'.concat(null==c?void 0:c.type,'" validation not satisfied'):"";r=Error('Error on field "'.concat(e,'"').concat(l))}}r||(r=Error("Validation error")),w(r)},[w]),j=(0,l.useMemo)(()=>y.handleSubmit(x,b),[y,x,b]);return{...y,requestState:v,handleSubmit:j}}},18395:function(e,r,s){"use strict";s.d(r,{p:function(){return useSSHKeyManager}});var c=s(55640);function useSSHKeyManager(){let[e]=(0,c.mr)(),{sshKeyManager:r}=e.manager;return r}},86780:function(e,r,s){"use strict";s.d(r,{n:function(){return S},A:function(){return useCheckoutNotification}});var c=s(85893),l=s(19521),u=s(67294),d=s(79632);let m=(0,u.memo)(e=>{let{isActive:r,step:s,total:l,title:u,content:d}=e;return(0,c.jsxs)(p,{$_css:[!r&&{opacity:"0.3"}],children:[(0,c.jsxs)(y,{className:"tp-h7",children:[(0,c.jsxs)(g,{children:[u,r&&(0,c.jsx)(h,{name:"arrows-rotate",size:"0.8em"})]}),(0,c.jsxs)("div",{className:"tp-body2 fs-18",children:[s+1,"/",l]})]}),(0,c.jsx)("div",{className:"tp-body1",children:d})]})});var f=(0,u.memo)(e=>{let{steps:r,activeStep:s}=e;return(0,c.jsx)(v,{children:r.map((e,l)=>(0,c.jsx)(m,{step:l,total:r.length,isActive:l===s,...e},l))})}),p=(0,l.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1ydaly9-0"})(["",""],e=>e.$_css),y=(0,l.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1ydaly9-1"})({marginBottom:"0.5rem",display:"flex",alignItems:"center",justifyContent:"space-between"}),g=(0,l.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1ydaly9-2"})({display:"flex",alignItems:"center",gap:"1rem"}),h=(0,l.ZP)(d.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-1ydaly9-3"})({"@keyframes spin":{to:{transform:"rotate(360deg)"}},animation:"spin 1s linear infinite"}),v=(0,l.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-1ydaly9-4"})({display:"flex",flexDirection:"column",gap:"2rem"}),_=s(69060);function useCheckoutNotification(e){let{steps:r}=e,s=(0,d.lm)(),l=(0,u.useRef)(0),m="CHECKOUT-NOTI",p=(0,u.useCallback)(async e=>{if(!s)throw Error("Notifications not ready");let u=e||r||[];console.log("steps",u),s.del(m),await (0,_._v)(200),s.set(m,{id:m,timeout:0,variant:"warning",content:(0,c.jsx)(f,{activeStep:l.current,steps:u})}),l.current+=1},[s,r]),y=(0,u.useCallback)(async()=>{if(!s)throw Error("Notifications not ready");l.current=0,s.del(m),await (0,_._v)(2e3)},[s]);return{next:p,stop:y}}let S={stream:{title:"Sign PAYG",content:"By signing this, you authorise the initiation of a token stream for billing, ensuring a seamless and efficient payment process aligning costs directly with your usage."},volume:{title:"Sign Volume",content:"This step involves signing the volume configuration and is required if you've set up additional storage volume for your instance or function."},ssh:{title:"Sign SSH",content:"This step is crucial for securing remote access to your instance. By signing this, you confirm the SSH keys configuration, enabling encrypted communication with your server."},instance:{title:"Sign instance creation",content:"By signing this, you confirm the creation of your new instance on Twentysix.cloud. This step finalises the setup options you've chosen, including resources, configurations, and any additional features."},program:{title:"Sign function creation",content:"By signing this, you confirm the creation of your new function (and the volume containing the code if it were necessary) on Twentysix.cloud. This step finalises the setup options you've chosen, including resources, configurations, and any additional features."},domain:{title:"Sign custom domain",content:"This final step confirms your custom domain settings and integrates it with your instance."}}},86855:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return NewSSHKey}});var c=s(85893),l=s(19521),u=s(93963),d=s(79632),m=s(75650),f=s(67294),p=s(11163),y=s(87536),g=s(56312),h=s(24959),v=s(18395),_=s(55640),S=s(98090),w=s(86780),x=s(9324);let b={key:"",label:""};var j=s(49531);function NewSSHKey(){let{keyCtrl:e,labelCtrl:r,handleSubmit:s,errors:l}=function(){let e=(0,p.useRouter)(),[,r]=(0,_.mr)(),s=(0,v.p)(),{next:c,stop:l}=(0,w.A)({}),u=(0,f.useCallback)(async u=>{if(!s)throw Error("Manager not ready");let d=await s.getSteps(u),m=d.map(e=>w.n[e]),f=s.addSteps(u);try{let s;for(;!s;){let{value:e,done:r}=await f.next();if(r){s=e[0];break}await c(m)}r(new x.Wy({name:"ssh",entities:s})),await e.replace("/")}finally{await l()}},[r,s,c,e,l]),{control:d,handleSubmit:m,formState:{errors:j}}=(0,h.c)({defaultValues:b,onSubmit:u,resolver:(0,g.F)(S.X.addSchema)}),N=(0,y.bc)({control:d,name:"key"}),C=(0,y.bc)({control:d,name:"label"});return{keyCtrl:N,labelCtrl:C,handleSubmit:m,errors:j}}();return(0,c.jsx)(m.Z,{onSubmit:s,errors:l,children:(0,c.jsx)(N,{children:(0,c.jsxs)(u.Z,{children:[(0,c.jsx)(j.N,{number:"1",children:"Configure SSH Key"}),(0,c.jsx)(C,{children:"Access your cloud instances securely. Give existing keyâ€™s below access to this instance or add new keys. Remember, storing private keys safely is crucial for security. If you need help, our support team is always ready to assist."}),(0,c.jsxs)(d.Jy,{children:[(0,c.jsx)("div",{children:(0,c.jsx)(E,{...e.field,...e.fieldState,required:!0,label:"SSH Public Key",placeholder:"SSH Key"})}),(0,c.jsx)(k,{children:(0,c.jsx)(d.oi,{...r.field,...r.fieldState,label:"Label",placeholder:"Label"})})]}),(0,c.jsx)(P,{children:(0,c.jsx)(d.zx,{type:"submit",color:"main0",kind:"default",size:"md",variant:"primary",children:"Save SSH Key"})})]})})})}var N=(0,l.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-i5ij7p-0"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.5rem",paddingTop:"5rem","@media (min-width: 48rem)":{paddingTop:"2.5rem",paddingBottom:"2.5rem"}}),C=(0,l.ZP)("p").withConfig({displayName:"cmp___StyledP",componentId:"sc-i5ij7p-1"})({marginBottom:"1.5rem"}),E=(0,l.ZP)(d.Kx).withConfig({displayName:"cmp___StyledTextArea",componentId:"sc-i5ij7p-2"})({height:"10rem",wordBreak:"break-all"}),k=(0,l.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-i5ij7p-3"})({marginTop:"1rem"}),P=(0,l.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-i5ij7p-4"})({marginTop:"2.5rem",textAlign:"center"})},56312:function(e,r,s){"use strict";s.d(r,{F:function(){return zod_t}});var c=s(87536),t=function(e,r,s){if(e&&"reportValidity"in e){var l=(0,c.U2)(s,r);e.setCustomValidity(l&&l.message||""),e.reportValidity()}},resolvers_i=function(e,r){var i=function(s){var c=r.fields[s];c&&c.ref&&"reportValidity"in c.ref?t(c.ref,s,e):c.refs&&c.refs.forEach(function(r){return t(r,s,e)})};for(var s in r.fields)i(s)},n=function(e,r){r.shouldUseNativeValidation&&resolvers_i(e,r);var s={};for(var l in e){var u=(0,c.U2)(r.fields,l),d=Object.assign(e[l]||{},{ref:u&&u.ref});if(a(r.names||Object.keys(e),l)){var m=Object.assign({},o((0,c.U2)(s,l)));(0,c.t8)(m,"root",d),(0,c.t8)(s,l,m)}else(0,c.t8)(s,l,d)}return s},o=function(e){return Array.isArray(e)?e.filter(Boolean):[]},a=function(e,r){return e.some(function(e){return e.startsWith(r+".")})},zod_n=function(e,r){for(var s={};e.length;){var l=e[0],u=l.code,d=l.message,m=l.path.join(".");if(!s[m]){if("unionErrors"in l){var f=l.unionErrors[0].errors[0];s[m]={message:f.message,type:f.code}}else s[m]={message:d,type:u}}if("unionErrors"in l&&l.unionErrors.forEach(function(r){return r.errors.forEach(function(r){return e.push(r)})}),r){var p=s[m].types,y=p&&p[l.code];s[m]=(0,c.KN)(m,r,s,u,y?[].concat(y,l.message):l.message)}e.shift()}return s},zod_t=function(e,r,s){return void 0===s&&(s={}),function(c,l,u){try{return Promise.resolve(function(l,d){try{var m=Promise.resolve(e["sync"===s.mode?"parse":"parseAsync"](c,r)).then(function(e){return u.shouldUseNativeValidation&&resolvers_i({},u),{errors:{},values:s.raw?c:e}})}catch(e){return d(e)}return m&&m.then?m.then(void 0,d):m}(0,function(e){if(null!=e.errors)return{values:{},errors:n(zod_n(e.errors,!u.shouldUseNativeValidation&&"all"===u.criteriaMode),u)};throw e}))}catch(e){return Promise.reject(e)}}}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=36330)}),_N_E=e.O()}]);