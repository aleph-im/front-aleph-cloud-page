(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[230],{49814:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/configure/domain/[hash]",function(){return t(71129)}])},34517:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var i=t(85893),r=t(67294),a=t(41664),s=t.n(a),o=t(79632);let ButtonLink=e=>{let{href:n,variant:t="secondary",color:r="main0",kind:a="default",size:c="md",disabled:d,children:l,...m}=e,p=(0,i.jsx)(o.zx,{as:d?void 0:"a",variant:t,color:r,kind:a,size:c,disabled:d,...m,children:l});return d?p:(0,i.jsx)(s(),{href:n,passHref:!0,legacyBehavior:!0,children:p})};ButtonLink.displayName="ButtonLink";var c=(0,r.memo)(ButtonLink)},93963:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var i=t(19521);let r={xl:90,lg:60.0625,md:44.6875},a=i.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-1bpjbi2-0"})(["",""],e=>{let{$variant:n="lg"}=e;return(0,i.iv)([""," max-width:","rem;"],{marginLeft:"auto",marginRight:"auto",width:"100%",paddingLeft:"1.5rem",paddingRight:"1.5rem","@media (min-width: 62rem)":{paddingLeft:"4rem",paddingRight:"4rem"}},r[n])});var s=a},76696:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var i=t(85893),r=t(19521),a=t(67294),s=t(70150),o=t(79632);let c=r.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-hdgoyh-0"})(["",""],e=>{let{theme:n}=e;return(0,r.iv)([""," ","{color:",";}&:hover ","{color:",";}"],{display:"flex",cursor:"pointer",alignItems:"center"},d,n.color.purple4,d,n.color.main0)}),d=(0,r.ZP)(o.JO).withConfig({displayName:"styles__StyledIcon",componentId:"sc-hdgoyh-1"})(["",""],e=>{let{theme:n}=e;return(0,r.iv)([""," transition-property:color;transition-duration:","ms;transition-timing-function:",";"],{marginLeft:"0.5rem",cursor:"pointer"},n.transition.duration.fast,n.transition.timing)}),IconText=e=>{let{children:n,onClick:t,iconName:r}=e;return(0,i.jsxs)(c,{onClick:t,children:[(0,i.jsx)(m,{children:n}),(0,i.jsx)(p,{name:r,className:"text-purple4"})]})};IconText.displayName="IconText";var l=(0,a.memo)(IconText),m=(0,r.ZP)(s.xv).withConfig({displayName:"cmp___StyledText",componentId:"sc-3gm8x3-0"})({wordBreak:"break-all"}),p=(0,r.ZP)(d).withConfig({displayName:"cmp___StyledStyledIcon",componentId:"sc-3gm8x3-1"})({marginLeft:"0.5rem",cursor:"pointer"})},70150:function(e,n,t){"use strict";t.d(n,{W2:function(){return c},Z0:function(){return s},xv:function(){return o}});var i=t(19521),r=t(93963),a=t(79632);let s=i.ZP.hr.withConfig({displayName:"common__Separator",componentId:"sc-1mp6l0k-0"})([""," border:0;border-top:1px solid ",";opacity:0.3;"],{marginTop:"1.25rem",marginBottom:"1.25rem"},e=>{let{theme:n}=e;return n.color.main0}),o=i.ZP.span.attrs((0,a.PT)("tp-body1 text-text")).withConfig({displayName:"common__Text",componentId:"sc-1mp6l0k-1"})([""]),c=(0,i.ZP)(r.Z).attrs(e=>({...e,variant:"dashboard"})).withConfig({displayName:"common__Container",componentId:"sc-1mp6l0k-2"})([""])},69368:function(e,n,t){"use strict";t.d(n,{vx:function(){return useCopyToClipboardAndNotify}});var i=t(79632),r=t(67294);function useCopyToClipboardAndNotify(){let[e,n]=function(){let[e,n]=(0,r.useState)(null),copy=async e=>{var t;if(!(null===(t=navigator)||void 0===t?void 0:t.clipboard))return console.warn("Clipboard not supported"),!1;try{return await navigator.clipboard.writeText(e),n(e),!0}catch(e){return console.warn("Copy failed",e),n(null),!1}};return[e,copy]}(),t=(0,i.lm)(),a=(0,r.useCallback)(async e=>{let i=await n(e);i&&t&&t.add({variant:"success",title:"Copied to clipboard"})},[n,t]);return[e,a]}},80380:function(e,n,t){"use strict";t.d(n,{A:function(){return useDomainManager}});var i=t(55640);function useDomainManager(){let[e]=(0,i.mr)(),{domainManager:n}=e.manager;return n}},36924:function(e,n,t){"use strict";t.d(n,{d:function(){return useRequestDomains}});var i=t(68607),r=t(80380),a=t(36949),s=t(55640);function useRequestDomains(){let{id:e,triggerDeps:n=[],triggerOnMount:t=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[o]=(0,s.mr)(),{account:c}=o.connection;n=[c,...n];let d=(0,r.A)(),{data:l,request:m}=(0,i.M)({name:"domain",doRequest:async()=>{if(!d)return[];if(!e)return d.getAll();{let n=await d.get(e);return n?[n]:[]}},onSuccess:()=>null,flushData:!e,triggerOnMount:t,triggerDeps:n});return(0,a.C)({entities:l,request:m,triggerOnMount:t}),{entities:l}}},36949:function(e,n,t){"use strict";t.d(n,{C:function(){return useRetryNotConfirmedEntities}});var i=t(67294);function useRetryNotConfirmedEntities(e){let{entities:n=[],request:t,triggerOnMount:r}=e;(0,i.useEffect)(()=>{if(!r)return;let e=(Array.isArray(n)?n:[n]).filter(e=>!e.confirmed);if(!e.length)return;let i=setInterval(t,1e4);return()=>clearInterval(i)},[n,t,r])}},68607:function(e,n,t){"use strict";t.d(n,{M:function(){return useAppStoreEntityRequest}});var i=t(67294),r=t(55640),a=t(9324),s=t(79632);function useAppStoreEntityRequest(e){let[n,t]=(0,r.mr)();return function(e){let{state:n,dispatch:t,name:r,...o}=e,c=n[r],d=(0,i.useMemo)(()=>{let{entities:e,keys:n,...t}=c;return{data:e,...t}},[c]);return(0,s.QT)({state:d,setState:e=>t(new a.B9({name:r,state:e})),...o})}({state:n,dispatch:t,...e})}},71129:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ManageDomain}});var i=t(85893),r=t(19521),a=t(76696),s=t(79632),o=t(9911),c=t(11163),d=t(67294),l=t(69368),m=t(80380),p=t(55640),u=t(69060),h=t(36924),y=t(9324),f=t(70150),g=t(34517);function ManageDomain(){var e;let{domain:n,status:t,refEntity:r,account:V,handleDelete:Q,handleCopyRef:Y,handleRetry:$}=function(){let[e,n]=(0,p.mr)(),{account:t}=e.connection,i=(0,c.useRouter)(),{hash:r}=i.query,{entities:a}=(0,h.d)({id:r}),[s]=a||[],[,f]=(0,l.vx)(),g=function(e){let[n,t]=(0,d.useState)(void 0),i=function(e){let[n,t]=(0,d.useState)(void 0),i=function(){let[e]=(0,p.mr)(),{messageManager:n}=e.manager;return n}();return(0,d.useEffect)(()=>{if(!e){t(void 0);return}async function fetchMessage(e){if(!i)return;let n=await i.get(e),r=(0,u.gE)(n);t(r)}(async function(e){!function(e){let[,n,i]=e.split("/");return!!("string"==typeof n&&"string"==typeof i&&Object.values(o.py).includes(n))&&(t(n),!0)}(e)&&fetchMessage(e)})(e)},[e,i]),n}(e),r=function(e){let[n]=(0,p.mr)(),{domainManager:t,sshKeyManager:i,volumeManager:r,programManager:a,instanceManager:s,indexerManager:c}=n.manager,l=(0,d.useMemo)(()=>({[o.py.Domain]:t,[o.py.SSHKey]:i,[o.py.Volume]:r,[o.py.Instance]:s,[o.py.Program]:a,[o.py.Indexer]:c}),[t,s,a,i,r,c]);if(e)return l[e]}(i);return(0,d.useEffect)(()=>{if(!e){t(void 0);return}(async function(e){if(!r)return;let n=await r.get(e);t(n)})(e)},[e,r]),n}(null==s?void 0:s.ref),x=function(e){let[n,t]=(0,d.useState)(void 0),i=(0,m.A)();return(0,d.useEffect)(()=>{if(!i||!e||(null==n?void 0:n.status))return;async function request(){if(!i||!e)return;let n=await i.checkStatus(e);t(n)}n||request();let r=setInterval(request,1e4);return()=>clearInterval(r)},[n,e,i]),n}(s),v=(0,m.A)(),_=(0,d.useCallback)(()=>{f((null==s?void 0:s.ref)||"")},[f,s]),j=(0,d.useCallback)(async()=>{if(!s)throw Error("Invalid key");if(!v)throw Error("Manager not ready");try{await v.del(s),n(new y.gg({name:"domain",keys:[s.id]})),await i.replace("/")}catch(e){}},[s,v,n,i]),w=(0,d.useCallback)(async()=>{if(!s)throw Error("Invalid key");if(!v)throw Error("Manager not ready");try{await v.retry(s),await i.replace("/")}catch(e){}},[s,v,i]);return{domain:s,status:x,refEntity:g,account:t,handleCopyRef:_,handleDelete:j,handleRetry:w}}();if(!n)return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(f.W2,{children:(0,i.jsx)(x,{children:"Loading..."})})});let ee=n.name||(0,u.zN)(n.id),en=o.K_[n.type];return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(v,{children:(0,i.jsxs)(f.W2,{children:[(0,i.jsxs)(_,{children:[(0,i.jsxs)(j,{children:[(0,i.jsx)(w,{name:"input-text",className:"text-main0"}),(0,i.jsx)("div",{className:"tp-body2",children:ee}),(0,i.jsx)(N,{kind:"secondary",variant:(null==t?void 0:t.status)?"success":"error",children:(null==t?void 0:t.status)?"DOMAIN RECORDS CONFIGURED":"DOMAIN RECORDS NOT CONFIGURED"})]}),(0,i.jsx)("div",{children:(0,i.jsx)(s.zx,{kind:"functional",variant:"warning",size:"md",onClick:Q,children:"Delete"})})]}),(0,i.jsxs)(s.Jy,{children:[(0,i.jsxs)(C,{children:[(0,i.jsx)(S,{variant:"accent",children:en}),(0,i.jsxs)(I,{children:[(0,i.jsx)("div",{className:"tp-info text-main0",children:"NAME"}),(0,i.jsx)("div",{children:(0,i.jsx)("a",{className:"tp-body1 fs-16",href:"https://".concat(n.name),target:"_blank",referrerPolicy:"no-referrer",children:(0,i.jsx)(a.Z,{iconName:"square-up-right",children:(0,i.jsx)(f.xv,{children:n.name})})})})]})]}),(0,i.jsx)(f.Z0,{}),n.target&&(0,i.jsxs)(b,{children:[(0,i.jsx)("div",{className:"tp-info text-main0",children:"TARGET"}),(0,i.jsx)("div",{children:(0,i.jsx)(f.xv,{children:n.target})})]}),(0,i.jsxs)(P,{children:[(0,i.jsx)("div",{className:"tp-info text-main0",children:"REF"}),(0,i.jsx)("div",{children:(0,i.jsx)(a.Z,{iconName:"copy",onClick:Y,children:(0,i.jsx)(f.xv,{children:n.ref})})})]}),t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f.Z0,{}),(0,i.jsx)(s.DU,{type:"h7",as:"h2",color:"main0",children:"Status"}),(0,i.jsxs)(Z,{children:[(0,i.jsx)("div",{className:"tp-info text-main0",children:"STATUS"}),(0,i.jsx)(f.xv,{children:(0,i.jsxs)(k,{children:[(0,i.jsx)(s.vo,{kind:t.status?"success":"warning",title:""}),t.status?"Properly configured":"Manual configuration is required"]})})]}),(!t.tasks_status.cname||!t.tasks_status.owner_proof)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(T,{children:[(0,i.jsx)("div",{className:"tp-info text-main0",children:"PENDING STEPS"}),(0,i.jsx)(f.xv,{children:(0,i.jsxs)(z,{children:[(0,i.jsx)(s.vo,{kind:t.tasks_status.cname?"success":"warning",title:""}),(0,i.jsxs)("div",{children:["Create a CNAME record",(0,i.jsx)(D,{className:"text-main0",children:n.name}),"with value",n.target==o.vs.Program&&(0,i.jsxs)(E,{className:"text-main0",children:[n.name,".program.public.aleph.sh."]}),n.target==o.vs.Instance&&(0,i.jsxs)(R,{className:"text-main0",children:[n.name,".instance.public.aleph.sh."]}),n.target==o.vs.IPFS&&(0,i.jsx)(A,{className:"text-main0",children:"ipfs.public.aleph.sh."})]})]})}),n.target==o.vs.IPFS&&(0,i.jsx)(f.xv,{children:(0,i.jsxs)(L,{children:[(0,i.jsx)(s.vo,{kind:t.tasks_status.delegation?"success":"warning",title:""}),(0,i.jsxs)("div",{children:["Create a CNAME record",(0,i.jsxs)(B,{className:"text-main0",children:["_dnslink.",n.name]}),"with value",(0,i.jsxs)(M,{className:"text-main0",children:["_dnslink.",n.name,".static.public.aleph.sh."]})]})]})}),(0,i.jsx)(f.xv,{children:(0,i.jsxs)(q,{children:[(0,i.jsx)(s.vo,{kind:t.tasks_status.owner_proof?"success":"warning",title:""}),(0,i.jsxs)("div",{children:["Create a TXT owner proof record",(0,i.jsxs)(O,{className:"text-main0",children:["_control.",n.name]}),"with value",(0,i.jsx)(F,{className:"text-main0",children:null==V?void 0:V.address})]})]})})]}),(0,i.jsxs)(U,{children:[(0,i.jsx)("div",{className:"tp-info text-main0",children:"FINAL STEP"}),(0,i.jsx)(f.xv,{children:"After configuring the domain records you can retry to link them again here"})]}),(0,i.jsx)(G,{children:(0,i.jsx)(s.zx,{onClick:$,size:"md",variant:"secondary",color:"main0",kind:"default",children:"Retry"})})]})]}),r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f.Z0,{}),(0,i.jsxs)(s.DU,{type:"h7",as:"h2",color:"main0",children:["Linked ",n.target]}),(0,i.jsxs)(J,{children:[(0,i.jsx)("div",{className:"tp-info text-main0",children:"Type"}),(0,i.jsx)("div",{children:(0,i.jsx)(f.xv,{children:o.K_[r.type]})})]}),(0,i.jsxs)(X,{children:[(0,i.jsx)("div",{className:"tp-info text-main0",children:"NAME"}),(0,i.jsx)("div",{children:(0,i.jsx)(f.xv,{children:(null==r?void 0:null===(e=r.metadata)||void 0===e?void 0:e.name)||(0,u.zN)(r.id)})})]}),(0,i.jsxs)(K,{children:[(0,i.jsx)("div",{className:"tp-info text-main0",children:"EXPLORER"}),(0,i.jsx)("div",{children:(0,i.jsx)("a",{className:"tp-body1 fs-16",href:r.url,target:"_blank",referrerPolicy:"no-referrer",children:(0,i.jsx)(a.Z,{iconName:"square-up-right",children:(0,i.jsx)(f.xv,{children:(0,u.bs)(r.url,80)})})})})]})]})]}),(0,i.jsx)(W,{children:(0,i.jsx)(g.Z,{variant:"primary",href:"/configure/domain/new",children:"Add new domain"})}),(0,i.jsx)(H,{children:"Acquire aleph.im tokens for versatile access to resources within a defined duration. These tokens remain in your wallet without being locked or consumed, providing you with flexibility in utilizing aleph.im's infrastructure. If you choose to remove the tokens from your wallet, the allocated resources will be efficiently reclaimed. Feel free to use or hold the tokens according to your needs, even when not actively using Aleph.im's resources."})]})})})}var x=(0,r.ZP)(s.Jy).withConfig({displayName:"cmp___StyledNoisyContainer",componentId:"sc-y38bzc-0"})({marginTop:"1rem",marginBottom:"1rem"}),v=(0,r.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-y38bzc-1"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.5rem",paddingTop:"5rem","@media (min-width: 48rem)":{paddingTop:"2.5rem",paddingBottom:"2.5rem"}}),_=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-y38bzc-2"})({display:"flex",justifyContent:"space-between",paddingBottom:"1.25rem"}),j=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-y38bzc-3"})({display:"flex",alignItems:"center"}),w=(0,r.ZP)(s.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-y38bzc-4"})({marginRight:"1rem"}),N=(0,r.ZP)(s.__).withConfig({displayName:"cmp___StyledLabel",componentId:"sc-y38bzc-5"})({marginLeft:"1rem"}),C=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-y38bzc-6"})({display:"flex",alignItems:"center",justifyContent:"flex-start",overflow:"hidden"}),S=(0,r.ZP)(s.Vp).withConfig({displayName:"cmp___StyledTag",componentId:"sc-y38bzc-7"})({marginRight:"1rem",whiteSpace:"nowrap"}),I=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-y38bzc-8"})({flex:"1 1 auto"}),b=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-y38bzc-9"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),P=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-y38bzc-10"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),Z=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-y38bzc-11"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),k=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv8",componentId:"sc-y38bzc-12"})({marginTop:"0.5rem",display:"flex"}),T=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv9",componentId:"sc-y38bzc-13"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),z=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv10",componentId:"sc-y38bzc-14"})({marginTop:"0.5rem",display:"flex"}),D=(0,r.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-y38bzc-15"})({marginLeft:"0.5rem",marginRight:"0.5rem"}),E=(0,r.ZP)("span").withConfig({displayName:"cmp___StyledSpan2",componentId:"sc-y38bzc-16"})({marginLeft:"0.5rem",marginRight:"0.5rem"}),R=(0,r.ZP)("span").withConfig({displayName:"cmp___StyledSpan3",componentId:"sc-y38bzc-17"})({marginLeft:"0.5rem",marginRight:"0.5rem"}),A=(0,r.ZP)("span").withConfig({displayName:"cmp___StyledSpan4",componentId:"sc-y38bzc-18"})({marginLeft:"0.5rem",marginRight:"0.5rem"}),L=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv11",componentId:"sc-y38bzc-19"})({marginTop:"0.5rem",display:"flex"}),B=(0,r.ZP)("span").withConfig({displayName:"cmp___StyledSpan5",componentId:"sc-y38bzc-20"})({marginLeft:"0.5rem",marginRight:"0.5rem"}),M=(0,r.ZP)("span").withConfig({displayName:"cmp___StyledSpan6",componentId:"sc-y38bzc-21"})({marginLeft:"0.5rem",marginRight:"0.5rem"}),q=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv12",componentId:"sc-y38bzc-22"})({marginTop:"0.5rem",display:"flex"}),O=(0,r.ZP)("span").withConfig({displayName:"cmp___StyledSpan7",componentId:"sc-y38bzc-23"})({marginLeft:"0.5rem",marginRight:"0.5rem"}),F=(0,r.ZP)("span").withConfig({displayName:"cmp___StyledSpan8",componentId:"sc-y38bzc-24"})({marginLeft:"0.5rem",marginRight:"0.5rem"}),U=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv13",componentId:"sc-y38bzc-25"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),G=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv14",componentId:"sc-y38bzc-26"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),J=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv15",componentId:"sc-y38bzc-27"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),X=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv16",componentId:"sc-y38bzc-28"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),K=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv17",componentId:"sc-y38bzc-29"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),W=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv18",componentId:"sc-y38bzc-30"})({marginTop:"5rem",textAlign:"center"}),H=(0,r.ZP)("p").withConfig({displayName:"cmp___StyledP",componentId:"sc-y38bzc-31"})({marginTop:"6rem",marginBottom:"6rem",textAlign:"center"})}},function(e){e.O(0,[774,888,179],function(){return e(e.s=49814)}),_N_E=e.O()}]);