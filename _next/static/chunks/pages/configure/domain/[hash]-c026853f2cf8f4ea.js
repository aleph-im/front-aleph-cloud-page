(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[230],{49814:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/configure/domain/[hash]",function(){return i(8108)}])},34517:function(e,n,i){"use strict";i.d(n,{Z:function(){return c}});var t=i(85893),r=i(67294),a=i(41664),s=i.n(a),o=i(72771);let ButtonLink=e=>{let{href:n,variant:i="secondary",color:r="main0",kind:a="default",size:c="md",disabled:d,children:l,...m}=e,p=(0,t.jsx)(o.zx,{as:d?void 0:"a",variant:i,color:r,kind:a,size:c,disabled:d,...m,children:l});return d?p:(0,t.jsx)(s(),{href:n,passHref:!0,legacyBehavior:!0,children:p})};ButtonLink.displayName="ButtonLink";var c=(0,r.memo)(ButtonLink)},93963:function(e,n,i){"use strict";i.d(n,{Z:function(){return s}});var t=i(19521);let r={xl:90,lg:60.0625,md:44.6875},a=t.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-1bpjbi2-0"})(["",""],e=>{let{$variant:n="lg"}=e;return(0,t.iv)([""," max-width:","rem;"],{marginLeft:"auto",marginRight:"auto",width:"100%",paddingLeft:"1.5rem",paddingRight:"1.5rem","@media (min-width: 62rem)":{paddingLeft:"4rem",paddingRight:"4rem"}},r[n])});var s=a},76696:function(e,n,i){"use strict";i.d(n,{Z:function(){return l}});var t=i(85893),r=i(19521),a=i(67294),s=i(70150),o=i(72771);let c=r.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-hdgoyh-0"})(["",""],e=>{let{theme:n}=e;return(0,r.iv)([""," ","{color:",";}&:hover ","{color:",";}"],{display:"flex",cursor:"pointer",alignItems:"center"},d,n.color.purple4,d,n.color.main0)}),d=(0,r.ZP)(o.JO).withConfig({displayName:"styles__StyledIcon",componentId:"sc-hdgoyh-1"})(["",""],e=>{let{theme:n}=e;return(0,r.iv)([""," transition-property:color;transition-duration:","ms;transition-timing-function:",";"],{marginLeft:"0.5rem",cursor:"pointer"},n.transition.duration.fast,n.transition.timing)}),IconText=e=>{let{children:n,onClick:i,iconName:r}=e;return(0,t.jsxs)(c,{onClick:i,children:[(0,t.jsx)(m,{children:n}),(0,t.jsx)(p,{name:r,className:"text-purple4"})]})};IconText.displayName="IconText";var l=(0,a.memo)(IconText),m=(0,r.ZP)(s.xv).withConfig({displayName:"cmp___StyledText",componentId:"sc-3gm8x3-0"})({wordBreak:"break-all"}),p=(0,r.ZP)(d).withConfig({displayName:"cmp___StyledStyledIcon",componentId:"sc-3gm8x3-1"})({marginLeft:"0.5rem",cursor:"pointer"})},70150:function(e,n,i){"use strict";i.d(n,{W2:function(){return c},Z0:function(){return s},xv:function(){return o}});var t=i(19521),r=i(93963),a=i(72771);let s=t.ZP.hr.withConfig({displayName:"common__Separator",componentId:"sc-1mp6l0k-0"})([""," border:0;border-top:1px solid ",";opacity:0.3;"],{marginTop:"1.25rem",marginBottom:"1.25rem"},e=>{let{theme:n}=e;return n.color.main0}),o=t.ZP.span.attrs((0,a.PT)("tp-body1 text-text")).withConfig({displayName:"common__Text",componentId:"sc-1mp6l0k-1"})([""]),c=(0,t.ZP)(r.Z).attrs(e=>({...e,variant:"dashboard"})).withConfig({displayName:"common__Container",componentId:"sc-1mp6l0k-2"})([""])},69368:function(e,n,i){"use strict";i.d(n,{vx:function(){return useCopyToClipboardAndNotify}});var t=i(72771),r=i(67294);function useCopyToClipboardAndNotify(){let[e,n]=function(){let[e,n]=(0,r.useState)(null),copy=async e=>{var i;if(!(null===(i=navigator)||void 0===i?void 0:i.clipboard))return console.warn("Clipboard not supported"),!1;try{return await navigator.clipboard.writeText(e),n(e),!0}catch(e){return console.warn("Copy failed",e),n(null),!1}};return[e,copy]}(),i=(0,t.lm)(),a=(0,r.useCallback)(async e=>{let t=await n(e);t&&i&&i.add({variant:"success",title:"Copied to clipboard"})},[n,i]);return[e,a]}},80380:function(e,n,i){"use strict";i.d(n,{A:function(){return useDomainManager}});var t=i(51079);function useDomainManager(){let[e]=(0,t.mr)(),{domainManager:n}=e;return n}},36949:function(e,n,i){"use strict";i.d(n,{C:function(){return useRetryNotConfirmedEntities}});var t=i(67294);function useRetryNotConfirmedEntities(e){let{entities:n=[],request:i,triggerOnMount:r}=e;(0,t.useEffect)(()=>{if(!r)return;let e=(Array.isArray(n)?n:[n]).filter(e=>!e.confirmed);if(!e.length)return;let t=setInterval(i,1e4);return()=>clearInterval(t)},[n,i,r])}},8108:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return ManageDomain}});var t=i(85893),r=i(19521),a=i(76696),s=i(72771),o=i(9911),c=i(11163),d=i(67294),l=i(51079),m=i(90732),p=i(36949),u=i(80380),h=i(69368),y=i(69060),f=i(70150),g=i(34517);function ManageDomain(){var e;let{domain:n,status:i,refEntity:r,account:V,handleDelete:Q,handleCopyRef:Y,handleRetry:$}=function(){let e=(0,c.useRouter)(),{hash:n}=e.query,[i]=function(e){let{id:n,triggerOnMount:i=!0}=e,[t,r]=(0,l.mr)(),a=(0,u.A)(),o=(0,d.useCallback)(async()=>{if(!a)throw Error("Manager not ready");return await a.get(n)},[n,a]),c=(0,d.useCallback)(e=>{r({type:m.MF.addAccountDomain,payload:{accountDomain:e}})},[r]),h=(0,d.useCallback)((e,n)=>{a&&n(e)},[a]),y=(0,d.useMemo)(()=>(t.accountDomains||[]).find(e=>e.id===n),[t.accountDomains,n]),f=(0,s.GO)({doRequest:o,onSuccess:c,onError:h,triggerOnMount:i});return(0,p.C)({entities:y,request:f.request,triggerOnMount:i}),[y,f]}({id:n}),[,t]=(0,h.vx)(),[{account:r},a]=(0,l.mr)(),f=function(e){let[n,i]=(0,d.useState)(void 0),t=function(e){let[n,i]=(0,d.useState)(void 0),t=function(){let[e]=(0,l.mr)(),{messageManager:n}=e;return n}();return(0,d.useEffect)(()=>{if(!e){i(void 0);return}async function fetchMessage(e){if(!t)return;let n=await t.get(e),r=(0,y.gE)(n);i(r)}(async function(e){!function(e){let[,n,t]=e.split("/");return!!("string"==typeof n&&"string"==typeof t&&Object.values(o.py).includes(n))&&(i(n),!0)}(e)&&fetchMessage(e)})(e)},[e,t]),n}(e),r=function(e){let[n]=(0,l.mr)(),{domainManager:i,sshKeyManager:t,volumeManager:r,programManager:a,instanceManager:s,indexerManager:c}=n,m=(0,d.useMemo)(()=>({[o.py.Domain]:i,[o.py.SSHKey]:t,[o.py.Volume]:r,[o.py.Instance]:s,[o.py.Program]:a,[o.py.Indexer]:c}),[i,s,a,t,r,c]);if(e)return m[e]}(t);return(0,d.useEffect)(()=>{if(!e){i(void 0);return}(async function(e){if(!r)return;let n=await r.get(e);i(n)})(e)},[e,r]),n}(null==i?void 0:i.ref),g=function(e){let[n,i]=(0,d.useState)(void 0),t=(0,u.A)();return(0,d.useEffect)(()=>{if(!t||!e||(null==n?void 0:n.status))return;async function request(){if(!t||!e)return;let n=await t.checkStatus(e);i(n)}n||request();let r=setInterval(request,1e4);return()=>clearInterval(r)},[n,e,t]),n}(i),x=(0,u.A)(),v=(0,d.useCallback)(()=>{t((null==i?void 0:i.ref)||"")},[t,i]),_=(0,d.useCallback)(async()=>{if(!i)throw Error("Invalid key");if(!x)throw Error("Manager not ready");try{await x.del(i),a({type:m.MF.delAccountDomain,payload:{id:i.id}}),await e.replace("/")}catch(e){}},[i,x,a,e]),j=(0,d.useCallback)(async()=>{if(!i)throw Error("Invalid key");if(!x)throw Error("Manager not ready");try{await x.retry(i),await e.replace("/")}catch(e){}},[i,x,e]);return{domain:i,status:g,refEntity:f,account:r,handleCopyRef:v,handleDelete:_,handleRetry:j}}();if(!n)return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(f.W2,{children:(0,t.jsx)(x,{children:"Loading..."})})});let ee=n.name||(0,y.zN)(n.id),en=o.K_[n.type];return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(v,{children:(0,t.jsxs)(f.W2,{children:[(0,t.jsxs)(_,{children:[(0,t.jsxs)(j,{children:[(0,t.jsx)(w,{name:"input-text",className:"text-main0"}),(0,t.jsx)("div",{className:"tp-body2",children:ee}),(0,t.jsx)(N,{kind:"secondary",variant:(null==i?void 0:i.status)?"success":"error",children:(null==i?void 0:i.status)?"DOMAIN RECORDS CONFIGURED":"DOMAIN RECORDS NOT CONFIGURED"})]}),(0,t.jsx)("div",{children:(0,t.jsx)(s.zx,{kind:"functional",variant:"warning",size:"md",onClick:Q,children:"Delete"})})]}),(0,t.jsxs)(s.Jy,{children:[(0,t.jsxs)(C,{children:[(0,t.jsx)(b,{variant:"accent",children:en}),(0,t.jsxs)(I,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"NAME"}),(0,t.jsx)("div",{children:(0,t.jsx)("a",{className:"tp-body1 fs-16",href:"https://".concat(n.name),target:"_blank",referrerPolicy:"no-referrer",children:(0,t.jsx)(a.Z,{iconName:"square-up-right",children:(0,t.jsx)(f.xv,{children:n.name})})})})]})]}),(0,t.jsx)(f.Z0,{}),n.target&&(0,t.jsxs)(S,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"TARGET"}),(0,t.jsx)("div",{children:(0,t.jsx)(f.xv,{children:n.target})})]}),(0,t.jsxs)(P,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"REF"}),(0,t.jsx)("div",{children:(0,t.jsx)(a.Z,{iconName:"copy",onClick:Y,children:(0,t.jsx)(f.xv,{children:n.ref})})})]}),i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.Z0,{}),(0,t.jsx)(s.DU,{type:"h7",as:"h2",color:"main0",children:"Status"}),(0,t.jsxs)(Z,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"STATUS"}),(0,t.jsx)(f.xv,{children:(0,t.jsxs)(k,{children:[(0,t.jsx)(s.vo,{kind:i.status?"success":"warning",title:""}),i.status?"Properly configured":"Manual configuration is required"]})})]}),(!i.tasks_status.cname||!i.tasks_status.owner_proof)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(T,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"PENDING STEPS"}),(0,t.jsx)(f.xv,{children:(0,t.jsxs)(z,{children:[(0,t.jsx)(s.vo,{kind:i.tasks_status.cname?"success":"warning",title:""}),(0,t.jsxs)("div",{children:["Create a CNAME record",(0,t.jsx)(D,{className:"text-main0",children:n.name}),"with value",n.target==o.vs.Program&&(0,t.jsxs)(E,{className:"text-main0",children:[n.name,".program.public.aleph.sh."]}),n.target==o.vs.Instance&&(0,t.jsxs)(R,{className:"text-main0",children:[n.name,".instance.public.aleph.sh."]}),n.target==o.vs.IPFS&&(0,t.jsx)(A,{className:"text-main0",children:"ipfs.public.aleph.sh."})]})]})}),n.target==o.vs.IPFS&&(0,t.jsx)(f.xv,{children:(0,t.jsxs)(L,{children:[(0,t.jsx)(s.vo,{kind:i.tasks_status.delegation?"success":"warning",title:""}),(0,t.jsxs)("div",{children:["Create a CNAME record",(0,t.jsxs)(B,{className:"text-main0",children:["_dnslink.",n.name]}),"with value",(0,t.jsxs)(M,{className:"text-main0",children:["_dnslink.",n.name,".static.public.aleph.sh."]})]})]})}),(0,t.jsx)(f.xv,{children:(0,t.jsxs)(F,{children:[(0,t.jsx)(s.vo,{kind:i.tasks_status.owner_proof?"success":"warning",title:""}),(0,t.jsxs)("div",{children:["Create a TXT owner proof record",(0,t.jsxs)(O,{className:"text-main0",children:["_control.",n.name]}),"with value",(0,t.jsx)(q,{className:"text-main0",children:null==V?void 0:V.address})]})]})})]}),(0,t.jsxs)(G,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"FINAL STEP"}),(0,t.jsx)(f.xv,{children:"After configuring the domain records you can retry to link them again here"})]}),(0,t.jsx)(U,{children:(0,t.jsx)(s.zx,{onClick:$,size:"md",variant:"secondary",color:"main0",kind:"default",children:"Retry"})})]})]}),r&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.Z0,{}),(0,t.jsxs)(s.DU,{type:"h7",as:"h2",color:"main0",children:["Linked ",n.target]}),(0,t.jsxs)(J,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"Type"}),(0,t.jsx)("div",{children:(0,t.jsx)(f.xv,{children:o.K_[r.type]})})]}),(0,t.jsxs)(X,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"NAME"}),(0,t.jsx)("div",{children:(0,t.jsx)(f.xv,{children:(null==r?void 0:null===(e=r.metadata)||void 0===e?void 0:e.name)||(0,y.zN)(r.id)})})]}),(0,t.jsxs)(K,{children:[(0,t.jsx)("div",{className:"tp-info text-main0",children:"EXPLORER"}),(0,t.jsx)("div",{children:(0,t.jsx)("a",{className:"tp-body1 fs-16",href:r.url,target:"_blank",referrerPolicy:"no-referrer",children:(0,t.jsx)(a.Z,{iconName:"square-up-right",children:(0,t.jsx)(f.xv,{children:(0,y.bs)(r.url,80)})})})})]})]})]}),(0,t.jsx)(W,{children:(0,t.jsx)(g.Z,{variant:"primary",href:"/configure/domain/new",children:"Add new domain"})}),(0,t.jsx)(H,{children:"Acquire aleph.im tokens for versatile access to resources within a defined duration. These tokens remain in your wallet without being locked or consumed, providing you with flexibility in utilizing aleph.im's infrastructure. If you choose to remove the tokens from your wallet, the allocated resources will be efficiently reclaimed. Feel free to use or hold the tokens according to your needs, even when not actively using Aleph.im's resources."})]})})})}var x=(0,r.ZP)(s.Jy).withConfig({displayName:"cmp___StyledNoisyContainer",componentId:"sc-y38bzc-0"})({marginTop:"1rem",marginBottom:"1rem"}),v=(0,r.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-y38bzc-1"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.5rem",paddingTop:"5rem","@media (min-width: 48rem)":{paddingTop:"2.5rem",paddingBottom:"2.5rem"}}),_=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-y38bzc-2"})({display:"flex",justifyContent:"space-between",paddingBottom:"1.25rem"}),j=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-y38bzc-3"})({display:"flex",alignItems:"center"}),w=(0,r.ZP)(s.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-y38bzc-4"})({marginRight:"1rem"}),N=(0,r.ZP)(s.__).withConfig({displayName:"cmp___StyledLabel",componentId:"sc-y38bzc-5"})({marginLeft:"1rem"}),C=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-y38bzc-6"})({display:"flex",alignItems:"center",justifyContent:"flex-start",overflow:"hidden"}),b=(0,r.ZP)(s.Vp).withConfig({displayName:"cmp___StyledTag",componentId:"sc-y38bzc-7"})({marginRight:"1rem",whiteSpace:"nowrap"}),I=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-y38bzc-8"})({flex:"1 1 auto"}),S=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-y38bzc-9"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),P=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-y38bzc-10"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),Z=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-y38bzc-11"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),k=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv8",componentId:"sc-y38bzc-12"})({marginTop:"0.5rem",display:"flex"}),T=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv9",componentId:"sc-y38bzc-13"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),z=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv10",componentId:"sc-y38bzc-14"})({marginTop:"0.5rem",display:"flex"}),D=(0,r.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-y38bzc-15"})({marginLeft:"0.5rem",marginRight:"0.5rem"}),E=(0,r.ZP)("span").withConfig({displayName:"cmp___StyledSpan2",componentId:"sc-y38bzc-16"})({marginLeft:"0.5rem",marginRight:"0.5rem"}),R=(0,r.ZP)("span").withConfig({displayName:"cmp___StyledSpan3",componentId:"sc-y38bzc-17"})({marginLeft:"0.5rem",marginRight:"0.5rem"}),A=(0,r.ZP)("span").withConfig({displayName:"cmp___StyledSpan4",componentId:"sc-y38bzc-18"})({marginLeft:"0.5rem",marginRight:"0.5rem"}),L=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv11",componentId:"sc-y38bzc-19"})({marginTop:"0.5rem",display:"flex"}),B=(0,r.ZP)("span").withConfig({displayName:"cmp___StyledSpan5",componentId:"sc-y38bzc-20"})({marginLeft:"0.5rem",marginRight:"0.5rem"}),M=(0,r.ZP)("span").withConfig({displayName:"cmp___StyledSpan6",componentId:"sc-y38bzc-21"})({marginLeft:"0.5rem",marginRight:"0.5rem"}),F=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv12",componentId:"sc-y38bzc-22"})({marginTop:"0.5rem",display:"flex"}),O=(0,r.ZP)("span").withConfig({displayName:"cmp___StyledSpan7",componentId:"sc-y38bzc-23"})({marginLeft:"0.5rem",marginRight:"0.5rem"}),q=(0,r.ZP)("span").withConfig({displayName:"cmp___StyledSpan8",componentId:"sc-y38bzc-24"})({marginLeft:"0.5rem",marginRight:"0.5rem"}),G=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv13",componentId:"sc-y38bzc-25"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),U=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv14",componentId:"sc-y38bzc-26"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),J=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv15",componentId:"sc-y38bzc-27"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),X=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv16",componentId:"sc-y38bzc-28"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),K=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv17",componentId:"sc-y38bzc-29"})({marginTop:"1.25rem",marginBottom:"1.25rem"}),W=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv18",componentId:"sc-y38bzc-30"})({marginTop:"5rem",textAlign:"center"}),H=(0,r.ZP)("p").withConfig({displayName:"cmp___StyledP",componentId:"sc-y38bzc-31"})({marginTop:"6rem",marginBottom:"6rem",textAlign:"center"})}},function(e){e.O(0,[774,888,179],function(){return e(e.s=49814)}),_N_E=e.O()}]);