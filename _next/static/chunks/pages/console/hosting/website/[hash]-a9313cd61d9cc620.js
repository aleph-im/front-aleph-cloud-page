(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4947],{14267:function(e,r,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/console/hosting/website/[hash]",function(){return o(76915)}])},19584:function(e,r,o){"use strict";var a=o(85893),l=o(57833),c=o(73899);r.Z=e=>{let{handleBack:r}=e;return(0,a.jsx)(c.zx,{kind:"functional",variant:"textOnly",onClick:r,children:(0,a.jsxs)(u,{className:"tp-info text-base2",children:[(0,a.jsx)(c.JO,{name:"arrow-left"})," Back"]})})};var u=(0,l.ZP)("p").withConfig({displayName:"cmp___StyledP",componentId:"sc-1jijf1x-0"})({display:"flex",alignItems:"center",justifyContent:"center",gap:"0.25rem",textAlign:"center"})},93788:function(e,r,o){"use strict";o.d(r,{Z:function(){return BackButtonSection_cmp}});var a=o(85893),l=o(57833),c=o(19584),u=o(99983),BackButtonSection_cmp=e=>{let{handleBack:r}=e;return(0,a.jsx)(d,{children:(0,a.jsx)(u.F,{children:(0,a.jsx)(c.Z,{handleBack:r})})})},d=(0,l.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-o42jnx-0"})({paddingTop:"0px !important",paddingBottom:"0px !important",paddingLeft:"0px",paddingRight:"0px","@media (min-width: 48rem)":{paddingTop:"2.5rem !important"}})},34517:function(e,r,o){"use strict";o.d(r,{Z:function(){return m}});var a=o(85893),l=o(67294),c=o(41664),u=o.n(c),d=o(73899);let ButtonLink=e=>{let{href:r,variant:o="secondary",color:l="main0",kind:c="default",size:m="md",disabled:f,children:h,...p}=e,g=(0,a.jsx)(d.zx,{as:f?void 0:"a",variant:o,color:l,kind:c,size:m,disabled:f,...p,children:h});return f?g:(0,a.jsx)(u(),{href:r,passHref:!0,legacyBehavior:!0,children:g})};ButtonLink.displayName="ButtonLink";var m=(0,l.memo)(ButtonLink)},99983:function(e,r,o){"use strict";o.d(r,{F:function(){return u}});var a=o(57833);let l={xl:90,lg:60.0625,md:44.6875},c=a.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-1bpjbi2-0"})(["",""],e=>{let{$variant:r="lg"}=e;return(0,a.iv)([""," max-width:","rem;"],{marginLeft:"auto",marginRight:"auto",width:"100%",paddingLeft:"1.5rem",paddingRight:"1.5rem","@media (min-width: 62rem)":{paddingLeft:"4rem",paddingRight:"4rem"}},l[r])});var u=c},76696:function(e,r,o){"use strict";o.d(r,{Z:function(){return h}});var a=o(85893),l=o(57833),c=o(67294),u=o(77541),d=o(73899);let m=l.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-hdgoyh-0"})(["",""],e=>{let{theme:r}=e;return(0,l.iv)([""," ","{color:",";}&:hover ","{color:",";}"],{display:"flex",cursor:"pointer",alignItems:"center"},f,r.color.purple4,f,r.color.main0)}),f=(0,l.ZP)(d.JO).withConfig({displayName:"styles__StyledIcon",componentId:"sc-hdgoyh-1"})(["",""],e=>{let{theme:r}=e;return(0,l.iv)([""," transition-property:color;transition-duration:","ms;transition-timing-function:",";"],{marginLeft:"0.5rem",cursor:"pointer"},r.transition.duration.fast,r.transition.timing)}),IconText=e=>{let{children:r,onClick:o,iconName:l}=e;return(0,a.jsxs)(m,{onClick:o,children:[(0,a.jsx)(p,{children:r}),(0,a.jsx)(g,{name:l,className:"text-purple4"})]})};IconText.displayName="IconText";var h=(0,c.memo)(IconText),p=(0,l.ZP)(u.xv)({wordBreak:"break-all"}),g=(0,l.ZP)(f).withConfig({displayName:"cmp___StyledStyledIcon",componentId:"sc-3gm8x3-0"})({marginLeft:"0.5rem",cursor:"pointer"})},77541:function(e,r,o){"use strict";o.d(r,{J3:function(){return d},Z0:function(){return c},xv:function(){return u}});var a=o(57833),l=o(73899);let c=a.ZP.hr.withConfig({displayName:"common__Separator",componentId:"sc-4t26wy-0"})([""," border:0;border-top:1px solid ",";opacity:0.3;"],{marginTop:"1.25rem",marginBottom:"1.25rem"},e=>{let{theme:r}=e;return r.color.main0}),u=a.ZP.span.attrs((0,l.PT)("tp-body1 text-text")).withConfig({displayName:"common__Text",componentId:"sc-4t26wy-1"})([""]),d=a.ZP.span.attrs((0,l.PT)("tp-body1 text-disabled")).withConfig({displayName:"common__DisabledText",componentId:"sc-4t26wy-2"})([""])},24381:function(e,r,o){"use strict";o.d(r,{c:function(){return useNewWebsitePage}});var a=o(67294),l=o(11163),c=o(24959),u=o(8758),d=o(9754),m=o(48900),f=o(95282),h=o(9911),p=o(87536),g=o(56312),y=o(37419),x=o(18090),v=o(86780),j=o(9324),w=o(50586),b=o(28565),N=o(72077);let S={...x.y,paymentMethod:h.XL.Hold};function useNewWebsitePage(){let e=(0,l.useRouter)(),[r,o]=(0,d.mr)(),{account:x,balance:C=0}=r.connection,Z=(0,u.e)(),{next:E,stop:P}=(0,v.A)({}),k=(0,a.useCallback)(async r=>{if(!Z)throw w.Z.ConnectYourWallet;let a={chain:N.Ek.ETH,type:h.XL.Hold},l={...r,payment:a},c=await Z.getAddSteps(l),u=c.map(e=>v.n[e]),d=Z.addSteps(l);try{let r;for(;!r;){let{value:e,done:o}=await d.next();if(o){r=e;break}await E(u)}o(new j.Wy({name:"website",entities:r})),await e.replace(h.cr.console.web3Hosting.website.detail(r.id))}finally{await P()}},[o,Z,E,e,P]),{control:_,handleSubmit:A,formState:{errors:B},setValue:I}=(0,c.c)({defaultValues:S,onSubmit:k,resolver:(0,g.F)(f.y6.addSchema)}),M=(0,p.qo)({control:_}),D=(0,a.useMemo)(()=>({entityType:h.py.Website,props:{website:M.website,paymentMethod:M.paymentMethod,domains:M.domains}}),[M]),T=(0,y.F)(D),{isCreateButtonDisabled:R}=(0,b.U)({cost:T,accountBalance:C});return(0,m.s)({formPaymentMethod:M.paymentMethod,setValue:I}),{address:(null==x?void 0:x.address)||"",accountBalance:C,isCreateButtonDisabled:R,values:M,control:_,errors:B,cost:T,handleSubmit:A,handleBack:()=>{e.push(".")}}}},28565:function(e,r,o){"use strict";function useCanAfford(e){let{accountBalance:r,cost:o}=e,a=r>=(o?o.cost:Number.MAX_SAFE_INTEGER);return{canAfford:a,isCreateButtonDisabled:!a}}o.d(r,{U:function(){return useCanAfford}})},36541:function(e,r,o){"use strict";o.d(r,{w:function(){return useDispatchDeleteEntityAction}});var a=o(67294),l=o(9754),c=o(9324);function useDispatchDeleteEntityAction(e){let{entityName:r}=e,[,o]=(0,l.mr)(),u=(0,a.useCallback)(e=>{o(new c.gg({name:r,keys:e}));let a=(0,c.zG)(r);a.forEach(e=>o(e))},[o,r]);return{dispatchDeleteEntity:u}}},37419:function(e,r,o){"use strict";o.d(r,{F:function(){return useEntityCost}});var a=o(67294),l=o(41698),c=o(9911),u=o(90805),d=o(33223),m=o(99978),f=o(8758),h=o(78474),p=o(73899);function useEntityCost(e){let r=(0,a.useMemo)(()=>({paymentMethod:c.XL.Hold,cost:Number.POSITIVE_INFINITY,lines:[]}),[]),[o,g]=(0,a.useState)(r),y=(0,u.B)(),x=(0,m.U)(),v=(0,h.c)(),j=(0,d.k)(),w=(0,f.e)(),b=(0,a.useMemo)(()=>JSON.stringify(e),[e]),N=(0,p.$P)(b,1e3),S=(0,l.Z)(N),C=(0,a.useMemo)(()=>{if(N!==S&&N)return{...e}},[N,S,e]);return(0,a.useEffect)(()=>{(async function(){if(!C)return;let e=r,{entityType:o,props:a}=C;switch(o){case c.py.Volume:y&&(e=await y.getCost(a));break;case c.py.Instance:x&&(e=await x.getCost(a));break;case c.py.GpuInstance:v&&(e=await v.getCost(a));break;case c.py.Program:j&&(e=await j.getCost(a));break;case c.py.Website:w&&(e=await w.getCost(a))}g(e)})()},[C,r,y,x,v,j,w]),o}},24959:function(e,r,o){"use strict";o.d(r,{c:function(){return useForm}});var a=o(73899),l=o(67294),c=o(87536),u=o(79711),d=o(50586);function useForm(e){let{onSubmit:r,onSuccess:o,onError:m,readyDeps:f=[],...h}=e,p=(0,c.cI)(h);(0,l.useEffect)(()=>{"object"==typeof h.defaultValues&&p.reset(h.defaultValues)},[...f]);let[g,y]=(0,l.useState)({data:void 0,error:void 0,loading:!1}),[x,{onLoad:v,onSuccess:j,onError:w}]=(0,a.g7)({flushData:!0,state:g,setState:y,onSuccess:o,onError:m}),b=(0,l.useCallback)(async e=>{try{v();let o=await r(e);j(o)}catch(r){let e=r instanceof u.jm?d.Z.ValidationError:(null==r?void 0:r.cause)||r;p.setError("root.serverError",{...e,message:null==e?void 0:e.message}),w(e)}},[p,w,v,r,j]),N=(0,l.useCallback)(async e=>{let r;if(console.log(e),!r){let o=function getFirstError(e){let[r]=Object.entries(e);if(!r)return;let[o,a]=r;if(Array.isArray(a)){let e=a[a.length-1];return getFirstError(e)}return[o,a]}(e);if(o){let[e,a]=o,l="string"==typeof a?a:(null==a?void 0:a.message)?": ".concat(a.message):(null==a?void 0:a.type)?': "'.concat(null==a?void 0:a.type,'" validation not satisfied'):"";r=d.Z.FieldError(e,l)}}r||(r=d.Z.ValidationError),w(r)},[w]),S=(0,l.useMemo)(()=>p.handleSubmit(b,N),[p,b,N]);return{...p,requestState:x,handleSubmit:S}}},64688:function(e,r,o){"use strict";o.d(r,{S:function(){return useHashToEntity}});var a=o(67294),l=o(9754),c=o(9911),u=o(14685),d=o(1801);function useHashToEntity(e){let[r,o]=(0,a.useState)(void 0),m=function(e){let[r,o]=(0,a.useState)(void 0),l=(0,d.c)();return(0,a.useEffect)(()=>{if(!e){o(void 0);return}async function fetchMessage(e){if(!l)return;let r=await l.get(e),a=(0,u.gE)(r);o(a)}(async function(e){!function(e){let[,r,a]=e.split("/");return!!("string"==typeof r&&"string"==typeof a&&Object.values(c.py).includes(r))&&(o(r),!0)}(e)&&fetchMessage(e)})(e)},[e,l]),r}(e),f=function(e){let[r]=(0,l.mr)(),{domainManager:o,sshKeyManager:u,volumeManager:d,programManager:m,instanceManager:f,gpuInstanceManager:h,websiteManager:p,confidentialManager:g}=r.manager,y=(0,a.useMemo)(()=>({[c.py.Domain]:o,[c.py.SSHKey]:u,[c.py.Volume]:d,[c.py.Instance]:f,[c.py.GpuInstance]:h,[c.py.Program]:m,[c.py.Website]:p,[c.py.Confidential]:g}),[o,u,d,f,h,m,p,g]);if(e)return y[e]}(m);return(0,a.useEffect)(()=>{if(!e){o(void 0);return}(async function(e){if(!f)return;let r=await f.get(e);o(r)})(e)},[e,f]),r}},78474:function(e,r,o){"use strict";o.d(r,{c:function(){return useGpuInstanceManager}});var a=o(9754);function useGpuInstanceManager(){let[e]=(0,a.mr)(),{gpuInstanceManager:r}=e.manager;return r}},99978:function(e,r,o){"use strict";o.d(r,{U:function(){return useInstanceManager}});var a=o(9754);function useInstanceManager(){let[e]=(0,a.mr)(),{instanceManager:r}=e.manager;return r}},1801:function(e,r,o){"use strict";o.d(r,{c:function(){return useMessageManager}});var a=o(9754);function useMessageManager(){let[e]=(0,a.mr)(),{messageManager:r}=e.manager;return r}},33223:function(e,r,o){"use strict";o.d(r,{k:function(){return useProgramManager}});var a=o(9754);function useProgramManager(){let[e]=(0,a.mr)(),{programManager:r}=e.manager;return r}},90805:function(e,r,o){"use strict";o.d(r,{B:function(){return useVolumeManager}});var a=o(9754);function useVolumeManager(){let[e]=(0,a.mr)(),{volumeManager:r}=e.manager;return r}},8758:function(e,r,o){"use strict";o.d(r,{e:function(){return useWebsiteManager}});var a=o(9754);function useWebsiteManager(){let[e]=(0,a.mr)(),{websiteManager:r}=e.manager;return r}},41698:function(e,r,o){"use strict";o.d(r,{Z:function(){return usePrevious}});var a=o(67294);function usePrevious(e){let r=(0,a.useRef)();return(0,a.useEffect)(()=>{r.current=e}),r.current}},77205:function(e,r,o){"use strict";o.d(r,{F:function(){return useRequestEntities}});var a=o(67294),l=o(9754),c=o(9324),u=o(73899);function useAppStoreEntityRequest(e){let[r,o]=(0,l.mr)();return function(e){let{state:r,dispatch:o,name:l,cacheStrategy:d="overwrite",...m}=e,f=r[l],h=(0,a.useMemo)(()=>{let{entities:e,keys:r,...o}=f;return{data:e,...o}},[f]);return(0,u.QT)({state:h,setState:e=>{switch(d){case"none":break;case"overwrite":o(new c.B9({name:l,state:e}));break;case"merge":o(new c.Wy({name:l,entities:e.data||[]}))}},...m})}({state:r,dispatch:o,...e})}let handleSingleEntityRequest=async function(e,r,o){var a;let l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!l&&(null==o?void 0:null===(a=o.entities)||void 0===a?void 0:a.length)){let e=o.entities.find(e=>e.id===r);if(e)return[e]}let c=await e.get(r);return c?[c]:[]},handleMultipleEntitiesRequest=async function(e,r,o){var a;let l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!r.length)return[];if(!l&&(null==o?void 0:null===(a=o.entities)||void 0===a?void 0:a.length)){let e=o.entities.map(e=>e.id),a=r.every(r=>e.includes(r));if(a)return o.entities.filter(e=>r.includes(e.id))}return e.getAll({ids:r})},handleAllEntitiesRequest=async function(e,r){var o;let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!a&&(null==r?void 0:null===(o=r.entities)||void 0===o?void 0:o.length)?r.entities:e.getAll({})};function useRequestEntities(e){let{name:r,manager:o,ids:c,triggerDeps:u=[],triggerOnMount:d=!0}=e,[m]=(0,l.mr)(),{account:f}=m.connection;u=[f,c,...u];let h=(0,a.useMemo)(()=>"string"==typeof c?"single":Array.isArray(c)?"multiple":"all",[c]),p=(0,a.useMemo)(()=>{switch(h){case"single":case"multiple":return"merge";case"all":return"overwrite"}},[h]),{data:g,loading:y,request:x}=useAppStoreEntityRequest({name:r,doRequest:async()=>{if(!o)return[];let e=m[r];switch(h){case"single":return handleSingleEntityRequest(o,c,e);case"multiple":return handleMultipleEntitiesRequest(o,c,e);case"all":return handleAllEntitiesRequest(o,e)}},onSuccess:()=>null,flushData:!0,triggerOnMount:d,triggerDeps:u,cacheStrategy:p}),{request:v}=useAppStoreEntityRequest({name:r,doRequest:async()=>{if(!o)return[];let e=m[r];switch(h){case"single":return handleSingleEntityRequest(o,c,e,!0);case"multiple":return handleMultipleEntitiesRequest(o,c,e,!0);case"all":return handleAllEntitiesRequest(o,e,!0)}},onSuccess:()=>null,flushData:!0,triggerOnMount:!1,triggerDeps:[],cacheStrategy:p}),j=(0,a.useMemo)(()=>{if(!g)return g;switch(h){case"single":return g.filter(e=>e.id===c);case"multiple":return g.filter(e=>c.includes(e.id));default:return g}},[g,h,c]);return!function(e){let{entities:r=[],request:o,triggerOnMount:l}=e;(0,a.useEffect)(()=>{if(!l)return;let e=(Array.isArray(r)?r:[r]).filter(e=>!e.confirmed);if(!e.length)return;let a=setInterval(o,1e4);return()=>clearInterval(a)},[r,o,l])}({entities:j,request:x,triggerOnMount:d}),{entities:j,loading:y,refetch:v}}},30716:function(e,r,o){"use strict";o.d(r,{p:function(){return useRequestWebsites}});var a=o(8758),l=o(77205);function useRequestWebsites(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,a.e)();return(0,l.F)({...e,manager:r,name:"website"})}},48900:function(e,r,o){"use strict";o.d(r,{s:function(){return useSyncPaymentMethod}});var a=o(67294),l=o(14765);function useSyncPaymentMethod(e){let{formPaymentMethod:r,setValue:o,fieldName:c="paymentMethod"}=e,{paymentMethod:u,setPaymentMethod:d}=(0,l.Q)(),m=(0,a.useRef)(!1);(0,a.useEffect)(()=>{m.current||(m.current=!0,d(r),setTimeout(()=>m.current=!1,0))},[r,d]),(0,a.useEffect)(()=>{m.current||o(c,u)},[c,u,o])}},18090:function(e,r,o){"use strict";o.d(r,{o:function(){return useAddNameAndTags},y:function(){return u}});var a=o(9911),l=o(67294),c=o(87536);let u={name:""};function useAddNameAndTags(e){let{name:r="",control:o,defaultValue:u,entityType:d}=e,m=(0,c.bc)({control:o,name:"".concat(r,".name"),defaultValue:null==u?void 0:u.name}),f=(0,c.bc)({control:o,name:"".concat(r,".tags"),defaultValue:null==u?void 0:u.tags}),h=(0,l.useMemo)(()=>a.K_[d],[d]);return{entityName:h,nameCtrl:m,tagsCtrl:f}}},19048:function(e,r,o){"use strict";o.d(r,{m:function(){return useAddWebsiteFolderProps}});var a=o(67294),l=o(56979),c=o(87536),u=o(80074),d=o(73899);let isCidFile=e=>{e=Array.isArray(e)?e:[e];let[r]=e;if(r)try{return u.eB.parse(r.name),r.name}catch(e){}};function useAddWebsiteFolderProps(e){let{name:r="website",index:o,control:u,defaultValue:m,onRemove:f}=e,h=void 0===o,p=h?r:"".concat(r,".").concat(o),g=(0,c.bc)({control:u,name:"".concat(p,".folder"),defaultValue:null==m?void 0:m.folder}),y=(0,c.bc)({control:u,name:"".concat(p,".cid"),defaultValue:null==m?void 0:m.cid}),{value:x}=g.field,{onChange:v}=y.field;(0,a.useEffect)(()=>{!async function(){if(!x)return;let e=isCidFile(x)||await l.p.uploadFolder(x);e&&v(e)}()},[v,x]);let j=(0,d.vx)(y.field.value);return{folderCtrl:g,cidCtrl:y,handleRemove:f,handleCopyCID:j}}},86780:function(e,r,o){"use strict";o.d(r,{n:function(){return w},A:function(){return useCheckoutNotification}});var a=o(85893),l=o(82729),c=o(57833),u=o(67294),d=o(73899);function _templateObject(){let e=(0,l._)(["",""]);return _templateObject=function(){return e},e}let m=(0,u.memo)(e=>{let{isActive:r,step:o,total:l,title:c,content:u}=e;return(0,a.jsxs)(h,{$_css:[!r&&{opacity:"0.3"}],children:[(0,a.jsxs)(p,{className:"tp-h7",children:[(0,a.jsxs)(g,{children:[c,r&&(0,a.jsx)(y,{name:"arrows-rotate",size:"0.8em"})]}),(0,a.jsxs)("div",{className:"tp-body2 fs-18",children:[o+1,"/",l]})]}),(0,a.jsx)("div",{className:"tp-body1",children:u})]})});var f=(0,u.memo)(e=>{let{steps:r,activeStep:o}=e;return(0,a.jsx)(x,{children:r.map((e,l)=>(0,a.jsx)(m,{step:l,total:r.length,isActive:l===o,...e},l))})}),h=(0,c.ZP)("div")(_templateObject(),e=>e.$_css),p=(0,c.ZP)("div")({marginBottom:"0.5rem",display:"flex",alignItems:"center",justifyContent:"space-between"}),g=(0,c.ZP)("div")({display:"flex",alignItems:"center",gap:"1rem"}),y=(0,c.ZP)(d.JO)({"@keyframes spin":{to:{transform:"rotate(360deg)"}},animation:"spin 1s linear infinite"}),x=(0,c.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-1ydaly9-0"})({display:"flex",flexDirection:"column",gap:"2rem"}),v=o(14685),j=o(50586);function useCheckoutNotification(){let{steps:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,d.lm)(),o=(0,u.useRef)(0),l="CHECKOUT-NOTI",c=(0,u.useCallback)(async c=>{if(!r)throw j.Z.NotificationsNotReady;let u=c||e||[];r.del(l),await (0,v._v)(200),r.set(l,{id:l,timeout:0,variant:"warning",content:(0,a.jsx)(f,{activeStep:o.current,steps:u})}),o.current+=1},[r,e]),m=(0,u.useCallback)(async()=>{if(!r)throw j.Z.NotificationsNotReady;o.current=0,r.del(l),await (0,v._v)(2e3)},[r]);return{next:c,stop:m,noti:r}}let w={reserve:{title:"Sign CRN resources reservation",content:"By signing this, you are doing a reservation of hardware resources on the selected CRN until the instance is correctly allocated."},stream:{title:"Sign PAYG Activation",content:"By signing this, you authorise the initiation of a token stream for billing, ensuring a seamless and efficient payment process aligning costs directly with your usage."},streamDel:{title:"Sign PAYG Cancellation",content:"By signing this, you confirm the cancellation of your stream."},volume:{title:"Sign Volume(s) Creation",content:"By signing this, you confirm the creation of new volume(s). This is required if you are creating/updating a website, or if you have set up additional storage volume(s) for your instance or function."},volumeDel:{title:"Sign Volume(s) Deletion",content:"By signing this, you confirm the deletion of your volume(s)."},volumeUp:{title:"Sign Volume(s) Update",content:"By signing this, you confirm the update of your volume(s)."},ssh:{title:"Sign SSH Key(s) Configuration",content:"By signing this, you confirm the SSH key(s) configuration, enabling encrypted communication with your instance. This is crucial for securing remote access."},sshDel:{title:"Sign SSH Key(s) Deletion",content:"By signing this, you confirm the deletion of your SSH Key(s)."},sshUp:{title:"Sign SSH Key(s) Update",content:"By signing this, you confirm the update of your SSH Key(s)."},instance:{title:"Sign Instance Creation",content:"By signing this, you confirm the creation of your new instance on Aleph Cloud. This step finalises the setup options you've chosen, including resources, configurations, and any additional features."},instanceDel:{title:"Sign Instance Deletion",content:"By signing this, you confirm the deletion of your instance."},instanceUp:{title:"Sign Instance Update",content:"By signing this, you confirm the update of your instance."},program:{title:"Sign Function Creation",content:"By signing this, you confirm the creation of your new function on Aleph Cloud. This step finalises the setup options you've chosen, including the codebase volume, resources, configurations, and any additional features."},programDel:{title:"Sign Function Deletion",content:"By signing this, you confirm the deletion of your function."},programUp:{title:"Sign Function Update",content:"By signing this, you confirm the update of your function."},domain:{title:"Sign Custom Domain(s) Creation",content:"By signing this, you confirm the custom domain(s) settings for your website, instance or function."},domainDel:{title:"Sign Custom Domain(s) Deletion",content:"By signing this, you confirm the deletion of your custom domain(s)."},domainUp:{title:"Sign Custom Domain(s) Update",content:"By signing this, you confirm the update of your custom domain(s)."},website:{title:"Sign Website Creation",content:"By signing this, you confirm the deployment of your new website on Aleph Cloud."},websiteDel:{title:"Sign Website Deletion",content:"By signing this, you confirm the deletion of your website."},websiteUp:{title:"Sign Website Update",content:"By signing this, you confirm the update of your website."},allocate:{title:"Allocate the instance",content:"Notifiying the selected CRN for allocating the instance. It can take a while"},portForwarding:{title:"Sign Port Forwarding Configuration",content:"By signing this, you confirm the port forwarding configuration for your instance, enabling network access to specific ports."},portForwardingDel:{title:"Sign Port Forwarding Deletion",content:"By signing this, you confirm the deletion of your port forwarding configuration."},permissions:{title:"Sign Permissions Creation",content:"By signing this, you confirm the creation of new permissions for delegated access control."},permissionsDel:{title:"Sign Permissions Deletion",content:"By signing this, you confirm the deletion of your permissions."}}},76915:function(e,r,o){"use strict";o.r(r),o.d(r,{default:function(){return W}});var a=o(85893),l=o(57833),c=o(67294),u=o(9008),d=o.n(u),m=o(41664),f=o.n(m),h=o(73899),p=o(9911),g=o(11163),y=o(8758),x=o(9754),v=o(64688),j=o(30716),w=o(9324),b=o(36541),N=o(86780),S=o(50586),C=o(24381),Z=o(14685),E=o(77541),P=o(99983),k=o(28540),_=o(95282),A=o(19048);let B=(0,c.memo)(e=>{let{folderCtrl:r}=(0,A.m)(e);return(0,a.jsx)(h.S2,{...r.field,...r.fieldState,required:!0,directory:!0})});B.displayName="UpdateWebsiteFolder";var I=o(34517),M=o(76696),D=o(93788);function WebsiteVolume(e){let{version:r,volume:o,onClick:l}=e,c="https://".concat((0,Z.wB)(o.item_hash),".ipfs.aleph.sh"),u=(0,h.vx)(c);return(0,a.jsxs)(F,{children:[(0,a.jsx)(E.Z0,{}),(0,a.jsxs)(V,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"tp-info text-main0",children:"Version ".concat(r)}),(0,a.jsx)(f(),{className:"tp-body1 fs-16",href:"/storage/volume/".concat(o.id),children:(0,a.jsx)(M.Z,{iconName:"square-up-right",children:"Volume details"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"tp-info text-main0",children:"CREATED ON"}),(0,a.jsx)("div",{children:(0,a.jsx)(E.xv,{className:"fs-10 tp-body1",children:o.date})})]}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)(h.zx,{kind:"functional",variant:"warning",size:"md",onClick:l,children:"Redeploy"})]}),(0,a.jsx)("div",{className:"tp-info text-main0",children:"LEGACY GATEWAY"}),(0,a.jsxs)(U,{children:[(0,a.jsx)("a",{className:"tp-body1 fs-16",href:c,target:"_blank",referrerPolicy:"no-referrer",children:(0,a.jsx)(M.Z,{iconName:"square-up-right",children:(0,a.jsx)(E.xv,{children:c})})}),(0,a.jsx)(M.Z,{iconName:"copy",onClick:u})]})]})}function WebsiteENS(e){let{ens:r}=e,o="https://".concat(r,".limo"),l=(0,h.vx)(o);return(0,a.jsxs)(q,{children:[(0,a.jsx)("a",{className:"tp-body1 fs-16",href:o,target:"_blank",referrerPolicy:"no-referrer",children:(0,a.jsx)(M.Z,{iconName:"square-up-right",children:(0,a.jsx)(E.xv,{children:o})})}),(0,a.jsx)(M.Z,{iconName:"copy",onClick:l})]})}function ManageWebsite(){let{cidV1:e,defaultUrl:r,website:o,refVolume:u,historyVolumes:m,theme:A,state:W,handleDelete:F,handleUpdate:V,handleCopyCIDv0:U,handleCopyCIDv1:q,handleCopyHash:ex,handleCopyIpfsUrl:ev,handleCopyUrl:ej,handleCopyVolumeHash:ew,handleBack:eb}=function(){var e;let[,r]=(0,x.mr)(),{dispatchDeleteEntity:o}=(0,b.w)({entityName:"website"}),a=(0,g.useRouter)(),{hash:u}=a.query,{entities:d}=(0,j.p)({ids:u}),[m]=d||[],f=(0,v.S)(null==m?void 0:m.volume_id),p=(0,y.e)(),[E,P]=(0,c.useState)(),{next:k,stop:_,noti:A}=(0,N.A)({}),B=(0,c.useCallback)(async()=>{if(!p)throw S.Z.ConnectYourWallet;if(!m)throw S.Z.WebsiteNotFound;let e=await p.getDelSteps(m),r=e.map(e=>N.n[e]),l=p.delSteps(m);try{for(;;){let{done:e}=await l.next();if(e)break;await k(r)}o(m.id),await a.replace("/console")}catch(a){console.error(a);let e=a.message,r=null==a?void 0:a.cause,o="string"==typeof r?r:null==r?void 0:r.message;null==A||A.add({variant:"error",title:"Error",text:e,detail:o})}finally{await _()}},[o,p,m,k,a,_,A]),I=(0,c.useCallback)(async(e,o)=>{if(!p)throw S.Z.ConnectYourWallet;if(!m)throw S.Z.WebsiteNotFound;let l=await p.getDomains(m),c=await p.getUpdateSteps(e,o,l),u=c.map(e=>N.n[e]),d=p.updateSteps(m,e,o,l,E);try{let e;for(;!e;){let{value:r,done:o}=await d.next();if(o){e=r;break}await k(u)}r(new w.Wy({name:"website",entities:e})),await a.replace("/")}catch(e){}finally{await _()}},[p,m,E,r,a,k,_]);(0,c.useEffect)(()=>{p&&m&&(null==p||p.getHistoryVolumes(m).then(P))},[p,m]);let M=(null==f?void 0:f.item_hash)&&(0,Z.wB)(f.item_hash),D="https://".concat(M,".ipfs.aleph.sh"),T=(0,h.vx)((null==m?void 0:m.id)||""),R=(0,h.vx)(D),W=(0,h.vx)("ipfs://".concat(M)||0),F=(0,h.vx)((null==f?void 0:f.id)||""),V=(0,h.vx)((null==f?void 0:f.item_hash)||""),U=(0,h.vx)(null!=M?M:""),q=(0,C.c)(),O=(0,l.Fg)(),L=null===(e=q.values.website)||void 0===e?void 0:e.cid;return(0,c.useEffect)(()=>{L&&I(L)},[L]),{website:m,refVolume:f,historyVolumes:E,cidV1:M,defaultUrl:D,theme:O,state:q,handleDelete:B,handleUpdate:I,handleCopyHash:T,handleCopyUrl:R,handleCopyIpfsUrl:W,handleCopyVolumeHash:F,handleCopyCIDv0:V,handleCopyCIDv1:U,handleBack:()=>{a.push(".")}}}();return o&&e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(d(),{children:[(0,a.jsx)("title",{children:"Console | Manage Website | Aleph Cloud"}),(0,a.jsx)("meta",{name:"description",content:"Manage your website on Aleph Cloud"})]}),(0,a.jsx)(D.Z,{handleBack:eb}),(0,a.jsx)(L,{children:(0,a.jsxs)(P.F,{children:[(0,a.jsxs)(H,{children:[(0,a.jsxs)(G,{children:[(0,a.jsx)(Y,{name:"floppy-disk",className:"text-main0"}),(0,a.jsx)("div",{className:"tp-body2",children:o.metadata.name}),(0,a.jsx)(K,{kind:"secondary",variant:o.confirmed?"success":"warning",children:o.confirmed?"READY":(0,a.jsxs)(z,{children:[(0,a.jsx)(J,{children:"CONFIRMING"}),(0,a.jsx)(k.s5,{strokeColor:A.color.base2,width:".8rem"})]})})]}),(0,a.jsx)(X,{children:(0,a.jsx)(h.zx,{kind:"functional",variant:"error",size:"md",onClick:F,children:(0,a.jsx)(h.JO,{name:"trash"})})})]}),(0,a.jsxs)(h.Jy,{children:[(0,a.jsxs)($,{children:[(0,a.jsx)(Q,{variant:"accent",children:p.K_[o.type]}),(0,a.jsxs)(ee,{children:[(0,a.jsx)("div",{className:"tp-info text-main0",children:"NAME"}),(0,a.jsx)(M.Z,{iconName:"copy",onClick:ex,children:o.id})]})]}),(0,a.jsx)(E.Z0,{}),(0,a.jsxs)(et,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"tp-info text-main0",children:"FRAMEWORK"}),(0,a.jsx)("div",{children:(0,a.jsx)(E.xv,{children:_.by[o.metadata.framework].name})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"tp-info text-main0",children:"VERSION"}),(0,a.jsx)("div",{children:(0,a.jsx)(E.xv,{children:o.version})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"tp-info text-main0",children:"SIZE"}),(0,a.jsx)("div",{children:(0,a.jsx)(E.xv,{className:"fs-10 tp-body1",children:(0,Z.eB)(null==u?void 0:u.size,"MiB")})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"tp-info text-main0",children:"CREATED ON"}),(0,a.jsx)("div",{children:(0,a.jsx)(E.xv,{className:"fs-10 tp-body1",children:(0,Z._3)(o.created_at)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"tp-info text-main0",children:"UPDATED ON"}),(0,a.jsx)("div",{children:(0,a.jsx)(E.xv,{className:"fs-10 tp-body1",children:o.updated_at})})]})]}),(0,a.jsxs)(en,{children:[(0,a.jsx)("div",{className:"tp-info text-main0",children:"DEFAULT GATEWAY"}),(0,a.jsxs)(ei,{children:[(0,a.jsx)("a",{className:"tp-body1 fs-16",href:r,target:"_blank",referrerPolicy:"no-referrer",children:(0,a.jsx)(M.Z,{iconName:"square-up-right",children:(0,a.jsx)(E.xv,{children:r})})}),(0,a.jsx)(M.Z,{iconName:"copy",onClick:ej})]})]}),(0,a.jsxs)(er,{children:[(0,a.jsx)("a",{className:"tp-body1 fs-16",href:"https://ipfs.github.io/public-gateway-checker/",target:"_blank",referrerPolicy:"no-referrer",children:(0,a.jsx)(M.Z,{iconName:"square-up-right",children:(0,a.jsx)("div",{className:"tp-info text-main0",children:"ALTERNATIVE GATEWAYS"})})}),(0,a.jsxs)(es,{children:["https://".concat(e,".ipfs."),(0,a.jsx)(eo,{children:"<gateway-hostname>"})]})]}),(0,a.jsxs)(ea,{children:[(0,a.jsx)("a",{className:"tp-body1 fs-16",href:"https://app.ens.domains/",target:"_blank",referrerPolicy:"no-referrer",children:(0,a.jsx)(M.Z,{iconName:"square-up-right",children:(0,a.jsx)("div",{className:"tp-info text-main0",children:"ENS GATEWAYS"})})}),o.ens&&o.ens.length>0?Array.from(o.ens).map((e,r)=>(0,a.jsx)(R,{ens:e},r)):(0,a.jsxs)(el,{children:[(0,a.jsx)(E.xv,{children:"Access your ENS and setup the content hash to this current version:"}),(0,a.jsx)(M.Z,{iconName:"copy",onClick:ev,children:(0,a.jsxs)(ec,{children:["ipfs://",e]})}),(0,a.jsxs)(eu,{children:["Then, your website will be accessible via:",(0,a.jsxs)(ed,{children:["https://",(0,a.jsx)(em,{children:"<your-ens-name>"}),".eth.limo"]})]})]})]}),(0,a.jsx)(E.Z0,{}),(0,a.jsx)(h.DU,{type:"h7",as:"h2",color:"main0",children:"Current Version"}),(0,a.jsxs)(ef,{children:[(0,a.jsx)("div",{className:"tp-info text-main0",children:"Version ".concat(o.version)}),(0,a.jsx)(f(),{className:"tp-body1 fs-16",href:"/storage/volume/".concat(null==u?void 0:u.id),children:(0,a.jsx)(M.Z,{iconName:"square-up-right",children:"Volume details"})})]}),(0,a.jsxs)(eh,{children:[(0,a.jsx)("div",{className:"tp-info text-main0",children:"ITEM HASH"}),(0,a.jsx)(M.Z,{iconName:"copy",onClick:ew,children:null==u?void 0:u.id})]}),(0,a.jsx)("div",{className:"tp-info text-main0",children:"IPFS CID v0"}),(0,a.jsx)(ep,{children:(0,a.jsx)(M.Z,{iconName:"copy",onClick:U,children:null==u?void 0:u.item_hash})}),(0,a.jsx)("div",{className:"tp-info text-main0",children:"IPFS CID v1"}),(0,a.jsx)(eg,{children:(0,a.jsx)(M.Z,{iconName:"copy",onClick:q,children:e})}),(0,a.jsx)(E.Z0,{}),(0,a.jsx)(h.DU,{type:"h7",as:"h2",color:"main0",children:"Previous Versions"}),m&&Object.keys(m).length>0?(0,a.jsx)(a.Fragment,{children:Object.entries(m).sort((e,r)=>{let[o]=e,[a]=r;return parseInt(a)-parseInt(o)}).map(e=>{let[r,o]=e;return(0,a.jsx)(T,{version:r,volume:o,onClick:()=>V(void 0,r)},"".concat(o.id,"-v").concat(r))})}):(0,a.jsx)(E.xv,{children:"No previous version"}),(0,a.jsx)(E.Z0,{}),(0,a.jsx)(h.DU,{type:"h7",as:"h2",color:"main0",children:"Update your website"}),(0,a.jsx)(B,{control:W.control})]}),(0,a.jsx)(ey,{children:(0,a.jsx)(I.Z,{variant:"primary",href:p.cr.console.web3Hosting.website.new,children:"Create new website"})})]})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(D.Z,{handleBack:eb}),(0,a.jsx)(P.F,{children:(0,a.jsx)(O,{children:"Loading..."})})]})}WebsiteVolume.displayName="WebsiteVolume",WebsiteENS.displayName="WebsiteENS",ManageWebsite.displayName="ManageWebsite";let T=(0,c.memo)(WebsiteVolume),R=(0,c.memo)(WebsiteENS);var W=(0,c.memo)(ManageWebsite),F=(0,l.ZP)("div")({marginTop:"1.25rem",marginBottom:"1.25rem"}),V=(0,l.ZP)("div")({marginTop:"1.25rem",marginBottom:"1.25rem",display:"flex",flexWrap:"wrap",justifyContent:"space-between",gap:"1rem"}),U=(0,l.ZP)("div")({marginBottom:"1.25rem",display:"flex",flexDirection:"row"}),q=(0,l.ZP)("div")({display:"flex",flexDirection:"row"}),O=(0,l.ZP)(h.Jy)({marginTop:"1rem",marginBottom:"1rem"}),L=(0,l.ZP)("section")({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.5rem",paddingTop:"5rem","@media (min-width: 48rem)":{paddingTop:"2.5rem",paddingBottom:"2.5rem"}}),H=(0,l.ZP)("div")({display:"flex",justifyContent:"space-between",paddingBottom:"1.25rem"}),G=(0,l.ZP)("div")({display:"flex",alignItems:"center"}),Y=(0,l.ZP)(h.JO)({marginRight:"1rem"}),K=(0,l.ZP)(h.__)({marginLeft:"1rem"}),z=(0,l.ZP)("div")({display:"flex",alignItems:"center"}),J=(0,l.ZP)("div")({marginRight:"0.5rem"}),X=(0,l.ZP)("div")({marginLeft:"0.5rem",display:"flex",flexWrap:"wrap",justifyContent:"flex-end",gap:"0.5rem","@media (min-width: 36rem)":{gap:"1rem"}}),$=(0,l.ZP)("div")({display:"flex",alignItems:"center",justifyContent:"flex-start",overflow:"hidden"}),Q=(0,l.ZP)(h.Vp)({marginRight:"1rem",whiteSpace:"nowrap"}),ee=(0,l.ZP)("div")({flex:"1 1 auto"}),et=(0,l.ZP)("div")({display:"flex",flexWrap:"wrap",justifyContent:"space-between",gap:"0.5rem"}),en=(0,l.ZP)("div")({marginTop:"1.25rem",marginBottom:"1.25rem"}),ei=(0,l.ZP)("div")({display:"flex",flexDirection:"row"}),er=(0,l.ZP)("div")({marginBottom:"1.25rem"}),es=(0,l.ZP)(E.xv)({overflowWrap:"break-word"}),eo=(0,l.ZP)(E.xv)({"--tw-text-opacity":"1",color:"rgb(168 85 247 / var(--tw-text-opacity, 1))"}),ea=(0,l.ZP)("div")({marginBottom:"1.25rem"}),el=(0,l.ZP)("div")({display:"flex",flexDirection:"column"}),ec=(0,l.ZP)("span")({marginLeft:"0.5rem",fontStyle:"normal","--tw-text-opacity":"1",color:"rgb(126 34 206 / var(--tw-text-opacity, 1))"}),eu=(0,l.ZP)(E.xv)({marginTop:"0.25rem"}),ed=(0,l.ZP)("span")({marginLeft:"0.5rem",fontStyle:"normal","--tw-text-opacity":"1",color:"rgb(126 34 206 / var(--tw-text-opacity, 1))"}),em=(0,l.ZP)("span")({"--tw-text-opacity":"1",color:"rgb(168 85 247 / var(--tw-text-opacity, 1))"}),ef=(0,l.ZP)("div")({marginTop:"1.25rem",marginBottom:"1.25rem"}),eh=(0,l.ZP)("div")({marginBottom:"1.25rem"}),ep=(0,l.ZP)("div")({marginBottom:"1.25rem",display:"flex",flexDirection:"row"}),eg=(0,l.ZP)("div")({marginBottom:"1.25rem",display:"flex",flexDirection:"row"}),ey=(0,l.ZP)("div").withConfig({displayName:"cmp___StyledDiv20",componentId:"sc-4iox3i-0"})({marginTop:"5rem",textAlign:"center"})},56312:function(e,r,o){"use strict";o.d(r,{F:function(){return t}});var a=o(87536);let s=(e,r,o)=>{if(e&&"reportValidity"in e){let l=(0,a.U2)(o,r);e.setCustomValidity(l&&l.message||""),e.reportValidity()}},resolvers_o=(e,r)=>{for(let o in r.fields){let a=r.fields[o];a&&a.ref&&"reportValidity"in a.ref?s(a.ref,o,e):a.refs&&a.refs.forEach(r=>s(r,o,e))}},resolvers_r=(e,r)=>{r.shouldUseNativeValidation&&resolvers_o(e,r);let o={};for(let l in e){let c=(0,a.U2)(r.fields,l),u=Object.assign(e[l]||{},{ref:c&&c.ref});if(i(r.names||Object.keys(e),l)){let e=Object.assign({},(0,a.U2)(o,l));(0,a.t8)(e,"root",u),(0,a.t8)(o,l,e)}else(0,a.t8)(o,l,u)}return o},i=(e,r)=>e.some(e=>e.startsWith(r+"."));var n=function(e,r){for(var o={};e.length;){var l=e[0],c=l.code,u=l.message,d=l.path.join(".");if(!o[d]){if("unionErrors"in l){var m=l.unionErrors[0].errors[0];o[d]={message:m.message,type:m.code}}else o[d]={message:u,type:c}}if("unionErrors"in l&&l.unionErrors.forEach(function(r){return r.errors.forEach(function(r){return e.push(r)})}),r){var f=o[d].types,h=f&&f[l.code];o[d]=(0,a.KN)(d,r,o,c,h?[].concat(h,l.message):l.message)}e.shift()}return o},t=function(e,r,o){return void 0===o&&(o={}),function(a,l,c){try{return Promise.resolve(function(l,u){try{var d=Promise.resolve(e["sync"===o.mode?"parse":"parseAsync"](a,r)).then(function(e){return c.shouldUseNativeValidation&&resolvers_o({},c),{errors:{},values:o.raw?a:e}})}catch(e){return u(e)}return d&&d.then?d.then(void 0,u):d}(0,function(e){if(Array.isArray(null==e?void 0:e.errors))return{values:{},errors:resolvers_r(n(e.errors,!c.shouldUseNativeValidation&&"all"===c.criteriaMode),c)};throw e}))}catch(e){return Promise.reject(e)}}}}},function(e){e.O(0,[7536,1093,9774,2888,179],function(){return e(e.s=14267)}),_N_E=e.O()}]);