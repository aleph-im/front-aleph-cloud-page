(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7712],{26584:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/console/computing/instance/[hash]",function(){return t(67602)}])},96370:function(e,n,t){"use strict";t.d(n,{u:function(){return useRequestInstances}});var s=t(99978),o=t(77205);function useRequestInstances(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,s.U)();return(0,o.F)({...e,manager:n,name:"instance"})}},67602:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ManageInstance}});var s=t(85893),o=t(57833),i=t(9008),a=t.n(i),l=t(31515),d=t(11163),c=t(67294),u=t(99978),r=t(96370),m=t(98897),h=t(27744),p=t(71251),g=t(62394),x=t(32424),y=t(27917),j=t(69429),f=t(91986),v=t(84427),C=t(85786),w=t(36943),S=t(73635),Z=t(45806),_=t(21204),b=t(1131),D=t(9911),I=t(30425),k=t(25491),M=t(24541),R=t(14215),E=t(88246),K=t(95029);function ManageInstance(){var e,n;let{instance:t,instanceManager:o,name:i,status:V,calculatedStatus:H,isAllocated:N,nodeDetails:O,immutableVolumes:q,persistentVolumes:A,mappedKeys:F,customDomains:T,handleCustomDomainClick:B,paymentData:U,logs:X,handleDownloadLogs:z,isDownloadingLogs:J,stopDisabled:W,stopLoading:G,handleStop:Q,startDisabled:Y,startLoading:$,handleStart:ee,rebootDisabled:en,rebootLoading:et,handleReboot:es,deleteDisabled:eo,deleteLoading:ei,handleDelete:ea,sidePanel:el,handleImmutableVolumeClick:ed,handleSSHKeyClick:ec,closeSidePanel:eu,setTabId:er,sliderActiveIndex:em,handleBack:eh,ports:ep,sshForwardedPort:eg,handlePortsChange:ex}=function(){let e=(0,d.useRouter)(),{hash:n}=e.query,{entities:t}=(0,r.u)({ids:n}),[s]=t||[],o=(0,u.U)(),i=(0,m.a)({entity:s,entityManager:o}),{status:a}=i,{ports:l}=(0,h.P)({entityHash:null==s?void 0:s.id,executableStatus:a}),[g,x]=(0,c.useState)(l);(0,c.useMemo)(()=>{x(l)},[l]);let y=(0,c.useMemo)(()=>(0,p.o9)(g),[g]);return{instance:s,instanceManager:o,ports:g,sshForwardedPort:y,handlePortsChange:e=>{x(e)},...i}}();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a(),{children:[(0,s.jsx)("title",{children:"Console | Manage Instance | Aleph Cloud"}),(0,s.jsx)("meta",{name:"description",content:"Manage your compute instance on Aleph Cloud"})]}),(0,s.jsx)(I.Z,{entity:t,name:i,type:D.py.Instance,isAllocated:N,calculatedStatus:H,showStart:!0,startDisabled:Y,startLoading:$,onStart:ee,showDelete:!0,deleteDisabled:eo,deleteLoading:ei,onDelete:ea,showStop:!0,stopDisabled:W,stopLoading:G,onStop:Q,showReboot:!0,rebootDisabled:en,rebootLoading:et,onReboot:es,onBack:eh}),(0,s.jsxs)(j.i,{activeIndex:em,children:[(0,s.jsx)(j.M,{children:(0,s.jsx)(k.Z,{leftColumnElements:[(0,s.jsx)(v.Z,{entity:t},"instance-details"),(0,s.jsx)(C.V,{onViewLogs:()=>er("log"),onDownloadLogs:z,downloadingLogs:J,disabled:!t||!N},"instance-logs-control"),(0,s.jsx)(b.Z,{sshKeys:F,onSSHKeyClick:ec},"instance-ssh-keys"),(0,s.jsx)(f.Z,{payments:U},"instance-payment")],rightColumnElements:[(0,s.jsx)(_.Z,{nodeDetails:O,termsAndConditionsHash:null==t?void 0:null===(n=t.requirements)||void 0===n?void 0:null===(e=n.node)||void 0===e?void 0:e.terms_and_conditions},"instance-hosting-crn"),(0,s.jsx)(Z.Z,{executableStatus:V,sshForwardedPort:eg},"instance-connection-methods"),q.length&&(0,s.jsx)(S.Z,{linkedVolumes:q,onImmutableVolumeClick:ed},"instance-linked-volumes"),A.length&&(0,s.jsx)(w.Z,{persistentVolumes:A},"instance-persistent-storage"),T.length&&(0,s.jsx)(M.Z,{customDomains:T,onCustomDomainClick:B},"instance-custom-domains"),(0,s.jsx)(E.Z,{entityHash:null==t?void 0:t.id,executableStatus:V,executableManager:o,ports:ep,onPortsChange:ex},"port-forwarding")]})}),(0,s.jsx)(j.M,{children:(0,s.jsxs)(L,{children:[(0,s.jsx)(K.Z,{onClick:()=>er("detail"),children:(0,s.jsx)(l.JO,{name:"angle-left",size:"1.3em"})}),(0,s.jsx)(P,{children:(0,s.jsx)(C.W,{logs:X})})]})})]}),(0,s.jsx)(g.h,{title:"volume"===el.type?"Volume":"sshKey"===el.type?"SSH Key":"Custom Domain",isOpen:el.isOpen,onClose:eu,children:"volume"===el.type?el.selectedVolume&&(0,s.jsx)(y.Z,{volumeId:el.selectedVolume.id}):"sshKey"===el.type?el.selectedSSHKey&&(0,s.jsx)(x.Z,{sshKeyId:el.selectedSSHKey.id}):"domain"===el.type?el.selectedDomain&&(0,s.jsx)(R.Z,{domainId:el.selectedDomain.id}):(0,s.jsx)(s.Fragment,{children:"ERROR"})})]})}var L=(0,o.ZP)("div")({display:"flex",width:"100%",gap:"2rem",paddingLeft:"3rem",paddingRight:"3rem",paddingTop:"1.5rem",paddingBottom:"1.5rem"}),P=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1gq5pee-0"})({display:"flex",width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.75rem"})}},function(e){e.O(0,[7536,1093,8684,4215,4473,1514,9774,2888,179],function(){return e(e.s=26584)}),_N_E=e.O()}]);