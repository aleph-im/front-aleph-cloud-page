(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4143],{6815:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/console/computing/confidential/[hash]",function(){return t(45963)}])},58317:function(e,n,t){"use strict";t.d(n,{Z:function(){return i.Z}});var i=t(62394)},57261:function(e,n,t){"use strict";t.d(n,{G:function(){return useConfidentialManager}});var i=t(9754);function useConfidentialManager(){let[e]=(0,i.mr)(),{confidentialManager:n}=e.manager;return n}},75899:function(e,n,t){"use strict";t.d(n,{x:function(){return useRequestConfidentials}});var i=t(77205),o=t(57261);function useRequestConfidentials(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,o.G)();return(0,i.F)({...e,manager:n,name:"confidential"})}},45963:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ManageConfidential}});var i=t(85893),o=t(57833),s=t(9008),a=t.n(s),l=t(31515),d=t(11163),c=t(67294),r=t(57261),u=t(75899),m=t(98897),f=t(27744),h=t(71251),g=t(30425),p=t(69429),x=t(25491),j=t(84427),y=t(85786),C=t(1131),v=t(91986),Z=t(21204),I=t(45806),S=t(73635),w=t(36943),_=t(24541),b=t(88246),D=t(95029),k=t(58317),M=t(27917),E=t(32424),N=t(14215);function ManageConfidential(){var e,n;let{confidentialInstance:t,confidentialInstanceManager:o,name:s,status:K,calculatedStatus:P,isAllocated:V,nodeDetails:H,immutableVolumes:O,persistentVolumes:A,mappedKeys:F,customDomains:T,handleCustomDomainClick:q,paymentData:G,logs:z,handleDownloadLogs:B,isDownloadingLogs:X,stopDisabled:J,stopLoading:W,handleStop:Q,startDisabled:U,startLoading:Y,handleStart:$,rebootDisabled:ee,rebootLoading:en,handleReboot:et,deleteDisabled:ei,deleteLoading:eo,handleDelete:es,sidePanel:ea,handleImmutableVolumeClick:el,handleSSHKeyClick:ed,closeSidePanel:ec,setTabId:er,sliderActiveIndex:eu,handleBack:em,ports:ef,sshForwardedPort:eh,handlePortsChange:eg}=function(){let e=(0,d.useRouter)(),{hash:n}=e.query,{entities:t}=(0,u.x)({ids:n}),[i]=t||[],o=(0,r.G)(),s=(0,m.a)({entity:i,entityManager:o}),{status:a}=s,{ports:l}=(0,f.P)({entityHash:null==i?void 0:i.id,executableStatus:a}),[g,p]=(0,c.useState)(l);(0,c.useMemo)(()=>{p(l)},[l]);let x=(0,c.useMemo)(()=>(0,h.o9)(g),[g]);return{confidentialInstance:i,confidentialInstanceManager:o,ports:g,sshForwardedPort:x,handlePortsChange:e=>{p(e)},...s}}();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a(),{children:[(0,i.jsx)("title",{children:"Console | Manage Confidential | Aleph Cloud"}),(0,i.jsx)("meta",{name:"description",content:"Manage your compute instance on Aleph Cloud"})]}),(0,i.jsx)(g.Z,{entity:t,name:s,type:"confidential instance",isAllocated:V,calculatedStatus:P,showStart:!0,startDisabled:U,startLoading:Y,onStart:$,showDelete:!0,deleteDisabled:ei,deleteLoading:eo,onDelete:es,showStop:!0,stopDisabled:J,stopLoading:W,onStop:Q,showReboot:!0,rebootDisabled:ee,rebootLoading:en,onReboot:et,onBack:em}),(0,i.jsxs)(p.i,{activeIndex:eu,children:[(0,i.jsx)(p.M,{children:(0,i.jsx)(x.Z,{leftColumnElements:[(0,i.jsx)(j.Z,{entity:t,title:"CONFIDENTIAL INSTANCE"},"confidentialInstance-details"),(0,i.jsx)(y.V,{onViewLogs:()=>er("log"),onDownloadLogs:B,downloadingLogs:X,disabled:!t||!V},"confidentialInstance-logs-control"),(0,i.jsx)(C.Z,{sshKeys:F,onSSHKeyClick:ed},"confidentialInstance-ssh-keys"),(0,i.jsx)(v.Z,{payments:G},"confidentialInstance-payment")],rightColumnElements:[(0,i.jsx)(Z.Z,{nodeDetails:H,termsAndConditionsHash:null==t?void 0:null===(n=t.requirements)||void 0===n?void 0:null===(e=n.node)||void 0===e?void 0:e.terms_and_conditions},"confidentialInstance-hosting-crn"),(0,i.jsx)(I.Z,{executableStatus:K,sshForwardedPort:eh},"confidentialInstance-connection-methods"),O.length&&(0,i.jsx)(S.Z,{linkedVolumes:O,onImmutableVolumeClick:el},"confidentialInstance-linked-volumes"),A.length&&(0,i.jsx)(w.Z,{persistentVolumes:A},"confidentialInstance-persistent-storage"),T.length&&(0,i.jsx)(_.Z,{customDomains:T,onCustomDomainClick:q},"confidentialInstance-custom-domains"),(0,i.jsx)(b.Z,{entityHash:null==t?void 0:t.id,executableStatus:K,executableManager:o,ports:ef,onPortsChange:eg},"port-forwarding")]})}),(0,i.jsx)(p.M,{children:(0,i.jsxs)(L,{children:[(0,i.jsx)(D.Z,{onClick:()=>er("detail"),children:(0,i.jsx)(l.JO,{name:"angle-left",size:"1.3em"})}),(0,i.jsx)(R,{children:(0,i.jsx)(y.W,{logs:z})})]})})]}),(0,i.jsx)(k.Z,{title:"volume"===ea.type?"Volume":"sshKey"===ea.type?"SSH Key":"Custom Domain",isOpen:ea.isOpen,onClose:ec,children:"volume"===ea.type?ea.selectedVolume&&(0,i.jsx)(M.Z,{volumeId:ea.selectedVolume.id}):"sshKey"===ea.type?ea.selectedSSHKey&&(0,i.jsx)(E.Z,{sshKeyId:ea.selectedSSHKey.id}):"domain"===ea.type?ea.selectedDomain&&(0,i.jsx)(N.Z,{domainId:ea.selectedDomain.id}):(0,i.jsx)(i.Fragment,{children:"ERROR"})})]})}var L=(0,o.ZP)("div")({display:"flex",width:"100%",gap:"2rem",paddingLeft:"3rem",paddingRight:"3rem",paddingTop:"1.5rem",paddingBottom:"1.5rem"}),R=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-nxv6z8-0"})({display:"flex",width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.75rem"})}},function(e){e.O(0,[7536,1093,8684,4215,4473,1514,9774,2888,179],function(){return e(e.s=6815)}),_N_E=e.O()}]);