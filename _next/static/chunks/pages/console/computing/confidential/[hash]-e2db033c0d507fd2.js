(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4143],{6815:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/console/computing/confidential/[hash]",function(){return t(45963)}])},58317:function(e,n,t){"use strict";t.d(n,{Z:function(){return o.Z}});var o=t(62394)},57261:function(e,n,t){"use strict";t.d(n,{G:function(){return useConfidentialManager}});var o=t(9754);function useConfidentialManager(){let[e]=(0,o.mr)(),{confidentialManager:n}=e.manager;return n}},75899:function(e,n,t){"use strict";t.d(n,{x:function(){return useRequestConfidentials}});var o=t(77205),s=t(57261);function useRequestConfidentials(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,s.G)();return(0,o.F)({...e,manager:n,name:"confidential"})}},45963:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ManageConfidential}});var o=t(85893),s=t(9008),i=t.n(s),a=t(11163),l=t(67294),d=t(57261),u=t(75899),c=t(98897),r=t(27744),m=t(71251),f=t(30425),h=t(25491),g=t(84427),p=t(85786),x=t(1131),y=t(91986),C=t(21204),j=t(45806),S=t(73635),v=t(36943),Z=t(24541),b=t(88246),w=t(58317),E=t(27917),I=t(32424),_=t(14215);function ManageConfidential(){var e,n;let{confidentialInstance:t,confidentialInstanceManager:s,name:D,status:k,calculatedStatus:M,isAllocated:K,nodeDetails:L,immutableVolumes:R,persistentVolumes:V,mappedKeys:H,customDomains:N,handleCustomDomainClick:P,paymentData:T,logs:A,handleDownloadLogs:O,isDownloadingLogs:q,stopDisabled:F,stopLoading:G,handleStop:X,startDisabled:B,startLoading:W,handleStart:z,rebootDisabled:J,rebootLoading:Q,handleReboot:U,deleteDisabled:Y,deleteLoading:$,handleDelete:ee,sidePanel:en,handleImmutableVolumeClick:et,handleSSHKeyClick:eo,handleViewLogs:es,closeSidePanel:ei,handleBack:ea,ports:el,sshForwardedPort:ed,handlePortsChange:eu}=function(){let e=(0,a.useRouter)(),{hash:n}=e.query,{entities:t}=(0,u.x)({ids:n}),[o]=t||[],s=(0,d.G)(),i=(0,c.a)({entity:o,entityManager:s}),{status:f}=i,{ports:h}=(0,r.P)({entityHash:null==o?void 0:o.id,executableStatus:f}),[g,p]=(0,l.useState)(h);(0,l.useMemo)(()=>{p(h)},[h]);let x=(0,l.useMemo)(()=>(0,m.o9)(g),[g]);return{confidentialInstance:o,confidentialInstanceManager:s,ports:g,sshForwardedPort:x,handlePortsChange:e=>{p(e)},...i}}();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(i(),{children:[(0,o.jsx)("title",{children:"Console | Manage TEE Instance | Aleph Cloud"}),(0,o.jsx)("meta",{name:"description",content:"Manage your compute instance on Aleph Cloud"})]}),(0,o.jsx)(f.Z,{entity:t,name:D,type:"TEE instance",isAllocated:K,calculatedStatus:M,showStart:!0,startDisabled:B,startLoading:W,onStart:z,showDelete:!0,deleteDisabled:Y,deleteLoading:$,onDelete:ee,showStop:!0,stopDisabled:F,stopLoading:G,onStop:X,showReboot:!0,rebootDisabled:J,rebootLoading:Q,onReboot:U,onBack:ea}),(0,o.jsx)(h.Z,{leftColumnElements:[(0,o.jsx)(g.Z,{entity:t,title:"TEE INSTANCE"},"confidentialInstance-details"),(0,o.jsx)(p.V,{onViewLogs:es,onDownloadLogs:O,downloadingLogs:q,disabled:!t||!K},"confidentialInstance-logs-control"),(0,o.jsx)(x.Z,{sshKeys:H,onSSHKeyClick:eo},"confidentialInstance-ssh-keys"),(0,o.jsx)(y.Z,{payments:T},"confidentialInstance-payment")],rightColumnElements:[(0,o.jsx)(C.Z,{nodeDetails:L,termsAndConditionsHash:null==t?void 0:null===(n=t.requirements)||void 0===n?void 0:null===(e=n.node)||void 0===e?void 0:e.terms_and_conditions},"confidentialInstance-hosting-crn"),(0,o.jsx)(j.Z,{executableStatus:k,sshForwardedPort:ed},"confidentialInstance-connection-methods"),R.length&&(0,o.jsx)(S.Z,{linkedVolumes:R,onImmutableVolumeClick:et},"confidentialInstance-linked-volumes"),V.length&&(0,o.jsx)(v.Z,{persistentVolumes:V},"confidentialInstance-persistent-storage"),N.length&&(0,o.jsx)(Z.Z,{customDomains:N,onCustomDomainClick:P},"confidentialInstance-custom-domains"),(0,o.jsx)(b.Z,{entityHash:null==t?void 0:t.id,executableStatus:k,executableManager:s,ports:el,onPortsChange:eu},"port-forwarding")]}),(0,o.jsx)(w.Z,{title:"volume"===en.type?"Volume":"sshKey"===en.type?"SSH Key":"logs"===en.type?"Logs":"Custom Domain",isOpen:en.isOpen,onClose:ei,children:"volume"===en.type?en.selectedVolume&&(0,o.jsx)(E.Z,{volumeId:en.selectedVolume.id}):"sshKey"===en.type?en.selectedSSHKey&&(0,o.jsx)(I.Z,{sshKeyId:en.selectedSSHKey.id}):"domain"===en.type?en.selectedDomain&&(0,o.jsx)(_.Z,{domainId:en.selectedDomain.id}):"logs"===en.type?(0,o.jsx)(p.W,{logs:A}):(0,o.jsx)(o.Fragment,{children:"ERROR"})})]})}}},function(e){e.O(0,[7536,1093,8684,4215,1270,1514,9774,2888,179],function(){return e(e.s=6815)}),_N_E=e.O()}]);