(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4143],{6815:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/console/computing/confidential/[hash]",function(){return t(45963)}])},58317:function(e,n,t){"use strict";t.d(n,{Z:function(){return o.Z}});var o=t(62394)},45963:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ManageConfidential}});var o=t(85893),s=t(9008),i=t.n(s),a=t(11163),l=t(67294),d=t(57261),c=t(75899),u=t(98897),r=t(27744),m=t(71251),h=t(30425),p=t(25491),y=t(84427),g=t(85786),f=t(1131),x=t(91986),j=t(21204),C=t(45806),S=t(73635),w=t(36943),D=t(24541),Z=t(88246),b=t(9911),I=t(58317),v=t(27917),E=t(32424),_=t(14215),k=t(61424);function ManageConfidential(){var e,n;let{confidentialInstance:t,confidentialInstanceManager:s,name:L,status:K,calculatedStatus:M,isAllocated:N,nodeDetails:V,immutableVolumes:H,persistentVolumes:P,mappedKeys:T,customDomains:A,isLoadingCustomDomains:R,handleCustomDomainClick:O,handleAddDomain:F,paymentData:q,logs:X,handleDownloadLogs:B,isDownloadingLogs:G,stopDisabled:W,stopLoading:Y,handleStop:z,startDisabled:J,startLoading:Q,handleStart:U,rebootDisabled:$,rebootLoading:ee,handleReboot:en,deleteDisabled:et,deleteLoading:eo,handleDelete:es,sidePanel:ei,handleImmutableVolumeClick:ea,handleSSHKeyClick:el,handleViewLogs:ed,closeSidePanel:ec,handleBack:eu,ports:er,sshForwardedPort:em,handlePortsChange:eh}=function(){let e=(0,a.useRouter)(),{hash:n}=e.query,{entities:t}=(0,c.x)({ids:n}),[o]=t||[],s=(0,d.G)(),i=(0,u.a)({entity:o,entityManager:s}),{status:h}=i,{ports:p}=(0,r.P)({entityHash:null==o?void 0:o.id,executableStatus:h}),[y,g]=(0,l.useState)(p);(0,l.useMemo)(()=>{g(p)},[p]);let f=(0,l.useMemo)(()=>(0,m.o9)(y),[y]);return{confidentialInstance:o,confidentialInstanceManager:s,ports:y,sshForwardedPort:f,handlePortsChange:e=>{g(e)},...i}}();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(i(),{children:[(0,o.jsx)("title",{children:"Console | Manage TEE Instance | Aleph Cloud"}),(0,o.jsx)("meta",{name:"description",content:"Manage your compute instance on Aleph Cloud"})]}),(0,o.jsx)(h.Z,{entity:t,name:L,type:"TEE instance",isAllocated:N,calculatedStatus:M,showStart:!0,startDisabled:J,startLoading:Q,onStart:U,showDelete:!0,deleteDisabled:et,deleteLoading:eo,onDelete:es,showStop:!0,stopDisabled:W,stopLoading:Y,onStop:z,showReboot:!0,rebootDisabled:$,rebootLoading:ee,onReboot:en,onBack:eu}),(0,o.jsx)(p.Z,{leftColumnElements:[(0,o.jsx)(y.Z,{entity:t,title:"TEE INSTANCE"},"confidentialInstance-details"),(0,o.jsx)(g.V,{onViewLogs:ed,onDownloadLogs:B,downloadingLogs:G,disabled:!t||!N},"confidentialInstance-logs-control"),(0,o.jsx)(f.Z,{sshKeys:T,onSSHKeyClick:el},"confidentialInstance-ssh-keys"),(0,o.jsx)(x.Z,{payments:q},"confidentialInstance-payment")],rightColumnElements:[(0,o.jsx)(j.Z,{nodeDetails:V,termsAndConditionsHash:null==t?void 0:null===(n=t.requirements)||void 0===n?void 0:null===(e=n.node)||void 0===e?void 0:e.terms_and_conditions},"confidentialInstance-hosting-crn"),(0,o.jsx)(C.Z,{executableStatus:K,sshForwardedPort:em},"confidentialInstance-connection-methods"),H.length&&(0,o.jsx)(S.Z,{linkedVolumes:H,onImmutableVolumeClick:ea},"confidentialInstance-linked-volumes"),P.length&&(0,o.jsx)(w.Z,{persistentVolumes:P},"confidentialInstance-persistent-storage"),(0,o.jsx)(D.Z,{isLoadingCustomDomains:R,customDomains:A,onCustomDomainClick:O,onAddDomain:F},"confidentialInstance-custom-domains"),(0,o.jsx)(Z.Z,{entityHash:null==t?void 0:t.id,executableStatus:K,executableManager:s,ports:er,onPortsChange:eh},"port-forwarding")]}),(0,o.jsx)(I.Z,{title:"volume"===ei.type?"Volume":"sshKey"===ei.type?"SSH Key":"logs"===ei.type?"Logs":"newDomain"===ei.type?"New Custom Domain":"Custom Domain",isOpen:ei.isOpen,onClose:ec,children:"volume"===ei.type?ei.selectedVolume&&(0,o.jsx)(v.Z,{volumeId:ei.selectedVolume.id}):"sshKey"===ei.type?ei.selectedSSHKey&&(0,o.jsx)(E.Z,{sshKeyId:ei.selectedSSHKey.id}):"domain"===ei.type?ei.selectedDomain&&(0,o.jsx)(_.Z,{domainId:ei.selectedDomain.id}):"logs"===ei.type?(0,o.jsx)(g.W,{logs:X}):"newDomain"===ei.type?(0,o.jsx)(k.ZP,{entityId:null==t?void 0:t.id,entityType:b.sY.Confidential,onSuccess:ec}):(0,o.jsx)(o.Fragment,{children:"ERROR"})})]})}}},function(e){e.O(0,[7536,1093,8326,1424,4215,1270,1514,9774,2888,179],function(){return e(e.s=6815)}),_N_E=e.O()}]);