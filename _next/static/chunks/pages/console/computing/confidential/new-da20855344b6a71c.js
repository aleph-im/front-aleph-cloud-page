(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[706],{74044:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/console/computing/confidential/new",function(){return t(97599)}])},19584:function(e,n,t){"use strict";var i=t(85893),o=t(19521),a=t(79632);n.Z=e=>{let{handleBack:n}=e;return(0,i.jsx)(a.zx,{kind:"functional",variant:"textOnly",onClick:n,children:(0,i.jsxs)(r,{className:"tp-info text-base2",children:[(0,i.jsx)(a.JO,{name:"arrow-left"})," Back"]})})};var r=(0,o.ZP)("p").withConfig({displayName:"cmp___StyledP",componentId:"sc-1jijf1x-0"})({display:"flex",alignItems:"center",justifyContent:"center",gap:"0.25rem",textAlign:"center"})},93788:function(e,n,t){"use strict";t.d(n,{Z:function(){return BackButtonSection_cmp}});var i=t(85893),o=t(19521),a=t(19584),r=t(99983),BackButtonSection_cmp=e=>{let{handleBack:n}=e;return(0,i.jsx)(s,{children:(0,i.jsx)(r.F,{children:(0,i.jsx)(a.Z,{handleBack:n})})})},s=(0,o.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-o42jnx-0"})({paddingTop:"0px !important",paddingBottom:"0px !important",paddingLeft:"0px",paddingRight:"0px","@media (min-width: 48rem)":{paddingTop:"2.5rem !important"}})},99983:function(e,n,t){"use strict";t.d(n,{F:function(){return r}});var i=t(19521);let o={xl:90,lg:60.0625,md:44.6875},a=i.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-1bpjbi2-0"})(["",""],e=>{let{$variant:n="lg"}=e;return(0,i.iv)([""," max-width:","rem;"],{marginLeft:"auto",marginRight:"auto",width:"100%",paddingLeft:"1.5rem",paddingRight:"1.5rem","@media (min-width: 62rem)":{paddingLeft:"4rem",paddingRight:"4rem"}},o[n])});var r=a},49531:function(e,n,t){"use strict";t.d(n,{N:function(){return r}});var i=t(85893),o=t(67294),a=t(79632);let SectionTitle=e=>(0,i.jsx)(a.NP,{as:"h2",color:"main0",numberColor:"main0",...e});SectionTitle.displayName="SectionTitle";var r=(0,o.memo)(SectionTitle)},93161:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var i=t(85893),o=t(19521),a=t(67294),r=t(79632);let s=o.ZP.a.withConfig({displayName:"styles__StyledExternalLink",componentId:"sc-1kmpaq1-0"})(["",""],e=>{let{theme:n,$color:t="white",$typo:i,$underline:a=!1}=e;return(0,o.iv)(["color:",";text-decoration:",";",""],n.color[t],a?"underline":"none",i?(0,r.pX)(i):"")}),ExternalLink=e=>{let{text:n,href:t,color:o,typo:a,underline:r,...d}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(s,{href:t,target:"_blank",$color:o,$typo:a,$underline:r,...d,children:[n||t,(0,i.jsx)(l,{name:"square-up-right"})]})})};ExternalLink.displayName="ExternalLink";var d=(0,a.memo)(ExternalLink),l=(0,o.ZP)(r.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-mxjtpv-0"})({marginLeft:"0.625rem"})},76696:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var i=t(85893),o=t(19521),a=t(67294),r=t(77541),s=t(79632);let d=o.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-hdgoyh-0"})(["",""],e=>{let{theme:n}=e;return(0,o.iv)([""," ","{color:",";}&:hover ","{color:",";}"],{display:"flex",cursor:"pointer",alignItems:"center"},l,n.color.purple4,l,n.color.main0)}),l=(0,o.ZP)(s.JO).withConfig({displayName:"styles__StyledIcon",componentId:"sc-hdgoyh-1"})(["",""],e=>{let{theme:n}=e;return(0,o.iv)([""," transition-property:color;transition-duration:","ms;transition-timing-function:",";"],{marginLeft:"0.5rem",cursor:"pointer"},n.transition.duration.fast,n.transition.timing)}),IconText=e=>{let{children:n,onClick:t,iconName:o}=e;return(0,i.jsxs)(d,{onClick:t,children:[(0,i.jsx)(m,{children:n}),(0,i.jsx)(p,{name:o,className:"text-purple4"})]})};IconText.displayName="IconText";var c=(0,a.memo)(IconText),m=(0,o.ZP)(r.x).withConfig({displayName:"cmp___StyledText",componentId:"sc-3gm8x3-0"})({wordBreak:"break-all"}),p=(0,o.ZP)(l).withConfig({displayName:"cmp___StyledStyledIcon",componentId:"sc-3gm8x3-1"})({marginLeft:"0.5rem",cursor:"pointer"})},21574:function(e,n,t){"use strict";t.d(n,{Z:function(){return NewEntityTab}});var i=t(85893),o=t(19521),a=t(79632),r=t(11163),s=t.n(r),d=t(67294);function NewEntityTab(e){let{selected:n,handleChange:t}=function(e){let n=(0,d.useCallback)(e=>{s().push("/console/computing/".concat(e,"/new"))},[]);return{...e,handleChange:n}}(e);return(0,i.jsx)(l,{selected:n,onTabChange:t,tabs:[{id:"function",name:"Function"},{id:"instance",name:"Instance"},{id:"gpu-instance",name:"GPU Instance",label:{label:"BETA",position:"top"}},{id:"confidential",name:"Confidential",label:{label:"BETA",position:"top"}}]})}var l=(0,o.ZP)(a.mQ).withConfig({displayName:"cmp___StyledTabs",componentId:"sc-8jx80b-0"})({overflow:"hidden"})},43251:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var i=t(85893),o=t(19521),a=t(67294),r=t(79632);let ResponsiveTooltip=e=>{let n=(0,r._K)("md");return(0,i.jsx)(d,{...e,$_css:n?{position:"fixed !important",left:"0px !important",top:"0px !important",zIndex:"20 !important",margin:"1.5rem",height:"calc(100% - 3rem) !important",width:"calc(100% - 3rem) !important",maxWidth:"100% !important",transform:"none !important"}:""})};ResponsiveTooltip.displayName="ResponsiveTooltip";var s=(0,a.memo)(ResponsiveTooltip),d=(0,o.ZP)(r.u).withConfig({displayName:"cmp___StyledTooltip",componentId:"sc-vdmo8c-0"})(["",""],e=>e.$_css)},77541:function(e,n,t){"use strict";t.d(n,{Z:function(){return a},x:function(){return r}});var i=t(19521),o=t(79632);let a=i.ZP.hr.withConfig({displayName:"common__Separator",componentId:"sc-4t26wy-0"})([""," border:0;border-top:1px solid ",";opacity:0.3;"],{marginTop:"1.25rem",marginBottom:"1.25rem"},e=>{let{theme:n}=e;return n.color.main0}),r=i.ZP.span.attrs((0,o.PT)("tp-body1 text-text")).withConfig({displayName:"common__Text",componentId:"sc-4t26wy-1"})([""])},24959:function(e,n,t){"use strict";t.d(n,{c:function(){return useForm}});var i=t(79632),o=t(67294),a=t(87536),r=t(1604),s=t(50586);function useForm(e){let{onSubmit:n,onSuccess:t,onError:d,readyDeps:l=[],...c}=e,m=(0,a.cI)(c);(0,o.useEffect)(()=>{"object"==typeof c.defaultValues&&m.reset(c.defaultValues)},[...l]);let[p,h]=(0,o.useState)({data:void 0,error:void 0,loading:!1}),[g,{onLoad:u,onSuccess:y,onError:x}]=(0,i.g7)({flushData:!0,state:p,setState:h,onSuccess:t,onError:d}),f=(0,o.useCallback)(async e=>{try{u();let t=await n(e);y(t)}catch(n){let e=n instanceof r.jm?s.Z.ValidationError:(null==n?void 0:n.cause)||n;m.setError("root.serverError",{...e,message:null==e?void 0:e.message}),x(e)}},[m,x,u,n,y]),_=(0,o.useCallback)(async e=>{let n;if(console.log(e),!n){let t=function getFirstError(e){let[n]=Object.entries(e);if(!n)return;let[t,i]=n;if(Array.isArray(i)){let e=i[i.length-1];return getFirstError(e)}return[t,i]}(e);if(t){let[e,i]=t,o="string"==typeof i?i:(null==i?void 0:i.message)?": ".concat(i.message):(null==i?void 0:i.type)?': "'.concat(null==i?void 0:i.type,'" validation not satisfied'):"";n=s.Z.FieldError(e,o)}}n||(n=s.Z.ValidationError),x(n)},[x]),j=(0,o.useMemo)(()=>m.handleSubmit(f,_),[m,f,_]);return{...m,requestState:g,handleSubmit:j}}},97599:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return NewConfidentialPage}});var i=t(85893),o=t(19521),a=t(93788),r=t(99983),s=t(49531),d=t(79632),l=t(93161),c=t(67294);let m=o.ZP.div.attrs(e=>{let{theme:n,$backgroundColor:t,...i}=e;return t?(0,d.PT)(t)(i):"twentysix"===n.name?(0,d.PT)("fx-grain-3")(i):(0,d.PT)("fx-glass-main0")(i)}).withConfig({displayName:"styles__StyledToggleContainer",componentId:"sc-r60x86-0"})(["",""],e=>{let{theme:n,$animation:t=5e4}=e,{borderRadius:i}=n.component.noisyContainer;return(0,o.iv)(["border-radius:","rem;&&::after{","}"],i,t?(0,o.iv)(["animation-duration:","ms;"],t):(0,o.iv)(["animation:none;"]))}),p=o.ZP.div.withConfig({displayName:"styles__StyledToggleBar",componentId:"sc-r60x86-1"})(["",""],{display:"flex",cursor:"pointer",alignItems:"center",justifyContent:"space-between",columnGap:"1.5rem",padding:"1.5rem"}),h=(0,o.ZP)(d.JO).attrs(e=>({...e,name:"angle-down",size:"lg"})).withConfig({displayName:"styles__StyledIcon",componentId:"sc-r60x86-2"})(["",""],e=>{let{theme:n,$isOpen:t}=e;return(0,o.iv)([""," width:1em;background-color:",";color:",";transform:rotate(","deg);transition-property:opacity,visibility,transform;transition-duration:","ms;transition-timing-function:",";"],{cursor:"pointer",padding:"0.25rem"},n.color.text,n.color.base1,t?180:0,n.transition.duration.normal,n.transition.timing)}),ToggleContainer=e=>{let{toggleTitle:n,backgroundColor:t="fx-grain-2",children:o}=e,[a,r]=(0,c.useState)(!1),s=(0,c.useCallback)(()=>r(e=>!e),[r]);return(0,i.jsxs)(m,{$backgroundColor:t,children:[(0,i.jsxs)(p,{onClick:s,children:[n,(0,i.jsx)(h,{$isOpen:a})]}),(0,i.jsx)(d.Gd,{open:a,shouldUnmount:!a,children:(0,i.jsx)(u,{children:o})})]})};ToggleContainer.displayName="ToggleContainer";var g=(0,c.memo)(ToggleContainer),u=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-179hw05-0"})({padding:"1.5rem",paddingTop:"2.5rem"});let y=o.ZP.div.withConfig({displayName:"styles__StyledCodeContainer",componentId:"sc-1jahltv-0"})([""," ",""],{position:"relative",height:"fit-content",borderRadius:"0.75rem",paddingTop:"2rem"},e=>{let{theme:n}=e;return(0,o.iv)(["color:",";background:linear-gradient(91.23deg,#ffffff11 11.38%,#ffffff00 96.5%),linear-gradient(84.86deg,#2260ff0c 65.23%,#1859ff00 99.89%),#141327;"],n.color.white)}),x=o.ZP.div.withConfig({displayName:"styles__StyledCopyCodeContainer",componentId:"sc-1jahltv-1"})(["",""],e=>{let{theme:n}=e;return(0,o.iv)([""," color:",";transition-property:opacity;transition-duration:","ms;transition-timing-function:",";&:hover{","}"],{position:"absolute",right:"0px",top:"0px",zIndex:"10",display:"flex",cursor:"pointer",alignItems:"center",gap:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.25rem",paddingBottom:"0.25rem",opacity:"0.5"},e=>{let{theme:n}=e;return n.color.purple4},n.transition.duration.fast,n.transition.timing,{opacity:"1"})}),f=o.ZP.div.withConfig({displayName:"styles__StyledFileInputContainer",componentId:"sc-1jahltv-2"})(["",""],e=>{let{isEncryptedDiskImagePresent:n}=e;return n?(0,o.iv)(["",""],{display:"flex",flexDirection:"column",alignItems:"center","> :not([hidden]) ~ :not([hidden])":{"--tw-space-y-reverse":"0",marginTop:"calc(2.5rem * calc(1 - var(--tw-space-y-reverse)))",marginBottom:"calc(2.5rem * var(--tw-space-y-reverse))"}}):(0,o.iv)(["",""],{})});var _=t(76696),j=t(28417),w=t(24959),v=t(36286),C=t(11163),I=t(87536),S=t(43251),k=t(21574);function ExternalBulletItemLink(e){let{href:n,title:t}=e;return(0,i.jsxs)(b,{href:n,target:"_blank",children:[(0,i.jsx)(d.vo,{kind:"info",title:t}),(0,i.jsx)(N,{name:"square-up-right"})]})}function CodeBlock(e){let{code:n,language:t}=e,o=(0,d.vx)(n);return(0,i.jsx)(P,{children:(0,i.jsxs)(y,{children:[(0,i.jsxs)(x,{onClick:o,children:[t,(0,i.jsx)(d.JO,{name:"copy",className:"text-purple4"})]}),(0,i.jsx)(T,{children:n})]})})}function NewConfidentialPage(){let{commands:e,encryptedDiskImageFormValues:n,encryptedDiskImageCtrl:t,encryptedDiskImageItemHash:o,disabledUploadEncryptedDiskImage:m,isUploadingFile:p,uploadedFileMessage:h,uploadEncryptedDiskImageButtonRef:u,uploadEncryptedDiskImageButtonToolip:y,handleUploadEncryptedDiskImage:x,handleCopyEncryptedDiskImageHash:b,handleBack:N}=function(){let[e]=(0,j.mr)(),n=(0,C.useRouter)(),t=(0,d.lm)(),{connection:{account:i},manager:{fileManager:o}}=e,[a,r]=(0,c.useState)(!1),[s,l]=(0,c.useState)(),[m,p]=(0,c.useState)(),h=(0,c.useMemo)(()=>!i||!!a,[i,a]),g=(0,c.useMemo)(()=>null==m?void 0:m.item_hash,[m]),u=(0,c.useRef)(null),y=(0,c.useMemo)(()=>{if(h&&!i)return"Connect your wallet"},[h,i]),x=(0,c.useCallback)(async e=>{if(!o)return;i||alert("Connect your wallet");let{encryptedDiskImage:n}=e;if(n)try{r(!0);let e=await o.uploadFile(n,v.qG.ipfs);return l(n),e}catch(e){console.error(e)}finally{r(!1)}},[i,o]),f=(0,c.useCallback)(async e=>{e&&(p(e),null==t||t.add({variant:"success",title:"File uploaded",text:"Encrypted disk image uploaded successfully"}))},[t]),{control:_,handleSubmit:S,reset:k}=(0,w.c)({defaultValues:{},onSubmit:x,onSuccess:f,readyDeps:[]}),b=(0,I.qo)({control:_}),N=(0,I.bc)({control:_,name:"encryptedDiskImage"}),P=(0,d.vx)(g||""),T=(0,c.useMemo)(()=>{let e="aleph instance confidential";return g&&(e+=" \\ \n    --rootfs ".concat(g)),e},[g]);return(0,c.useEffect)(()=>{s&&s===b.encryptedDiskImage&&k()},[s,k,b.encryptedDiskImage]),{commands:{retrieveScriptsCommand:"wget https://raw.githubusercontent.com/aleph-im/aleph-vm/main/examples/example_confidential_image/build_debian_image.sh\nwget https://raw.githubusercontent.com/aleph-im/aleph-vm/main/examples/example_confidential_image/setup_debian_rootfs.sh",fetchBaseImageCommand:"wget https://cloud.debian.org/images/cloud/bookworm/latest/debian-12-genericcloud-amd64.qcow2",mountImageCommand:"sudo mkdir -p /mnt/debian\nsudo guestmount \\\n    --format=qcow2 \\\n    -a ./debian-12-genericcloud-amd64.qcow2 \\\n    -o allow_other \\\n    -i /mnt/debian",copyRootFileSystemCommand:"export ROOT_DIR=./extracted\nmkdir ${ROOT_DIR}\nsudo cp --archive /mnt/debian/* ${ROOT_DIR}",cleanUpMountCommand:"sudo guestunmount /mnt/debian\nsudo rm -r /mnt/debian",createEncryptedDiskCommand:"bash ./build_debian_image.sh \\\n    --rootfs-dir $ROOT_DIR \\\n    -o ~/destination-image.img \\\n    --password your-password",createConfidentialInstanceCommand:T,secureChannelWithInstanceCommand:"aleph instance confidential-init-session <vmhash>",startInstanceCommand:"aleph instance confidential-start <vmhash>"},encryptedDiskImageFormValues:b,encryptedDiskImageCtrl:N,encryptedDiskImageItemHash:g,disabledUploadEncryptedDiskImage:h,isUploadingFile:a,uploadedFileMessage:m,uploadEncryptedDiskImageButtonRef:u,uploadEncryptedDiskImageButtonToolip:y,handleUploadEncryptedDiskImage:S,handleCopyEncryptedDiskImageHash:P,handleBack:()=>{n.push("/console/computing/confidential/")}}}();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.Z,{handleBack:N}),(0,i.jsx)(Z,{children:(0,i.jsx)(r.F,{children:(0,i.jsx)(k.Z,{selected:"confidential"})})}),(0,i.jsx)(B,{children:(0,i.jsx)(r.F,{children:(0,i.jsx)(g,{toggleTitle:(0,i.jsx)(s.N,{number:0,children:"Requirements"}),children:(0,i.jsxs)(z,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(D,{className:"tp-h7",children:"System"}),(0,i.jsx)(d.DY,{size:"regular",gap:"1rem",items:[{kind:"info",title:"Machine running Linux on x86_64"},{kind:"info",title:"Machine with IPv6 connectiviy"}]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(E,{className:"tp-h7",children:"Software"}),(0,i.jsxs)(d.DY,{size:"regular",gap:"1rem",items:[],children:[(0,i.jsx)(ExternalBulletItemLink,{href:"https://docs.aleph.im/tools/aleph-client/",title:"Aleph Client command-line tool"}),(0,i.jsx)(ExternalBulletItemLink,{href:"https://doc.rust-lang.org/cargo/getting-started/installation.html",title:"Rust and Cargo"}),(0,i.jsx)(ExternalBulletItemLink,{href:"https://github.com/virtee/sevctl",title:"Sevctl tool from AMD"}),(0,i.jsx)(ExternalBulletItemLink,{href:"https://www.openssh.com/",title:"OpenSSH keypair"}),(0,i.jsx)(ExternalBulletItemLink,{href:"https://github.com/ipfs/kubo",title:"IPFS Server"}),(0,i.jsx)(ExternalBulletItemLink,{href:"https://command-not-found.com/guestmount",title:"Guestmount"})]})]})]})})})}),(0,i.jsx)(R,{children:(0,i.jsx)(r.F,{children:(0,i.jsx)(g,{toggleTitle:(0,i.jsx)(s.N,{number:1,children:"Create encrypted disk image"}),children:(0,i.jsxs)(L,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(F,{className:"tp-h7",children:"1. Retrieving the scripts"}),(0,i.jsxs)(O,{children:[(0,i.jsx)("strong",{children:"Download"})," the necessary"," ",(0,i.jsx)("strong",{children:"sample scripts"})," from"," ",(0,i.jsx)(l.Z,{href:"https://github.com/aleph-im/aleph-vm/tree/main/examples/example_confidential_image",color:"main0",text:"Aleph VM Examples - Confidential Image"})]}),(0,i.jsx)(CodeBlock,{code:e.retrieveScriptsCommand,language:"bash"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(M,{className:"tp-h7",children:"2. Customizing the VM"}),(0,i.jsxs)(A,{children:["It is ",(0,i.jsx)("strong",{children:"advised"})," to at least add a"," ",(0,i.jsx)("strong",{children:"user with"})," both a ",(0,i.jsx)("strong",{children:"password"})," ","and an ",(0,i.jsx)("strong",{children:"SSH key"})," in the sudo group."]}),(0,i.jsxs)("p",{children:["You can ",(0,i.jsx)("strong",{children:"customize your VM"})," by modifying the"," ",(0,i.jsx)("strong",{children:"setup_debian_rootfs.sh"})," script. This script is executed within the VM's chroot environment, allowing you to tailor the system according to your needs."]}),(0,i.jsx)("p",{children:"This allows you to:"}),(0,i.jsxs)(V,{children:[(0,i.jsx)(d.DY,{size:"regular",gap:"0.5rem",items:[{kind:"info",title:"Add a user."},{kind:"info",title:"Install an SSH key."}]}),(0,i.jsx)(d.DY,{size:"regular",gap:"0.5rem",items:[{kind:"info",title:"Install additional software."},{kind:"info",title:"Modify the default configuration."}]})]}),(0,i.jsxs)("p",{children:["Simply add your custom instructions at the end of the"," ",(0,i.jsx)("strong",{children:"setup_debian_rootfs.sh"})," script."]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(U,{className:"tp-h7",children:"3. Fetching a base image"}),(0,i.jsxs)($,{children:["It is ",(0,i.jsx)("strong",{children:"recommended"})," to start from the"," ",(0,i.jsx)("strong",{children:"genericcloud image"}),", as it contain cloud-init, which is used to setup the network when launching the VM."]}),(0,i.jsx)(CodeBlock,{code:e.fetchBaseImageCommand,language:"bash"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(q,{className:"tp-h7",children:"4. Extract the root filesystem"}),(0,i.jsxs)(J,{children:["To do so, we simply need to ",(0,i.jsx)("strong",{children:"mount"})," the"," ",(0,i.jsx)("strong",{children:"raw image"})," with ",(0,i.jsx)("strong",{children:"guestmount"}),"."]}),(0,i.jsx)(CodeBlock,{code:e.mountImageCommand,language:"bash"}),(0,i.jsxs)(G,{children:["Then, you can simply ",(0,i.jsx)("strong",{children:"copy"})," the"," ",(0,i.jsx)("strong",{children:"root file system"})," to any directory."]}),(0,i.jsx)(W,{children:"Take caution to preserve the proper permission like the setuid bit with the --archive option."}),(0,i.jsx)(CodeBlock,{code:e.copyRootFileSystemCommand,language:"bash"}),(0,i.jsxs)(H,{children:["Then, ",(0,i.jsx)("strong",{children:"clean"})," up the ",(0,i.jsx)("strong",{children:"mount"}),":"]}),(0,i.jsx)(CodeBlock,{code:e.cleanUpMountCommand,language:"bash"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(Y,{className:"tp-h7",children:"5. Create the encrypted disk"}),(0,i.jsxs)("p",{children:["Run the ",(0,i.jsx)("strong",{children:"build_debian_image.sh"})," that will"," ",(0,i.jsx)("strong",{children:"create"})," the image with the"," ",(0,i.jsx)("strong",{children:"encrypted disk"})]}),(0,i.jsxs)(X,{children:["The ",(0,i.jsx)("strong",{children:"password option"})," is the"," ",(0,i.jsx)("strong",{children:"secret password key"}),", with which the"," ",(0,i.jsx)("strong",{children:"disk will be encrypted"}),", you will need to pass it to launch the VM."]}),(0,i.jsx)(CodeBlock,{code:e.createEncryptedDiskCommand,language:"bash"})]})]})})})}),(0,i.jsx)(K,{children:(0,i.jsx)(r.F,{children:(0,i.jsx)(g,{toggleTitle:(0,i.jsx)(s.N,{number:2,children:"Upload encrypted disk image"}),children:(0,i.jsxs)(Q,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Upload"})," your encrypted disk image created in"," ",(0,i.jsx)("strong",{children:"Step 1: Create encrypted disk image"})]}),(0,i.jsxs)(f,{isEncryptedDiskImagePresent:!!n.encryptedDiskImage,children:[(0,i.jsx)(d.S2,{...t.field,...t.fieldState}),n.encryptedDiskImage&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{ref:u,children:(0,i.jsx)(d.zx,{disabled:m,type:"submit",onClick:x,animation:"icon-to-top-on-hover",children:p?(0,i.jsxs)(i.Fragment,{children:["Uploading ",(0,i.jsx)(ee,{name:"spinner"})]}):(0,i.jsxs)(i.Fragment,{children:["Upload",(0,i.jsx)(d.JO,{name:"arrow-up"})]})})}),m&&(0,i.jsx)(S.Z,{my:"bottom-left",at:"top-right",targetRef:u,content:y})]})]}),h&&(0,i.jsxs)("div",{children:[(0,i.jsx)(en,{className:"tp-h7",children:"Uploaded encrypted disk image"}),(0,i.jsx)("div",{className:"tp-info text-main0",children:"MESSAGE ITEM HASH"}),(0,i.jsx)(_.Z,{iconName:"copy",onClick:b,children:o})]})]})})})}),(0,i.jsx)(et,{children:(0,i.jsx)(r.F,{children:(0,i.jsx)(g,{toggleTitle:(0,i.jsx)(s.N,{number:3,children:"Create Confidential Instance"}),children:(0,i.jsx)(ei,{children:(0,i.jsxs)("div",{children:[(0,i.jsxs)(eo,{children:["This command will ask you about how much ",(0,i.jsx)("strong",{children:"CPU"}),","," ",(0,i.jsx)("strong",{children:"RAM"})," and ",(0,i.jsx)("strong",{children:"Disk"})," you want to use and on which ",(0,i.jsx)("strong",{children:"node (CRN)"})," to deploy it."]}),(0,i.jsx)(CodeBlock,{code:e.createConfidentialInstanceCommand,language:"bash"}),(0,i.jsxs)(ea,{children:["This command handles instance creation, secure channel setup, and VM initialization all at once. To run the three steps separately"," ",(0,i.jsx)(l.Z,{href:"https://docs.aleph.im/computing/confidential/instance/",color:"main0",text:"check the docs"})]})]})})})})}),(0,i.jsx)(er,{children:(0,i.jsx)(es,{children:(0,i.jsxs)(d.zx,{as:"a",href:"/computing/confidential",animation:"icon-to-right-on-hover",children:["Check your Confidentials ",(0,i.jsx)(d.JO,{name:"arrow-right"})]})})})]})}var b=(0,o.ZP)("a").withConfig({displayName:"cmp___StyledA",componentId:"sc-12n0yzd-0"})({display:"flex",alignItems:"flex-end",gap:"0.5rem"}),N=(0,o.ZP)(d.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-12n0yzd-1"})({paddingBottom:"0.375rem"}),P=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-12n0yzd-2"})({minWidth:"10rem",maxWidth:"100%"}),T=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-12n0yzd-3"})({overflow:"auto",whiteSpace:"pre",borderBottomRightRadius:"0.75rem",borderBottomLeftRadius:"0.75rem",paddingLeft:"1.25rem",paddingRight:"1.25rem",paddingBottom:"2rem"}),Z=(0,o.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-12n0yzd-4"})({paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",paddingBottom:"0px","@media (min-width: 48rem)":{paddingTop:"2rem",paddingBottom:"2rem"}}),B=(0,o.ZP)("section").withConfig({displayName:"cmp___StyledSection2",componentId:"sc-12n0yzd-5"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.25rem",paddingTop:"5rem","@media (min-width: 48rem)":{paddingTop:"2.5rem"}}),z=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-12n0yzd-6"})({display:"flex",flexWrap:"wrap",columnGap:"6rem",rowGap:"1.75rem"}),D=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-12n0yzd-7"})({marginBottom:"0.5rem"}),E=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-12n0yzd-8"})({marginBottom:"0.5rem"}),R=(0,o.ZP)("section").withConfig({displayName:"cmp___StyledSection3",componentId:"sc-12n0yzd-9"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.25rem",paddingTop:"0px"}),L=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-12n0yzd-10"})({display:"flex",flexDirection:"column",gap:"1.5rem"}),F=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv7",componentId:"sc-12n0yzd-11"})({marginBottom:"0.5rem"}),O=(0,o.ZP)("p").withConfig({displayName:"cmp___StyledP",componentId:"sc-12n0yzd-12"})({marginBottom:"0.5rem"}),M=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv8",componentId:"sc-12n0yzd-13"})({marginBottom:"0.5rem"}),A=(0,o.ZP)("p").withConfig({displayName:"cmp___StyledP2",componentId:"sc-12n0yzd-14"})({marginBottom:"0.5rem"}),V=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv9",componentId:"sc-12n0yzd-15"})({marginBottom:"1rem",marginTop:"0.5rem",display:"flex",flexWrap:"wrap",gap:"1.5rem"}),U=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv10",componentId:"sc-12n0yzd-16"})({marginBottom:"0.5rem"}),$=(0,o.ZP)("p").withConfig({displayName:"cmp___StyledP3",componentId:"sc-12n0yzd-17"})({marginBottom:"0.5rem"}),q=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv11",componentId:"sc-12n0yzd-18"})({marginBottom:"0.5rem"}),J=(0,o.ZP)("p").withConfig({displayName:"cmp___StyledP4",componentId:"sc-12n0yzd-19"})({marginBottom:"0.5rem"}),G=(0,o.ZP)("p").withConfig({displayName:"cmp___StyledP5",componentId:"sc-12n0yzd-20"})({marginTop:"0.5rem"}),W=(0,o.ZP)("p").withConfig({displayName:"cmp___StyledP6",componentId:"sc-12n0yzd-21"})({marginBottom:"0.5rem"}),H=(0,o.ZP)("p").withConfig({displayName:"cmp___StyledP7",componentId:"sc-12n0yzd-22"})({marginTop:"0.5rem",marginBottom:"0.5rem"}),Y=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv12",componentId:"sc-12n0yzd-23"})({marginBottom:"0.5rem"}),X=(0,o.ZP)("p").withConfig({displayName:"cmp___StyledP8",componentId:"sc-12n0yzd-24"})({marginBottom:"0.5rem"}),K=(0,o.ZP)("section").withConfig({displayName:"cmp___StyledSection4",componentId:"sc-12n0yzd-25"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.25rem",paddingTop:"0px"}),Q=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv13",componentId:"sc-12n0yzd-26"})({display:"flex",flexDirection:"column",gap:"1.5rem"}),ee=(0,o.ZP)(d.JO).withConfig({displayName:"cmp___StyledIcon2",componentId:"sc-12n0yzd-27"})({"@keyframes spin":{to:{transform:"rotate(360deg)"}},animation:"spin 1s linear infinite"}),en=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv14",componentId:"sc-12n0yzd-28"})({marginBottom:"0.5rem"}),et=(0,o.ZP)("section").withConfig({displayName:"cmp___StyledSection5",componentId:"sc-12n0yzd-29"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.25rem",paddingTop:"0px"}),ei=(0,o.ZP)("div").withConfig({displayName:"cmp___StyledDiv15",componentId:"sc-12n0yzd-30"})({display:"flex",flexDirection:"column",gap:"1.5rem"}),eo=(0,o.ZP)("p").withConfig({displayName:"cmp___StyledP9",componentId:"sc-12n0yzd-31"})({marginBottom:"0.5rem"}),ea=(0,o.ZP)("p").withConfig({displayName:"cmp___StyledP10",componentId:"sc-12n0yzd-32"})({marginTop:"0.5rem",fontStyle:"italic"}),er=(0,o.ZP)("section").withConfig({displayName:"cmp___StyledSection6",componentId:"sc-12n0yzd-33"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"5rem",paddingTop:"1.5rem"}),es=(0,o.ZP)(r.F).withConfig({displayName:"cmp___StyledCenteredContainer",componentId:"sc-12n0yzd-34"})({display:"flex",alignItems:"center",justifyContent:"center",paddingTop:"2rem"})}},function(e){e.O(0,[7536,9774,2888,179],function(){return e(e.s=74044)}),_N_E=e.O()}]);