(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2287],{11746:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/console/computing/gpu-instance/[hash]",function(){return t(14469)}])},58317:function(e,n,t){"use strict";t.d(n,{Z:function(){return s.Z}});var s=t(62394)},78474:function(e,n,t){"use strict";t.d(n,{c:function(){return useGpuInstanceManager}});var s=t(25093);function useGpuInstanceManager(){let[e]=(0,s.mr)(),{gpuInstanceManager:n}=e.manager;return n}},15743:function(e,n,t){"use strict";t.d(n,{m:function(){return useRequestGpuInstances}});var s=t(77205),o=t(78474);function useRequestGpuInstances(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,o.c)();return(0,s.F)({...e,manager:n,name:"gpuInstance"})}},14469:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ManageGpuInstance}});var s=t(85893),o=t(9008),a=t.n(o),i=t(11163),u=t(67294),l=t(78474),c=t(15743),d=t(98897),r=t(27744),m=t(71251),p=t(30425),g=t(25491),h=t(84427),y=t(85786),x=t(1131),I=t(91986),j=t(21204),f=t(45806),C=t(73635),S=t(36943),v=t(24541),w=t(88246),D=t(9911),Z=t(58317),b=t(27917),_=t(32424),k=t(14215),M=t(61424);function ManageGpuInstance(){var e,n;let{gpuInstance:t,gpuInstanceManager:o,name:P,status:E,calculatedStatus:G,isAllocated:L,nodeDetails:K,immutableVolumes:N,persistentVolumes:R,mappedKeys:V,customDomains:H,isLoadingCustomDomains:A,handleCustomDomainClick:O,handleAddDomain:q,paymentData:F,logs:T,handleDownloadLogs:U,isDownloadingLogs:X,stopDisabled:B,stopLoading:W,handleStop:Y,startDisabled:z,startLoading:J,handleStart:Q,rebootDisabled:$,rebootLoading:ee,handleReboot:en,deleteDisabled:et,deleteLoading:es,handleDelete:eo,sidePanel:ea,handleImmutableVolumeClick:ei,handleSSHKeyClick:eu,handleViewLogs:el,closeSidePanel:ec,handleBack:ed,ports:er,sshForwardedPort:em,handlePortsChange:ep}=function(){let e=(0,i.useRouter)(),{hash:n}=e.query,{entities:t}=(0,c.m)({ids:n}),[s]=t||[],o=(0,l.c)(),a=(0,d.a)({entity:s,entityManager:o}),{status:p}=a,{ports:g}=(0,r.P)({entityHash:null==s?void 0:s.id,executableStatus:p}),[h,y]=(0,u.useState)(g);(0,u.useMemo)(()=>{y(g)},[g]);let x=(0,u.useMemo)(()=>(0,m.o9)(h),[h]);return{gpuInstance:s,gpuInstanceManager:o,ports:h,sshForwardedPort:x,handlePortsChange:e=>{y(e)},...a}}();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a(),{children:[(0,s.jsx)("title",{children:"Console | Manage GPU Instance | Aleph Cloud"}),(0,s.jsx)("meta",{name:"description",content:"Manage your compute instance on Aleph Cloud"})]}),(0,s.jsx)(p.Z,{entity:t,name:P,type:"GPU instance",isAllocated:L,calculatedStatus:G,showStart:!0,startDisabled:z,startLoading:J,onStart:Q,showDelete:!0,deleteDisabled:et,deleteLoading:es,onDelete:eo,showStop:!0,stopDisabled:B,stopLoading:W,onStop:Y,showReboot:!0,rebootDisabled:$,rebootLoading:ee,onReboot:en,onBack:ed}),(0,s.jsx)(g.Z,{leftColumnElements:[(0,s.jsx)(h.Z,{entity:t,title:"GPU INSTANCE"},"gpuInstance-details"),(0,s.jsx)(y.V,{onViewLogs:el,onDownloadLogs:U,downloadingLogs:X,disabled:!t||!L},"gpuInstance-logs-control"),(0,s.jsx)(x.Z,{sshKeys:V,onSSHKeyClick:eu},"gpuInstance-ssh-keys"),(0,s.jsx)(I.Z,{payments:F},"gpuInstance-payment")],rightColumnElements:[(0,s.jsx)(j.Z,{nodeDetails:K,termsAndConditionsHash:null==t?void 0:null===(n=t.requirements)||void 0===n?void 0:null===(e=n.node)||void 0===e?void 0:e.terms_and_conditions},"gpuInstance-hosting-crn"),(0,s.jsx)(f.Z,{executableStatus:E,sshForwardedPort:em},"gpuInstance-connection-methods"),N.length&&(0,s.jsx)(C.Z,{linkedVolumes:N,onImmutableVolumeClick:ei},"gpuInstance-linked-volumes"),R.length&&(0,s.jsx)(S.Z,{persistentVolumes:R},"gpuInstance-persistent-storage"),(0,s.jsx)(v.Z,{isLoadingCustomDomains:A,customDomains:H,onCustomDomainClick:O,onAddDomain:q},"gpuInstance-custom-domains"),(0,s.jsx)(w.Z,{entityHash:null==t?void 0:t.id,executableStatus:E,executableManager:o,ports:er,onPortsChange:ep},"port-forwarding")]}),(0,s.jsx)(Z.Z,{title:"volume"===ea.type?"Volume":"sshKey"===ea.type?"SSH Key":"logs"===ea.type?"Logs":"newDomain"===ea.type?"New Custom Domain":"Custom Domain",isOpen:ea.isOpen,onClose:ec,children:"volume"===ea.type?ea.selectedVolume&&(0,s.jsx)(b.Z,{volumeId:ea.selectedVolume.id}):"sshKey"===ea.type?ea.selectedSSHKey&&(0,s.jsx)(_.Z,{sshKeyId:ea.selectedSSHKey.id}):"domain"===ea.type?ea.selectedDomain&&(0,s.jsx)(k.Z,{domainId:ea.selectedDomain.id}):"logs"===ea.type?(0,s.jsx)(y.W,{logs:T}):"newDomain"===ea.type?(0,s.jsx)(M.ZP,{entityId:null==t?void 0:t.id,entityType:D.sY.Instance,onSuccess:ec}):(0,s.jsx)(s.Fragment,{children:"ERROR"})})]})}}},function(e){e.O(0,[7536,1093,8326,1424,4215,1270,1514,9774,2888,179],function(){return e(e.s=11746)}),_N_E=e.O()}]);