(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1988],{21095:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/console/computing/function",function(){return t(71117)}])},94409:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(85893),i=t(57833),a=t(67294),o=t(85661),s=t(93161);let DeprecatedResourceBanner=e=>{let{resourceName:n,createUrl:t}=e;return(0,r.jsxs)(c,{$color:"warning",children:[(0,r.jsxs)("p",{className:"tp-body1 fs-16 text-base2",children:["Creating new ",n.toLowerCase(),"s is now available in the new Credits console."]}),(0,r.jsx)(u,{className:"tp-body1 fs-16 text-base2",children:(0,r.jsx)(d,{href:t,text:"Go to Credits console",color:"main0"})})]})};DeprecatedResourceBanner.displayName="DeprecatedResourceBanner";var l=(0,a.memo)(DeprecatedResourceBanner),c=(0,i.ZP)(o.Z)({marginTop:"2.5rem"}),u=(0,i.ZP)("p")({marginTop:"0.5rem"}),d=(0,i.ZP)(s.Z).withConfig({displayName:"cmp___StyledExternalLink",componentId:"sc-9r7elr-0"})({fontWeight:"700"})},76696:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var r=t(85893),i=t(57833),a=t(67294),o=t(77541),s=t(73899);let l=i.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-hdgoyh-0"})(["",""],e=>{let{theme:n}=e;return(0,i.iv)([""," ","{color:",";}&:hover ","{color:",";}"],{display:"flex",cursor:"pointer",alignItems:"center"},c,n.color.purple4,c,n.color.main0)}),c=(0,i.ZP)(s.JO).withConfig({displayName:"styles__StyledIcon",componentId:"sc-hdgoyh-1"})(["",""],e=>{let{theme:n}=e;return(0,i.iv)([""," transition-property:color;transition-duration:","ms;transition-timing-function:",";"],{marginLeft:"0.5rem",cursor:"pointer"},n.transition.duration.fast,n.transition.timing)}),IconText=e=>{let{children:n,onClick:t,iconName:i}=e;return(0,r.jsxs)(l,{onClick:t,children:[(0,r.jsx)(d,{children:n}),(0,r.jsx)(m,{name:i,className:"text-purple4"})]})};IconText.displayName="IconText";var u=(0,a.memo)(IconText),d=(0,i.ZP)(o.xv)({wordBreak:"break-all"}),m=(0,i.ZP)(c).withConfig({displayName:"cmp___StyledStyledIcon",componentId:"sc-3gm8x3-0"})({marginLeft:"0.5rem",cursor:"pointer"})},77541:function(e,n,t){"use strict";t.d(n,{J3:function(){return s},Z0:function(){return a},xv:function(){return o}});var r=t(57833),i=t(73899);let a=r.ZP.hr.withConfig({displayName:"common__Separator",componentId:"sc-4t26wy-0"})([""," border:0;border-top:1px solid ",";opacity:0.3;"],{marginTop:"1.25rem",marginBottom:"1.25rem"},e=>{let{theme:n}=e;return n.color.main0}),o=r.ZP.span.attrs((0,i.PT)("tp-body1 text-text")).withConfig({displayName:"common__Text",componentId:"sc-4t26wy-1"})([""]),s=r.ZP.span.attrs((0,i.PT)("tp-body1 text-disabled")).withConfig({displayName:"common__DisabledText",componentId:"sc-4t26wy-2"})([""])},35489:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var r=t(85893),i=t(57833),a=t(67294),o=t(11163),s=t(34517),l=t(67102),c=t(73899),u=t(76696),d=t(77541),m=t(9911),g=t(75899),f=t(16368),p=t(96370);let useDomainsEntityNames=e=>{let{confidentialRefs:n,programRefs:t,instanceRefs:r}=(0,a.useMemo)(()=>{let n=[],t=[],r=[];return e.forEach(e=>{switch(e.target){case m.sY.Confidential:n.push(e.ref);break;case m.sY.Program:t.push(e.ref);break;case m.sY.Instance:r.push(e.ref)}}),{confidentialRefs:Array.from(new Set(n)),programRefs:Array.from(new Set(t)),instanceRefs:Array.from(new Set(r))}},[e]),{entities:i}=(0,g.x)({ids:n.length>0?n:void 0}),{entities:o}=(0,f.n)({ids:t.length>0?t:void 0}),{entities:s}=(0,p.u)({ids:r.length>0?r:void 0});return(0,a.useMemo)(()=>{let e=new Map;return null==i||i.forEach(n=>{n.name&&e.set(n.id,n.name)}),null==o||o.forEach(n=>{n.name&&e.set(n.id,n.name)}),null==s||s.forEach(n=>{n.name&&e.set(n.id,n.name)}),e},[i,o,s])};var h=t(80380);let DomainsTabContent=e=>{let{data:n,cta:t=!0}=e,i=(0,o.useRouter)(),d=(0,a.useCallback)(e=>{i.push(m.cr.console.domain.detail(e.id))},[i]),g=useDomainsEntityNames(n),f=function(e){let[n,t]=(0,a.useState)(new Map),r=(0,h.A)();return(0,a.useEffect)(()=>{if(!r||!e.length)return;async function request(){if(!r)return;let n=await Promise.allSettled(e.map(e=>r.checkStatus(e))),i=new Map;e.forEach((e,t)=>{let r=n[t];"fulfilled"===r.status&&i.set(e.id,r.value)}),t(i)}request();let n=setInterval(request,3e4);return()=>clearInterval(n)},[e,r]),n}(n),[p,x]=(0,a.useState)(0),P=Math.ceil(n.length/10),Z=(0,a.useMemo)(()=>n.slice(10*p,(p+1)*10),[n,p]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v,{children:(0,r.jsx)(l.Z,{borderType:"none",rowNoise:!0,rowKey:e=>e.id,data:Z,rowProps:e=>({onClick:()=>d(e),css:e.confirmed?"":{opacity:"0.6"}}),clickableRows:!0,columns:[{label:"Name",width:"50%",sortable:!0,render:e=>{let n=f.get(e.id);return(0,r.jsxs)(b,{children:[(0,r.jsx)(c.vo,{kind:void 0===n?"warning":n.status?"success":"warning",title:""}),(0,r.jsx)("a",{href:"https://".concat(e.name),target:"_blank",referrerPolicy:"no-referrer",children:(0,r.jsx)(u.Z,{iconName:"square-up-right",children:(0,r.jsx)(y,{children:e.name})})})]})}},{label:"Target",sortable:!0,render:e=>m.Ni[e.target]},{label:"Ref",width:"50%",sortable:!0,render:e=>{var n;return e.target===m.sY.IPFS?e.ref:null!==(n=g.get(e.ref))&&void 0!==n?n:e.ref},cellProps:()=>({css:{maxWidth:"0px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",paddingLeft:"0.75rem !important",paddingRight:"0.75rem !important"}})},{label:"",align:"right",render:e=>(0,r.jsx)(c.zx,{kind:"functional",variant:"secondary",onClick:()=>d(e),children:(0,r.jsx)(c.JO,{name:"angle-right",size:"lg"})}),cellProps:()=>({css:{paddingLeft:"0.75rem !important"}})}]})}),P>1&&(0,r.jsxs)(w,{children:[(0,r.jsx)(c.zx,{kind:"functional",variant:"secondary",size:"md",disabled:0===p,onClick:()=>x(e=>e-1),children:(0,r.jsx)(c.JO,{name:"angle-left",size:"lg"})}),(0,r.jsxs)("span",{className:"tp-body2",children:[p+1," / ",P]}),(0,r.jsx)(c.zx,{kind:"functional",variant:"secondary",size:"md",disabled:p>=P-1,onClick:()=>x(e=>e+1),children:(0,r.jsx)(c.JO,{name:"angle-right",size:"lg"})})]}),t&&(0,r.jsx)(j,{children:(0,r.jsxs)(s.Z,{variant:"primary",href:m.cr.console.domain.new,children:[(0,r.jsx)(C,{name:"plus-circle",size:"lg"})," Create new domain"]})})]})};DomainsTabContent.displayName="DomainsTabContent";var x=(0,a.memo)(DomainsTabContent),v=(0,i.ZP)("div")({maxWidth:"100%",overflow:"auto"}),b=(0,i.ZP)("div")({display:"flex",alignItems:"center",gap:"0.5rem"}),y=(0,i.ZP)(d.xv)({fontWeight:"700 !important",fontStyle:"normal !important"}),w=(0,i.ZP)("div")({marginTop:"1.5rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem"}),j=(0,i.ZP)("div")({marginTop:"2.5rem",textAlign:"center"}),C=(0,i.ZP)(c.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-1xb06my-0"})({marginRight:"0.25rem"})},66367:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var r=t(85893),i=t(57833),a=t(67294),o=t(11163),s=t(14685),l=t(67102),c=t(73899),u=t(9911),d=t(94409);let VolumesTabContent=e=>{let{data:n,cta:t=!0}=e,i=(0,o.useRouter)(),m=(0,a.useCallback)(e=>{i.push("".concat(u.cr.console.storage.volumes.home,"/").concat(e.id))},[i]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g,{children:(0,r.jsx)(l.Z,{borderType:"none",rowNoise:!0,rowKey:e=>e.id,data:n,rowProps:e=>({onClick:()=>m(e),css:e.confirmed?"":{opacity:"0.6"}}),clickableRows:!0,columns:[{label:"Name",width:"100%",sortable:!0,render:e=>(0,s.zN)(e.id||"")},{label:"Size",align:"right",sortable:!0,render:e=>(0,s.eB)(e.size||0,"MiB")},{label:"Date",align:"right",sortable:!0,render:e=>e.date},{label:"",align:"right",render:e=>(0,r.jsx)(c.zx,{kind:"functional",variant:"secondary",onClick:()=>m(e),children:(0,r.jsx)(c.JO,{name:"angle-right",size:"lg"})}),cellProps:()=>({css:{paddingLeft:"0.75rem !important"}})}]})}),t&&(0,r.jsx)(d.Z,{resourceName:"Volume",createUrl:u.cr.creditConsole.storage.volumes.new})]})};VolumesTabContent.displayName="VolumesTabContent";var m=(0,a.memo)(VolumesTabContent),g=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-11adbwz-0"})({maxWidth:"100%",overflow:"auto"})},57261:function(e,n,t){"use strict";t.d(n,{G:function(){return useConfidentialManager}});var r=t(25093);function useConfidentialManager(){let[e]=(0,r.mr)(),{confidentialManager:n}=e.manager;return n}},80380:function(e,n,t){"use strict";t.d(n,{A:function(){return useDomainManager}});var r=t(25093);function useDomainManager(){let[e]=(0,r.mr)(),{domainManager:n}=e.manager;return n}},99978:function(e,n,t){"use strict";t.d(n,{U:function(){return useInstanceManager}});var r=t(25093);function useInstanceManager(){let[e]=(0,r.mr)(),{instanceManager:n}=e.manager;return n}},33223:function(e,n,t){"use strict";t.d(n,{k:function(){return useProgramManager}});var r=t(25093);function useProgramManager(){let[e]=(0,r.mr)(),{programManager:n}=e.manager;return n}},90805:function(e,n,t){"use strict";t.d(n,{B:function(){return useVolumeManager}});var r=t(25093);function useVolumeManager(){let[e]=(0,r.mr)(),{volumeManager:n}=e.manager;return n}},26250:function(e,n,t){"use strict";t.d(n,{J:function(){return useProgramsVolumesIds}});var r=t(67294),i=t(25093);function useProgramsVolumesIds(){let[e,n]=(0,r.useState)([]),[t]=(0,i.mr)(),a=t.program.entities;return(0,r.useMemo)(()=>{if(!a)return n([]);n(a.flatMap(e=>{let n=e.code.ref,t=e.runtime.ref,r=e.volumes.filter(e=>"ref"in e).map(e=>e.ref);return[n,t,...r]}))},[a]),e}},75899:function(e,n,t){"use strict";t.d(n,{x:function(){return useRequestConfidentials}});var r=t(77205),i=t(57261);function useRequestConfidentials(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,i.G)();return(0,r.F)({...e,manager:n,name:"confidential"})}},36924:function(e,n,t){"use strict";t.d(n,{d:function(){return useRequestDomains}});var r=t(80380),i=t(77205);function useRequestDomains(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,r.A)();return(0,i.F)({...e,manager:n,name:"domain"})}},96370:function(e,n,t){"use strict";t.d(n,{u:function(){return useRequestInstances}});var r=t(99978),i=t(77205);function useRequestInstances(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,r.U)();return(0,i.F)({...e,manager:n,name:"instance"})}},16368:function(e,n,t){"use strict";t.d(n,{n:function(){return useRequestPrograms}});var r=t(33223),i=t(77205);function useRequestPrograms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,r.k)();return(0,i.F)({...e,manager:n,name:"program"})}},71117:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return k}});var r=t(85893),i=t(57833),a=t(67294),o=t(9008),s=t.n(o),l=t(73899),c=t(99983),u=t(16368),d=t(90805),m=t(77205),g=t(26250),f=t(36924),p=t(25093);function getLabel(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e.length>0?"(".concat(e.length,")"):"";return"".concat(n?"BETA ":"").concat(t)}var h=t(18585),x=t(11163),v=t(34517),b=t(14685),y=t(67102),w=t(9911);let j=a.memo(e=>{let{data:n}=e,t=(0,x.useRouter)(),i=(0,a.useCallback)(e=>{t.push("".concat(w.cr.console.computing.functions.home,"/").concat(e.id))},[t]);return(0,r.jsx)(r.Fragment,{children:n.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C,{children:(0,r.jsx)(y.Z,{borderType:"none",rowNoise:!0,rowKey:e=>e.id,data:n,rowProps:e=>({onClick:()=>i(e),css:e.confirmed?"":{opacity:"0.6"}}),clickableRows:!0,columns:[{label:"Name",width:"100%",sortable:!0,render:e=>{var n;return(0,r.jsx)(r.Fragment,{children:(null==e?void 0:null===(n=e.metadata)||void 0===n?void 0:n.name)||(0,b.zN)(e.id)})}},{label:"Cores",align:"right",sortable:!0,render:e=>{var n;return(null==e?void 0:null===(n=e.resources)||void 0===n?void 0:n.vcpus)||0}},{label:"RAM",align:"right",sortable:!0,render:e=>{var n;return(0,b.Fx)((null==e?void 0:null===(n=e.resources)||void 0===n?void 0:n.memory)||0,{from:"MiB",to:"GiB",displayUnit:!0})}},{label:"Volume",align:"right",sortable:!0,render:e=>(0,r.jsx)(v.Z,{kind:"functional",variant:"none",size:"sm",href:e.refUrl,children:(0,r.jsx)(l.JO,{name:"file-code",size:"lg"})})},{label:"Date",align:"right",sortable:!0,render:e=>e.date},{label:"",align:"right",render:e=>(0,r.jsx)(l.zx,{kind:"functional",variant:"secondary",onClick:()=>i(e),children:(0,r.jsx)(l.JO,{name:"angle-right",size:"lg"})}),cellProps:()=>({css:{paddingLeft:"0.75rem !important"}})}]})}),(0,r.jsx)(P,{children:(0,r.jsx)(v.Z,{variant:"primary",href:w.cr.console.computing.functions.new,children:"Create function"})})]}):(0,r.jsx)(Z,{children:(0,r.jsx)(v.Z,{variant:"primary",href:w.cr.console.computing.functions.new,children:"Create your first function"})})})});j.displayName="FunctionsTabContent";var C=(0,i.ZP)("div")({maxWidth:"100%",overflow:"auto"}),P=(0,i.ZP)("div")({marginTop:"5rem",textAlign:"center"}),Z=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1pqsf7-0"})({marginTop:"2.5rem",textAlign:"center"}),_=t(66367),N=t(35489),T=t(78823),k=(0,a.memo)(function(){let{tabs:e,tabId:n,setTabId:t,programs:i,volumes:o,domains:x}=function(){let{entities:e=[]}=(0,u.n)(),{entities:n=[]}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,g.J)(),t=(0,d.B)();return(0,m.F)({...e,manager:t,name:"programVolume",ids:n})}(),{entities:t=[]}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[n]=(0,p.mr)(),t=n.program.entities,{entities:r,loading:i}=(0,f.d)(e),o=(0,a.useMemo)(()=>{if(!t||!r)return[];let e=t.reduce((e,n)=>(e[n.id]=n,e),{});return r.filter(n=>!!e[n.ref])},[r,t]);return{entities:o,loading:i}}(),[r,i]=(0,a.useState)("program"),o=(0,a.useMemo)(()=>[{id:"program",name:"Functions",label:{label:getLabel(e),position:"bottom"}},{id:"volume",name:"Attached Volumes",label:{label:getLabel(n),position:"bottom"},disabled:!n.length},{id:"domain",name:"Linked Domains",label:{label:getLabel(t),position:"bottom"},disabled:!t.length}],[t,e,n]);return{programs:e,volumes:n,domains:t,tabs:o,tabId:r,setTabId:i}}();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s(),{children:[(0,r.jsx)("title",{children:"Console | Functions | Aleph Cloud"}),(0,r.jsx)("meta",{name:"description",content:"Manage your serverless functions on Aleph Cloud"})]}),(0,r.jsx)(I,{$variant:"xl",children:(0,r.jsx)(l.mQ,{selected:n,tabs:e,onTabChange:t})}),(0,r.jsx)("div",{role:"tabpanel",children:"program"===n?(0,r.jsxs)(r.Fragment,{children:[!!(null==i?void 0:i.length)&&(0,r.jsx)(F,{$variant:"xl",children:(0,r.jsx)(j,{data:i})}),(0,r.jsx)(T.Z,{imageSrc:"/img/dashboard/function.svg",imageAlt:"Function illustration",info:"WHAT ARE...",title:"Functions",description:"Deploy and manage serverless functions effortlessly with our robust computing platform. Run code on-demand or persistently, with seamless integration and scalability.",withButton:(null==i?void 0:i.length)===0,buttonUrl:"/console/computing/function/new",buttonText:"Create function",externalLinkUrl:w.cr.docs.functions})]}):"volume"===n?(0,r.jsx)(r.Fragment,{children:!!(null==o?void 0:o.length)&&(0,r.jsx)(R,{$variant:"xl",children:(0,r.jsx)(_.Z,{data:o,cta:!1})})}):"domain"===n?(0,r.jsx)(r.Fragment,{children:!!(null==x?void 0:x.length)&&(0,r.jsx)(M,{$variant:"xl",children:(0,r.jsx)(N.Z,{data:x,cta:!1})})}):(0,r.jsx)(r.Fragment,{})}),(0,r.jsx)(c.F,{$variant:"xl",children:(0,r.jsx)(h.Z,{})})]})}),I=(0,i.ZP)(c.F)({marginTop:"2.5rem",marginBottom:"2.5rem"}),F=(0,i.ZP)(c.F)({marginTop:"2.5rem",marginBottom:"2.5rem"}),R=(0,i.ZP)(c.F)({marginTop:"2.5rem",marginBottom:"2.5rem"}),M=(0,i.ZP)(c.F).withConfig({displayName:"cmp___StyledCenteredContainer4",componentId:"sc-2ggu9e-0"})({marginTop:"2.5rem",marginBottom:"2.5rem"})}},function(e){e.O(0,[3339,9774,2888,179],function(){return e(e.s=21095)}),_N_E=e.O()}]);