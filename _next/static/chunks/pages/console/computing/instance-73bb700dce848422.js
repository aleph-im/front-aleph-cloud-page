(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1498],{78073:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/console/computing/instance",function(){return t(54842)}])},93161:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(85893),i=t(57833),a=t(67294),o=t(73899);let l=i.ZP.a.withConfig({displayName:"styles__StyledExternalLink",componentId:"sc-1kmpaq1-0"})(["",""],e=>{let{theme:n,$color:t="white",$typo:r,$underline:a=!1}=e;return(0,i.iv)(["color:",";text-decoration:",";",""],n.color[t],a?"underline":"none",r?(0,o.pX)(r):"")}),ExternalLink=e=>{let{text:n,href:t,color:i,typo:a,underline:o,...s}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(l,{href:t,target:"_blank",$color:i,$typo:a,$underline:o,...s,children:[n||t,(0,r.jsx)(c,{name:"square-up-right"})]})})};ExternalLink.displayName="ExternalLink";var s=(0,a.memo)(ExternalLink),c=(0,i.ZP)(o.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-mxjtpv-0"})({marginLeft:"0.625rem"})},66367:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var r=t(85893),i=t(57833),a=t(67294),o=t(11163),l=t(34517),s=t(14685),c=t(67102),d=t(73899),m=t(9911);let VolumesTabContent=e=>{let{data:n,cta:t=!0}=e,i=(0,o.useRouter)(),u=(0,a.useCallback)(e=>{i.push("".concat(m.cr.console.storage.volumes.home,"/").concat(e.id))},[i]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g,{children:(0,r.jsx)(c.Z,{borderType:"none",rowNoise:!0,rowKey:e=>e.id,data:n,rowProps:e=>({onClick:()=>u(e),css:e.confirmed?"":{opacity:"0.6"}}),clickableRows:!0,columns:[{label:"Name",width:"100%",sortable:!0,render:e=>(0,s.zN)(e.id||"")},{label:"Size",align:"right",sortable:!0,render:e=>(0,s.eB)(e.size||0,"MiB")},{label:"Date",align:"right",sortable:!0,render:e=>e.date},{label:"",align:"right",render:e=>(0,r.jsx)(d.zx,{kind:"functional",variant:"secondary",onClick:()=>u(e),children:(0,r.jsx)(d.JO,{name:"angle-right",size:"lg"})}),cellProps:()=>({css:{paddingLeft:"0.75rem !important"}})}]})}),t&&(0,r.jsx)(h,{children:(0,r.jsxs)(l.Z,{variant:"primary",href:m.cr.console.storage.volumes.new,children:[(0,r.jsx)(p,{name:"plus-circle",size:"lg"})," Create new volume"]})})]})};VolumesTabContent.displayName="VolumesTabContent";var u=(0,a.memo)(VolumesTabContent),g=(0,i.ZP)("div")({maxWidth:"100%",overflow:"auto"}),h=(0,i.ZP)("div")({marginTop:"2.5rem",textAlign:"center"}),p=(0,i.ZP)(d.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-11adbwz-0"})({marginRight:"0.25rem"})},90805:function(e,n,t){"use strict";t.d(n,{B:function(){return useVolumeManager}});var r=t(9754);function useVolumeManager(){let[e]=(0,r.mr)(),{volumeManager:n}=e.manager;return n}},54842:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return InstanceDashboardPage}});var r=t(85893),i=t(57833),a=t(67294),o=t(9008),l=t.n(o),s=t(73899),c=t(99983),d=t(96370),m=t(9754),u=t(90805),g=t(77205),h=t(36924);function getLabel(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e.length>0?"(".concat(e.length,")"):"";return"".concat(n?"BETA ":"").concat(t)}var p=t(18585),x=t(11163),v=t(60566),b=t(34517),f=t(14685),j=t(67102),w=t(93161),y=t(9911);let C=a.memo(e=>{let{data:n}=e,t=(0,x.useRouter)(),i=(0,a.useCallback)(e=>{var n;return(null===(n=e.payment)||void 0===n?void 0:n.type)!==v.uG.credit},[]),o=(0,a.useCallback)(e=>{i(e)&&t.push("/console/computing/instance/".concat(e.id))},[i,t]);return(0,r.jsx)(r.Fragment,{children:n.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_,{children:(0,r.jsx)(j.Z,{borderType:"none",rowNoise:!0,rowKey:e=>e.id,rowProps:e=>({css:i(e)?"":{cursor:"not-allowed !important",opacity:"0.4"},onClick:()=>o(e)}),rowTooltip:e=>i(e)?null:(0,r.jsxs)("p",{children:["To manage this instance, go to the"," ",(0,r.jsx)(w.Z,{text:"Credits console App.",color:"main0",href:y.cr.creditConsole.computing.instances.home})]}),clickableRows:!0,data:n,columns:[{label:"Name",width:"100%",sortable:!0,render:e=>{var n;return(null==e?void 0:null===(n=e.metadata)||void 0===n?void 0:n.name)||(0,f.zN)(e.id)}},{label:"Cores",align:"right",sortable:!0,render:e=>{var n;return(null==e?void 0:null===(n=e.resources)||void 0===n?void 0:n.vcpus)||0}},{label:"RAM",align:"right",sortable:!0,render:e=>{var n;return(0,f.Fx)((null==e?void 0:null===(n=e.resources)||void 0===n?void 0:n.memory)||0,{from:"MiB",to:"GiB",displayUnit:!0})}},{label:"HDD",align:"right",sortable:!0,render:e=>(0,f.eB)(e.size,"MiB")},{label:"Date",align:"right",sortable:!0,render:e=>e.date},{label:"",align:"right",render:e=>{let n=!i(e);return(0,r.jsx)(s.zx,{kind:"functional",variant:"secondary",onClick:()=>o(e),disabled:n,children:(0,r.jsx)(s.JO,{name:"angle-right",size:"lg"})})},cellProps:()=>({css:{paddingLeft:"0.75rem !important"}})}]})}),(0,r.jsx)(Z,{children:(0,r.jsx)(b.Z,{variant:"primary",href:"/console/computing/instance/new",children:"Create instance"})})]}):(0,r.jsx)(k,{children:(0,r.jsx)(b.Z,{variant:"primary",href:"/console/computing/instance/new",children:"Create your first instance"})})})});C.displayName="InstancesTabContent";var _=(0,i.ZP)("div")({maxWidth:"100%",overflow:"auto"}),Z=(0,i.ZP)("div")({marginTop:"5rem",textAlign:"center"}),k=(0,i.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-j47p6o-0"})({marginTop:"2.5rem",textAlign:"center"}),T=t(66367),P=t(1159),N=t(78823);function InstanceDashboardPage(){let{tabs:e,tabId:n,setTabId:t,instances:i,volumes:o,domains:x}=function(){let{entities:e=[]}=(0,d.u)(),{entities:n=[]}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[n]=(0,m.mr)(),t=n.instance.entities,r=(0,a.useMemo)(()=>t?t.flatMap(e=>e.volumes.filter(e=>"ref"in e).map(e=>e.ref)):[],[t]),i=(0,u.B)();return(0,g.F)({...e,manager:i,name:"instanceVolume",ids:r})}(),{entities:t=[]}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[n]=(0,m.mr)(),t=n.instance.entities,{entities:r,loading:i}=(0,h.d)(e),o=(0,a.useMemo)(()=>{if(!t||!r)return[];let e=t.reduce((e,n)=>(e[n.id]=!0,e),{});return r.filter(n=>!!e[n.ref])},[r,t]);return{entities:o,loading:i}}(),[r,i]=(0,a.useState)("instance"),o=(0,a.useMemo)(()=>[{id:"instance",name:"Instances",label:{label:getLabel(e),position:"bottom"}},{id:"volume",name:"Attached Volumes",label:{label:getLabel(n),position:"bottom"},disabled:!n.length},{id:"domain",name:"Linked Domains",label:{label:getLabel(t),position:"bottom"},disabled:!t.length}],[t,e,n]);return{instances:e,volumes:n,domains:t,tabs:o,tabId:r,setTabId:i}}();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l(),{children:[(0,r.jsx)("title",{children:"Console | Instances | Aleph Cloud"}),(0,r.jsx)("meta",{name:"description",content:"Manage your virtual machine instances on Aleph Cloud"})]}),(0,r.jsx)(F,{$variant:"xl",children:(0,r.jsx)(s.mQ,{selected:n,tabs:e,onTabChange:t})}),(0,r.jsx)("div",{role:"tabpanel",children:"instance"===n?(0,r.jsxs)(r.Fragment,{children:[!!(null==i?void 0:i.length)&&(0,r.jsx)(B,{$variant:"xl",children:(0,r.jsx)(C,{data:i})}),(0,r.jsx)(N.Z,{imageSrc:"/img/dashboard/instance.svg",imageAlt:"Instance illustration",info:"WHAT ARE...",title:"Instances",description:"Launch and control virtual private servers (VPS) with ease. Choose between automatic or manual node selection, and customize your computing environment to meet your specific needs.",withButton:(null==i?void 0:i.length)===0,buttonUrl:"/console/computing/instance/new",buttonText:"Create instance"})]}):"volume"===n?(0,r.jsx)(r.Fragment,{children:!!o.length&&(0,r.jsx)(I,{$variant:"xl",children:(0,r.jsx)(T.Z,{data:o,cta:!1})})}):"domain"===n?(0,r.jsx)(r.Fragment,{children:!!x.length&&(0,r.jsx)(L,{$variant:"xl",children:(0,r.jsx)(P.Z,{data:x,cta:!1})})}):(0,r.jsx)(r.Fragment,{})}),(0,r.jsx)(c.F,{$variant:"xl",children:(0,r.jsx)(p.Z,{})})]})}var F=(0,i.ZP)(c.F)({marginTop:"2.5rem",marginBottom:"2.5rem"}),B=(0,i.ZP)(c.F)({marginTop:"2.5rem",marginBottom:"2.5rem"}),I=(0,i.ZP)(c.F)({marginTop:"2.5rem",marginBottom:"2.5rem"}),L=(0,i.ZP)(c.F).withConfig({displayName:"cmp___StyledCenteredContainer4",componentId:"sc-1yb61zm-0"})({marginTop:"2.5rem",marginBottom:"2.5rem"})}},function(e){e.O(0,[3818,9774,2888,179],function(){return e(e.s=78073)}),_N_E=e.O()}]);