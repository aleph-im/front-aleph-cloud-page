(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4817],{81149:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/console/domain/new",function(){return n(82521)}])},93788:function(e,t,n){"use strict";n.d(t,{Z:function(){return BackButtonSection_cmp}});var i=n(85893),r=n(57833),s=n(19584),u=n(99983),BackButtonSection_cmp=e=>{let{handleBack:t}=e;return(0,i.jsx)(l,{children:(0,i.jsx)(u.F,{children:(0,i.jsx)(s.Z,{handleBack:t})})})},l=(0,r.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-o42jnx-0"})({paddingTop:"0px !important",paddingBottom:"0px !important",paddingLeft:"0px",paddingRight:"0px","@media (min-width: 48rem)":{paddingTop:"2.5rem !important"}})},34517:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(85893),r=n(67294),s=n(41664),u=n.n(s),l=n(73899);let ButtonLink=e=>{let{href:t,variant:n="secondary",color:r="main0",kind:s="default",size:o="md",disabled:a,children:c,...d}=e,f=(0,i.jsx)(l.zx,{as:a?void 0:"a",variant:n,color:r,kind:s,size:o,disabled:a,...d,children:c});return a?f:(0,i.jsx)(u(),{href:t,passHref:!0,legacyBehavior:!0,children:f})};ButtonLink.displayName="ButtonLink";var o=(0,r.memo)(ButtonLink)},77541:function(e,t,n){"use strict";n.d(t,{J3:function(){return l},Z0:function(){return s},xv:function(){return u}});var i=n(57833),r=n(73899);let s=i.ZP.hr.withConfig({displayName:"common__Separator",componentId:"sc-4t26wy-0"})([""," border:0;border-top:1px solid ",";opacity:0.3;"],{marginTop:"1.25rem",marginBottom:"1.25rem"},e=>{let{theme:t}=e;return t.color.main0}),u=i.ZP.span.attrs((0,r.PT)("tp-body1 text-text")).withConfig({displayName:"common__Text",componentId:"sc-4t26wy-1"})([""]),l=i.ZP.span.attrs((0,r.PT)("tp-body1 text-disabled")).withConfig({displayName:"common__DisabledText",componentId:"sc-4t26wy-2"})([""])},57966:function(e,t,n){"use strict";n.d(t,{w:function(){return useDomainRules}});var i=n(67294),r=n(80380);function useDomainRules(e){let[t,n]=(0,i.useState)(void 0),s=(0,r.A)(),u=null==e?void 0:e.name,l=null==e?void 0:e.target;return(0,i.useEffect)(()=>{if(s){if(!u||!l){n(void 0);return}request()}async function request(){if(!s||!u||!l)return;let e=await s.getRules({name:u,target:l});n(e)}},[u,l,s]),t}},80380:function(e,t,n){"use strict";n.d(t,{A:function(){return useDomainManager}});var i=n(9754);function useDomainManager(){let[e]=(0,i.mr)(),{domainManager:t}=e.manager;return t}},77205:function(e,t,n){"use strict";n.d(t,{F:function(){return useRequestEntities}});var i=n(67294),r=n(9754),s=n(9324),u=n(73899);function useAppStoreEntityRequest(e){let[t,n]=(0,r.mr)();return function(e){let{state:t,dispatch:n,name:r,cacheStrategy:l="overwrite",...o}=e,a=t[r],c=(0,i.useMemo)(()=>{let{entities:e,keys:t,...n}=a;return{data:e,...n}},[a]);return(0,u.QT)({state:c,setState:e=>{switch(l){case"none":break;case"overwrite":n(new s.B9({name:r,state:e}));break;case"merge":n(new s.Wy({name:r,entities:e.data||[]}))}},...o})}({state:t,dispatch:n,...e})}let handleSingleEntityRequest=async function(e,t,n){var i;let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!r&&(null==n?void 0:null===(i=n.entities)||void 0===i?void 0:i.length)){let e=n.entities.find(e=>e.id===t);if(e)return[e]}let s=await e.get(t);return s?[s]:[]},handleMultipleEntitiesRequest=async function(e,t,n){var i;let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t.length)return[];if(!r&&(null==n?void 0:null===(i=n.entities)||void 0===i?void 0:i.length)){let e=n.entities.map(e=>e.id),i=t.every(t=>e.includes(t));if(i)return n.entities.filter(e=>t.includes(e.id))}return e.getAll({ids:t})},handleAllEntitiesRequest=async function(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!i&&(null==t?void 0:null===(n=t.entities)||void 0===n?void 0:n.length)?t.entities:e.getAll({})};function useRequestEntities(e){let{name:t,manager:n,ids:s,triggerDeps:u=[],triggerOnMount:l=!0}=e,[o]=(0,r.mr)(),{account:a}=o.connection;u=[a,s,...u];let c=(0,i.useMemo)(()=>"string"==typeof s?"single":Array.isArray(s)?"multiple":"all",[s]),d=(0,i.useMemo)(()=>{switch(c){case"single":case"multiple":return"merge";case"all":return"overwrite"}},[c]),{data:f,loading:m,request:p}=useAppStoreEntityRequest({name:t,doRequest:async()=>{if(!n)return[];let e=o[t];switch(c){case"single":return handleSingleEntityRequest(n,s,e);case"multiple":return handleMultipleEntitiesRequest(n,s,e);case"all":return handleAllEntitiesRequest(n,e)}},onSuccess:()=>null,flushData:!0,triggerOnMount:l,triggerDeps:u,cacheStrategy:d}),{request:g}=useAppStoreEntityRequest({name:t,doRequest:async()=>{if(!n)return[];let e=o[t];switch(c){case"single":return handleSingleEntityRequest(n,s,e,!0);case"multiple":return handleMultipleEntitiesRequest(n,s,e,!0);case"all":return handleAllEntitiesRequest(n,e,!0)}},onSuccess:()=>null,flushData:!0,triggerOnMount:!1,triggerDeps:[],cacheStrategy:d}),h=(0,i.useMemo)(()=>{if(!f)return f;switch(c){case"single":return f.filter(e=>e.id===s);case"multiple":return f.filter(e=>s.includes(e.id));default:return f}},[f,c,s]);return!function(e){let{entities:t=[],request:n,triggerOnMount:r}=e;(0,i.useEffect)(()=>{if(!r)return;let e=(Array.isArray(t)?t:[t]).filter(e=>!e.confirmed);if(!e.length)return;let i=setInterval(n,1e4);return()=>clearInterval(i)},[t,n,r])}({entities:h,request:p,triggerOnMount:l}),{entities:h,loading:m,refetch:g}}},82521:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return NewDomain}});var i=n(85893),r=n(9008),s=n.n(r),u=n(67294),l=n(11163),o=n(9911),a=n(93788),c=n(61424);function NewDomain(){let{name:e,ref:t,target:n,onSuccess:r,handleBack:d}=function(){let e=(0,l.useRouter)(),{name:t,ref:n,target:i}=e.query,r=(0,u.useCallback)(t=>{e.push(o.cr.console.domain.detail(t.id))},[e]),s=(0,u.useCallback)(()=>{e.push(o.cr.console.domain.home)},[e]);return{name:"string"==typeof t?t:void 0,ref:"string"==typeof n?n:void 0,target:"string"==typeof i?i:void 0,onSuccess:r,handleBack:s}}();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s(),{children:[(0,i.jsx)("title",{children:"Console | New Domain | Aleph Cloud"}),(0,i.jsx)("meta",{name:"description",content:"Register a custom domain for your Aleph Cloud resources"})]}),(0,i.jsx)(a.Z,{handleBack:d}),(0,i.jsx)(c.I3,{variant:"standalone",showResourceSelection:!0,name:e,entityId:t,entityType:n,onSuccess:r})]})}},82729:function(e,t,n){"use strict";function _tagged_template_literal(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{_:function(){return _tagged_template_literal}})}},function(e){e.O(0,[7536,7012,1424,9774,2888,179],function(){return e(e.s=81149)}),_N_E=e.O()}]);