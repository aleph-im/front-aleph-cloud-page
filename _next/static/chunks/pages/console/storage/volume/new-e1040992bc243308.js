(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[134],{90477:function(e,o,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/console/storage/volume/new",function(){return r(5746)}])},19584:function(e,o,r){"use strict";var a=r(85893),l=r(57833),u=r(73899);o.Z=e=>{let{handleBack:o}=e;return(0,a.jsx)(u.zx,{kind:"functional",variant:"textOnly",onClick:o,children:(0,a.jsxs)(c,{className:"tp-info text-base2",children:[(0,a.jsx)(u.JO,{name:"arrow-left"})," Back"]})})};var c=(0,l.ZP)("p").withConfig({displayName:"cmp___StyledP",componentId:"sc-1jijf1x-0"})({display:"flex",alignItems:"center",justifyContent:"center",gap:"0.25rem",textAlign:"center"})},72882:function(e,o,r){"use strict";r.d(o,{ZP:function(){return g}});var a=r(85893),l=r(67294),u=r(73899),c=r(43251),d=r(57833);let m=(0,d.ZP)(u.JO).attrs(e=>{let{buttonSize:o}=e;return{size:(()=>{switch(o){case"xs":return"xs";case"sm":return"sm";case"lg":return"md-lg";case"xl":return"lg";default:return"md"}})()}}).withConfig({displayName:"styles__InfoIcon",componentId:"sc-15zds0b-0"})(["opacity:0.8;"]),f=(0,l.forwardRef)((e,o)=>{let{tooltipContent:r,tooltipPosition:d,children:f,disabled:g,size:p,...h}=e,[y,v]=(0,l.useState)(!1);(0,l.useEffect)(()=>{v(!0)},[]);let x=(0,l.useRef)(null),b=o||x;return(0,a.jsxs)("div",{className:"inline-flex relative",children:[(0,a.jsx)(u.zx,{ref:b,disabled:g,size:p,...h,children:(0,a.jsxs)(a.Fragment,{children:[f,g&&r&&(0,a.jsx)(m,{name:"info-circle",buttonSize:p})]})}),y&&g&&r&&(0,a.jsx)(c.Z,{my:(null==d?void 0:d.my)||"bottom-center",at:(null==d?void 0:d.at)||"top-center",targetRef:b,content:r})]})});f.displayName="ButtonWithInfoTooltip";var g=f},99983:function(e,o,r){"use strict";r.d(o,{F:function(){return c}});var a=r(57833);let l={xl:90,lg:60.0625,md:44.6875},u=a.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-1bpjbi2-0"})(["",""],e=>{let{$variant:o="lg"}=e;return(0,a.iv)([""," max-width:","rem;"],{marginLeft:"auto",marginRight:"auto",width:"100%",paddingLeft:"1.5rem",paddingRight:"1.5rem","@media (min-width: 62rem)":{paddingLeft:"4rem",paddingRight:"4rem"}},l[o])});var c=u},49531:function(e,o,r){"use strict";r.d(o,{N:function(){return c}});var a=r(85893),l=r(67294),u=r(73899);let SectionTitle=e=>{let{forwardedAs:o,...r}=e;return(0,a.jsx)(u.NP,{as:"h2",color:"main0",numberColor:"main0",...r})};SectionTitle.displayName="SectionTitle";var c=(0,l.memo)(SectionTitle)},36846:function(e,o,r){"use strict";r.d(o,{LY:function(){return y},nx:function(){return g}});var a=r(85893),l=r(57833),u=r(67294),c=r(73899),d=r(93396),m=r(65148);let f=(0,u.memo)(e=>{let{onRemove:o}=e;return(0,a.jsx)(b,{children:(0,a.jsx)(c.zx,{type:"button",kind:"functional",variant:"warning",size:"md",onClick:o,children:"Remove"})})});f.displayName="RemoveVolume";let g=(0,u.memo)(e=>{let{isStandAlone:o,fileCtrl:r,mountPathCtrl:l,useLatestCtrl:u,handleRemove:m}=(0,d.Yl)(e);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j,{children:"Create and configure new volumes for your web3 function by either uploading a dependency file or a squashfs volume. Volumes play a crucial role in managing dependencies and providing a volume within your application."}),(0,a.jsxs)("div",{children:[o?(0,a.jsx)(c.Jy,{children:(0,a.jsx)(c.S2,{...r.field,...r.fieldState,label:"Upload volume file",required:!0})}):(0,a.jsx)(w,{children:(0,a.jsx)(c.S2,{...r.field,...r.fieldState})}),!o&&(0,a.jsx)(S,{children:(0,a.jsx)(c.oi,{...l.field,...l.fieldState,required:!0,label:"Mount",placeholder:"/mount/opt"})}),!o&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P,{children:(0,a.jsx)(c.XZ,{...u.field,...u.fieldState,label:"Always update to the latest version"})}),m&&(0,a.jsx)(f,{onRemove:m})]})]})]})});g.displayName="AddNewVolume";let p=(0,u.memo)(e=>{let{refHashCtrl:o,mountPathCtrl:r,useLatestCtrl:l,volumeSize:u,handleRemove:m}=(0,d.Ox)(e);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C,{children:"Link existing volumes to your web3 function by pasting the reference hash associated with each volume. Volumes are an essential component for managing dependencies within your application."}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsx)(c.oi,{...r.field,...r.fieldState,required:!0,label:"Mount",placeholder:"/mount/opt"})}),(0,a.jsx)(N,{children:(0,a.jsx)(c.oi,{...o.field,...o.fieldState,required:!0,label:"Item hash",placeholder:"3335ad270a571b..."})}),o.field.value&&u&&(0,a.jsx)(_,{children:(0,a.jsx)(c.oi,{label:"Size",name:"size",value:u,disabled:!0})}),(0,a.jsx)(B,{children:(0,a.jsx)(c.XZ,{...l.field,...l.fieldState,checked:!!l.field.value,label:"Always update to the latest version"})}),m&&(0,a.jsx)(f,{onRemove:m})]})]})});p.displayName="AddExistingVolume";let h=(0,u.memo)(e=>{let{nameCtrl:o,mountPathCtrl:r,sizeCtrl:l,sizeValue:u,sizeHandleChange:m,handleRemove:g}=(0,d.BB)(e);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(V,{children:"Create and configure persistent storage for your web3 functions, enabling your application to maintain data across multiple invocations or sessions. You can set up a customized storage solution tailored to your application's requirements."}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsx)(c.oi,{...o.field,...o.fieldState,required:!0,label:"Volume name",placeholder:"Redis volume"})}),(0,a.jsx)(Z,{children:(0,a.jsx)(c.oi,{...r.field,...r.fieldState,required:!0,label:"Mount",placeholder:"/mount/opt"})}),(0,a.jsx)(T,{children:(0,a.jsx)(c.oi,{...l.field,...l.fieldState,value:u,onChange:m,required:!0,type:"number",label:"Size (GB)",placeholder:"0"})}),g&&(0,a.jsx)(f,{onRemove:g})]})]})});h.displayName="AddPersistentVolume";let y=(0,u.memo)(e=>{let{sizeCtrl:o,sizeValue:r,sizeHandleChange:l}=(0,d.at)(e);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A,{children:"This system volume is included with your setup. You can easily expand your storage capacity to meet your application's requirements by adding additional volumes below."}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsx)(c.oi,{name:"system_volume_name",required:!0,label:"Volume name",placeholder:"Redis volume",value:"System Volume",dataView:!0})}),(0,a.jsx)(k,{children:(0,a.jsx)(c.oi,{name:"system_volume_mount",required:!0,label:"Mount",placeholder:"/mount/opt",value:"/",dataView:!0})}),(0,a.jsx)(E,{children:(0,a.jsx)(c.oi,{...o.field,...o.fieldState,value:r,onChange:l,name:"system_volume_size",required:!0,type:"number",label:"Size (GB)",placeholder:"0"})})]})]})});y.displayName="InstanceSystemVolume";let v={[m.lf.New]:g,[m.lf.Existing]:p,[m.lf.Persistent]:h},x=(0,u.memo)(e=>{let{volumeTypeCtrl:o,defaultValue:r,...l}=(0,d.Kn)(e),f=o.field.value,g=(0,u.useMemo)(()=>v[f],[f]),p=(0,u.useMemo)(()=>[{id:m.lf.New,name:"New volume"},{id:m.lf.Existing,name:"Existing volume"},{id:m.lf.Persistent,name:"Persistent Storage"}],[]);return(0,a.jsxs)(F,{className:"bg-base1",children:[(0,a.jsx)(I,{children:(0,a.jsx)(c.mQ,{selected:f,align:"left",onTabChange:o.field.onChange,tabs:p})}),(0,a.jsx)("div",{role:"tabpanel",children:(0,a.jsx)(g,{...l,defaultValue:r})})]})});x.displayName="AddVolume",o.ZP=x;var b=(0,l.ZP)("div")({marginTop:"1rem",paddingTop:"1.5rem",textAlign:"right"}),j=(0,l.ZP)("p")({marginBottom:"1.5rem",marginTop:"0.25rem"}),w=(0,l.ZP)("div")({paddingTop:"1rem",paddingBottom:"1rem"}),S=(0,l.ZP)("div")({marginTop:"1rem"}),P=(0,l.ZP)("div")({marginTop:"1rem",paddingTop:"1rem",paddingBottom:"1rem"}),C=(0,l.ZP)("p")({marginBottom:"1.5rem",marginTop:"0.25rem"}),N=(0,l.ZP)("div")({marginTop:"1rem"}),_=(0,l.ZP)("div")({marginTop:"1rem"}),B=(0,l.ZP)("div")({marginTop:"1rem",paddingTop:"1rem",paddingBottom:"1rem"}),V=(0,l.ZP)("p")({marginBottom:"1.5rem"}),Z=(0,l.ZP)("div")({marginTop:"1rem"}),T=(0,l.ZP)("div")({marginTop:"1rem"}),A=(0,l.ZP)("p")({marginBottom:"1.5rem"}),k=(0,l.ZP)("div")({marginTop:"1rem"}),E=(0,l.ZP)("div")({marginTop:"1rem"}),F=(0,l.ZP)("div")({padding:"1.5rem"}),I=(0,l.ZP)("div").withConfig({displayName:"cmp___StyledDiv11",componentId:"sc-de6qwa-0"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"0.75rem"})},34747:function(e,o,r){"use strict";r.d(o,{Z:function(){return a.ZP},n:function(){return a.nx}});var a=r(36846)},75650:function(e,o,r){"use strict";r.d(o,{l:function(){return cmp},Z:function(){return cmp}});var a=r(85893),l=r(57833);let u=l.ZP.form.withConfig({displayName:"styles__StyledForm",componentId:"sc-faebcb-0"})(["",""],{display:"flex",flex:"1 1 0%",flexDirection:"column"});var c=r(73899),d=r(99983),cmp=e=>{let{children:o,onSubmit:r,errors:l,id:c}=e;return(0,a.jsxs)(u,{id:c,onSubmit:r,noValidate:!0,children:[o,(null==l?void 0:l.root)&&(0,a.jsx)(d.F,{children:Object.values(l.root).map(e=>(0,a.jsx)(m,{error:e},e+""))})]})},m=(0,l.ZP)(c.Xq).withConfig({displayName:"cmp___StyledFormError",componentId:"sc-tai6p3-0"})({wordBreak:"break-all"})},24959:function(e,o,r){"use strict";r.d(o,{c:function(){return useForm}});var a=r(73899),l=r(67294),u=r(87536),c=r(79711),d=r(50586);function useForm(e){let{onSubmit:o,onSuccess:r,onError:m,readyDeps:f=[],...g}=e,p=(0,u.cI)(g);(0,l.useEffect)(()=>{"object"==typeof g.defaultValues&&p.reset(g.defaultValues)},[...f]);let[h,y]=(0,l.useState)({data:void 0,error:void 0,loading:!1}),[v,{onLoad:x,onSuccess:b,onError:j}]=(0,a.g7)({flushData:!0,state:h,setState:y,onSuccess:r,onError:m}),w=(0,l.useCallback)(async e=>{try{x();let r=await o(e);b(r)}catch(o){let e=o instanceof c.jm?d.Z.ValidationError:(null==o?void 0:o.cause)||o;p.setError("root.serverError",{...e,message:null==e?void 0:e.message}),j(e)}},[p,j,x,o,b]),S=(0,l.useCallback)(async e=>{let o;if(console.log(e),!o){let r=function getFirstError(e){let[o]=Object.entries(e);if(!o)return;let[r,a]=o;if(Array.isArray(a)){let e=a[a.length-1];return getFirstError(e)}return[r,a]}(e);if(r){let[e,a]=r,l="string"==typeof a?a:(null==a?void 0:a.message)?": ".concat(a.message):(null==a?void 0:a.type)?': "'.concat(null==a?void 0:a.type,'" validation not satisfied'):"";o=d.Z.FieldError(e,l)}}o||(o=d.Z.ValidationError),j(o)},[j]),P=(0,l.useMemo)(()=>p.handleSubmit(w,S),[p,w,S]);return{...p,requestState:v,handleSubmit:P}}},99978:function(e,o,r){"use strict";r.d(o,{U:function(){return useInstanceManager}});var a=r(9754);function useInstanceManager(){let[e]=(0,a.mr)(),{instanceManager:o}=e.manager;return o}},33223:function(e,o,r){"use strict";r.d(o,{k:function(){return useProgramManager}});var a=r(9754);function useProgramManager(){let[e]=(0,a.mr)(),{programManager:o}=e.manager;return o}},8758:function(e,o,r){"use strict";r.d(o,{e:function(){return useWebsiteManager}});var a=r(9754);function useWebsiteManager(){let[e]=(0,a.mr)(),{websiteManager:o}=e.manager;return o}},93396:function(e,o,r){"use strict";r.d(o,{BB:function(){return useAddPersistentVolumeProps},Kn:function(){return useAddVolume},Ox:function(){return useAddExistingVolumeProps},Yl:function(){return useAddNewVolumeProps},Yz:function(){return d},at:function(){return useAddInstanceSystemVolumeProps}});var a=r(67294),l=r(14685),u=r(65148),c=r(87536);let d={volumeType:u.lf.New};function useAddNewVolumeProps(e){let{name:o="",index:r,control:a,defaultValue:l,onRemove:u}=e,d=void 0===r,m=d?o:"".concat(o,".").concat(r),f=(0,c.bc)({control:a,name:"".concat(m,".file"),defaultValue:null==l?void 0:l.file}),g=(0,c.bc)({control:a,name:"".concat(m,".mountPath"),defaultValue:null==l?void 0:l.mountPath}),p=(0,c.bc)({control:a,name:"".concat(m,".useLatest"),defaultValue:null==l?void 0:l.useLatest});return{isStandAlone:void 0===r,fileCtrl:f,mountPathCtrl:g,useLatestCtrl:p,handleRemove:u}}function useAddExistingVolumeProps(e){let{name:o="",index:r,control:d,defaultValue:m,onRemove:f}=e,g=(0,c.bc)({control:d,name:"".concat(o,".").concat(r,".refHash"),defaultValue:null==m?void 0:m.refHash}),p=(0,c.bc)({control:d,name:"".concat(o,".").concat(r,".mountPath"),defaultValue:null==m?void 0:m.mountPath}),h=(0,c.bc)({control:d,name:"".concat(o,".").concat(r,".useLatest"),defaultValue:null==m?void 0:m.useLatest}),{value:y}=g.field,[v,x]=(0,a.useState)("");return(0,a.useEffect)(()=>{(async function(){let e=await u.l8.getVolumeSize({volumeType:u.lf.Existing,refHash:y}),o=(0,l.eB)(e,"MiB");x(o)})()},[y]),{refHashCtrl:g,mountPathCtrl:p,useLatestCtrl:h,volumeSize:v,handleRemove:f}}function useAddPersistentVolumeProps(e){let{name:o="",index:r,control:u,defaultValue:d,onRemove:m}=e,f=(0,c.bc)({control:u,name:"".concat(o,".").concat(r,".name"),defaultValue:null==d?void 0:d.name}),g=(0,c.bc)({control:u,name:"".concat(o,".").concat(r,".mountPath"),defaultValue:null==d?void 0:d.mountPath}),p=(0,c.bc)({control:u,name:"".concat(o,".").concat(r,".size"),defaultValue:null==d?void 0:d.size}),h=(0,a.useCallback)(e=>{let o=Number(e.target.value),r=(0,l.Fx)(o,{from:"GiB",to:"MiB",displayUnit:!1});p.field.onChange(r)},[p.field]),y=(0,a.useMemo)(()=>p.field.value?(0,l.Fx)(p.field.value,{from:"MiB",to:"GiB",displayUnit:!1}):void 0,[p.field]);return{nameCtrl:f,mountPathCtrl:g,sizeCtrl:p,sizeValue:y,sizeHandleChange:h,handleRemove:m}}function useAddInstanceSystemVolumeProps(e){let{control:o,defaultValue:r}=e,u=(0,c.bc)({control:o,name:"systemVolume.size",defaultValue:null==r?void 0:r.size}),d=(0,a.useCallback)(e=>{let o=Number(e.target.value),r=(0,l.Fx)(o,{from:"GiB",to:"MiB",displayUnit:!1});u.field.onChange(r)},[u.field]),m=(0,a.useMemo)(()=>u.field.value?(0,l.Fx)(u.field.value,{from:"MiB",to:"GiB",displayUnit:!1}):void 0,[u.field.value]);return{sizeCtrl:u,sizeValue:m,sizeHandleChange:d}}function useAddVolume(e){let{name:o="volumes",index:r,control:l,defaultValue:d,onRemove:m}=e,f=void 0===r,g=f?o:"".concat(o,".").concat(r),p=(0,c.bc)({control:l,name:"".concat(g,".volumeType"),defaultValue:u.lf.New}),h=(0,a.useCallback)(()=>{m&&m(r)},[r,m]);return{name:o,index:r,control:l,volumeTypeCtrl:p,defaultValue:d,onRemove:h}}},86780:function(e,o,r){"use strict";r.d(o,{n:function(){return j},A:function(){return useCheckoutNotification}});var a=r(85893),l=r(82729),u=r(57833),c=r(67294),d=r(73899);function _templateObject(){let e=(0,l._)(["",""]);return _templateObject=function(){return e},e}let m=(0,c.memo)(e=>{let{isActive:o,step:r,total:l,title:u,content:c}=e;return(0,a.jsxs)(g,{$_css:[!o&&{opacity:"0.3"}],children:[(0,a.jsxs)(p,{className:"tp-h7",children:[(0,a.jsxs)(h,{children:[u,o&&(0,a.jsx)(y,{name:"arrows-rotate",size:"0.8em"})]}),(0,a.jsxs)("div",{className:"tp-body2 fs-18",children:[r+1,"/",l]})]}),(0,a.jsx)("div",{className:"tp-body1",children:c})]})});var f=(0,c.memo)(e=>{let{steps:o,activeStep:r}=e;return(0,a.jsx)(v,{children:o.map((e,l)=>(0,a.jsx)(m,{step:l,total:o.length,isActive:l===r,...e},l))})}),g=(0,u.ZP)("div")(_templateObject(),e=>e.$_css),p=(0,u.ZP)("div")({marginBottom:"0.5rem",display:"flex",alignItems:"center",justifyContent:"space-between"}),h=(0,u.ZP)("div")({display:"flex",alignItems:"center",gap:"1rem"}),y=(0,u.ZP)(d.JO)({"@keyframes spin":{to:{transform:"rotate(360deg)"}},animation:"spin 1s linear infinite"}),v=(0,u.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-1ydaly9-0"})({display:"flex",flexDirection:"column",gap:"2rem"}),x=r(14685),b=r(50586);function useCheckoutNotification(){let{steps:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(0,d.lm)(),r=(0,c.useRef)(0),l="CHECKOUT-NOTI",u=(0,c.useCallback)(async u=>{if(!o)throw b.Z.NotificationsNotReady;let c=u||e||[];o.del(l),await (0,x._v)(200),o.set(l,{id:l,timeout:0,variant:"warning",content:(0,a.jsx)(f,{activeStep:r.current,steps:c})}),r.current+=1},[o,e]),m=(0,c.useCallback)(async()=>{if(!o)throw b.Z.NotificationsNotReady;r.current=0,o.del(l),await (0,x._v)(2e3)},[o]);return{next:u,stop:m,noti:o}}let j={reserve:{title:"Sign CRN resources reservation",content:"By signing this, you are doing a reservation of hardware resources on the selected CRN until the instance is correctly allocated."},stream:{title:"Sign PAYG Activation",content:"By signing this, you authorise the initiation of a token stream for billing, ensuring a seamless and efficient payment process aligning costs directly with your usage."},streamDel:{title:"Sign PAYG Cancellation",content:"By signing this, you confirm the cancellation of your stream."},volume:{title:"Sign Volume(s) Creation",content:"By signing this, you confirm the creation of new volume(s). This is required if you are creating/updating a website, or if you have set up additional storage volume(s) for your instance or function."},volumeDel:{title:"Sign Volume(s) Deletion",content:"By signing this, you confirm the deletion of your volume(s)."},volumeUp:{title:"Sign Volume(s) Update",content:"By signing this, you confirm the update of your volume(s)."},ssh:{title:"Sign SSH Key(s) Configuration",content:"By signing this, you confirm the SSH key(s) configuration, enabling encrypted communication with your instance. This is crucial for securing remote access."},sshDel:{title:"Sign SSH Key(s) Deletion",content:"By signing this, you confirm the deletion of your SSH Key(s)."},sshUp:{title:"Sign SSH Key(s) Update",content:"By signing this, you confirm the update of your SSH Key(s)."},instance:{title:"Sign Instance Creation",content:"By signing this, you confirm the creation of your new instance on Aleph Cloud. This step finalises the setup options you've chosen, including resources, configurations, and any additional features."},instanceDel:{title:"Sign Instance Deletion",content:"By signing this, you confirm the deletion of your instance."},instanceUp:{title:"Sign Instance Update",content:"By signing this, you confirm the update of your instance."},program:{title:"Sign Function Creation",content:"By signing this, you confirm the creation of your new function on Aleph Cloud. This step finalises the setup options you've chosen, including the codebase volume, resources, configurations, and any additional features."},programDel:{title:"Sign Function Deletion",content:"By signing this, you confirm the deletion of your function."},programUp:{title:"Sign Function Update",content:"By signing this, you confirm the update of your function."},domain:{title:"Sign Custom Domain(s) Creation",content:"By signing this, you confirm the custom domain(s) settings for your website, instance or function."},domainDel:{title:"Sign Custom Domain(s) Deletion",content:"By signing this, you confirm the deletion of your custom domain(s)."},domainUp:{title:"Sign Custom Domain(s) Update",content:"By signing this, you confirm the update of your custom domain(s)."},website:{title:"Sign Website Creation",content:"By signing this, you confirm the deployment of your new website on Aleph Cloud."},websiteDel:{title:"Sign Website Deletion",content:"By signing this, you confirm the deletion of your website."},websiteUp:{title:"Sign Website Update",content:"By signing this, you confirm the update of your website."},allocate:{title:"Allocate the instance",content:"Notifiying the selected CRN for allocating the instance. It can take a while"},portForwarding:{title:"Sign Port Forwarding Configuration",content:"By signing this, you confirm the port forwarding configuration for your instance, enabling network access to specific ports."},portForwardingDel:{title:"Sign Port Forwarding Deletion",content:"By signing this, you confirm the deletion of your port forwarding configuration."},permissions:{title:"Sign Permissions Creation",content:"By signing this, you confirm the creation of new permissions for delegated access control."},permissionsDel:{title:"Sign Permissions Deletion",content:"By signing this, you confirm the deletion of your permissions."}}},5746:function(e,o,r){"use strict";r.r(o),r.d(o,{default:function(){return k}});var a=r(85893),l=r(57833),u=r(67294),c=r(9008),d=r.n(c),m=r(9911),f=r(11163),g=r(65148),p=r(9754),h=r(24959),y=r(90805),v=r(87536),x=r(56312),b=r(37419),j=r(86780),w=r(9324),S=r(50586),P=r(28565);let C={volumeType:g.lf.New};var N=r(34708),_=r(99983),B=r(34747),V=r(75650),Z=r(49531),T=r(93788),A=r(72882),k=u.memo(function(){let{control:e,address:o,accountBalance:r,isCreateButtonDisabled:l,errors:c,cost:k,handleSubmit:F,handleBack:I}=function(){let e=(0,f.useRouter)(),[o,r]=(0,p.mr)(),{account:a,balance:l=0}=o.connection,c=(0,y.B)(),{next:d,stop:N}=(0,j.A)({}),_=(0,u.useCallback)(async o=>{if(!c)throw S.Z.ConnectYourWallet;let a=await c.getAddSteps(o),l=a.map(e=>j.n[e]),u=c.addSteps(o);try{let o;for(;!o;){let{value:e,done:r}=await u.next();if(r){o=e[0];break}await d(l)}r(new w.Wy({name:"volume",entities:o})),await e.replace(m.cr.console.storage.volumes.detail(o.id))}finally{await N()}},[r,c,d,e,N]),{control:B,handleSubmit:V,formState:{errors:Z}}=(0,h.c)({defaultValues:C,onSubmit:_,resolver:(0,x.F)(g.l8.addSchema)}),T=(0,v.qo)({control:B}),A=(0,u.useMemo)(()=>T,[T]),k=(0,u.useMemo)(()=>({entityType:m.py.Volume,props:{volume:A}}),[A]),E=(0,b.F)(k),{isCreateButtonDisabled:F}=(0,P.U)({cost:E,accountBalance:l});return{address:(null==a?void 0:a.address)||"",accountBalance:l,isCreateButtonDisabled:F,values:T,control:B,errors:Z,cost:E,handleSubmit:V,handleBack:()=>{e.push(m.cr.console.storage.home)}}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(d(),{children:[(0,a.jsx)("title",{children:"Console | New Volume | Aleph Cloud"}),(0,a.jsx)("meta",{name:"description",content:"Create a new persistent storage volume on Aleph Cloud"})]}),(0,a.jsx)(T.Z,{handleBack:I}),(0,a.jsxs)(V.l,{onSubmit:F,errors:c,children:[(0,a.jsx)(E,{children:(0,a.jsxs)(_.F,{children:[(0,a.jsx)(Z.N,{number:"1",children:"Add volume"}),(0,a.jsx)(B.n,{control:e})]})}),(0,a.jsx)(N.Z,{address:o,cost:k,unlockedAmount:r,paymentMethod:m.XL.Hold,description:(0,a.jsx)(a.Fragment,{children:"This amount needs to be present in your wallet until the volume is removed. Tokens won 't be locked nor consumed. The volume will be garbage collected once funds are removed from the wallet."}),button:(0,a.jsx)(A.ZP,{type:"submit",color:"main0",kind:"default",size:"lg",variant:"primary",disabled:l,tooltipContent:l?function(e){let{title:o,description:r}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"tp-body3 fs-18 text-base2",children:o}),(0,a.jsx)("p",{className:"tp-body1 fs-14 text-base2",children:r})]})}({title:"Insufficient Funds",description:"You don't have enough ALEPH tokens in your wallet to create this volume. Please add more tokens to your wallet to continue."}):void 0,tooltipPosition:{my:"bottom-center",at:"top-center"},children:"Create volume"})})]})]})}),E=(0,l.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-171wghn-0"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.5rem",paddingTop:"5rem","@media (min-width: 48rem)":{paddingTop:"2.5rem",paddingBottom:"2.5rem"}})},56312:function(e,o,r){"use strict";r.d(o,{F:function(){return t}});var a=r(87536);let s=(e,o,r)=>{if(e&&"reportValidity"in e){let l=(0,a.U2)(r,o);e.setCustomValidity(l&&l.message||""),e.reportValidity()}},resolvers_o=(e,o)=>{for(let r in o.fields){let a=o.fields[r];a&&a.ref&&"reportValidity"in a.ref?s(a.ref,r,e):a.refs&&a.refs.forEach(o=>s(o,r,e))}},resolvers_r=(e,o)=>{o.shouldUseNativeValidation&&resolvers_o(e,o);let r={};for(let l in e){let u=(0,a.U2)(o.fields,l),c=Object.assign(e[l]||{},{ref:u&&u.ref});if(i(o.names||Object.keys(e),l)){let e=Object.assign({},(0,a.U2)(r,l));(0,a.t8)(e,"root",c),(0,a.t8)(r,l,e)}else(0,a.t8)(r,l,c)}return r},i=(e,o)=>e.some(e=>e.startsWith(o+"."));var n=function(e,o){for(var r={};e.length;){var l=e[0],u=l.code,c=l.message,d=l.path.join(".");if(!r[d]){if("unionErrors"in l){var m=l.unionErrors[0].errors[0];r[d]={message:m.message,type:m.code}}else r[d]={message:c,type:u}}if("unionErrors"in l&&l.unionErrors.forEach(function(o){return o.errors.forEach(function(o){return e.push(o)})}),o){var f=r[d].types,g=f&&f[l.code];r[d]=(0,a.KN)(d,o,r,u,g?[].concat(g,l.message):l.message)}e.shift()}return r},t=function(e,o,r){return void 0===r&&(r={}),function(a,l,u){try{return Promise.resolve(function(l,c){try{var d=Promise.resolve(e["sync"===r.mode?"parse":"parseAsync"](a,o)).then(function(e){return u.shouldUseNativeValidation&&resolvers_o({},u),{errors:{},values:r.raw?a:e}})}catch(e){return c(e)}return d&&d.then?d.then(void 0,c):d}(0,function(e){if(Array.isArray(null==e?void 0:e.errors))return{values:{},errors:resolvers_r(n(e.errors,!u.shouldUseNativeValidation&&"all"===u.criteriaMode),u)};throw e}))}catch(e){return Promise.reject(e)}}}},82729:function(e,o,r){"use strict";function _tagged_template_literal(e,o){return o||(o=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(o)}}))}r.d(o,{_:function(){return _tagged_template_literal}})}},function(e){e.O(0,[7536,3268,9774,2888,179],function(){return e(e.s=90477)}),_N_E=e.O()}]);