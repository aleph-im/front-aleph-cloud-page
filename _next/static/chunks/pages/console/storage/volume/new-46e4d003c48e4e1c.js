(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[134],{90477:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/console/storage/volume/new",function(){return n(5746)}])},72882:function(e,t,n){"use strict";n.d(t,{ZP:function(){return c}});var o=n(85893),s=n(67294),r=n(79632),l=n(43251),i=n(19521);let a=(0,i.ZP)(r.JO).attrs(e=>{let{buttonSize:t}=e;return{size:(()=>{switch(t){case"xs":return"xs";case"sm":return"sm";case"lg":return"md-lg";case"xl":return"lg";default:return"md"}})()}}).withConfig({displayName:"styles__InfoIcon",componentId:"sc-15zds0b-0"})(["opacity:0.8;"]),d=(0,s.forwardRef)((e,t)=>{let{tooltipContent:n,tooltipPosition:i,children:d,disabled:c,size:u,...m}=e,[p,h]=(0,s.useState)(!1);(0,s.useEffect)(()=>{h(!0)},[]);let f=(0,s.useRef)(null),x=t||f;return(0,o.jsxs)("div",{className:"inline-flex relative",children:[(0,o.jsx)(r.zx,{ref:x,disabled:c,size:u,...m,children:(0,o.jsxs)(o.Fragment,{children:[d,c&&n&&(0,o.jsx)(a,{name:"info-circle",buttonSize:u})]})}),p&&c&&n&&(0,o.jsx)(l.Z,{my:(null==i?void 0:i.my)||"bottom-center",at:(null==i?void 0:i.at)||"top-center",targetRef:x,content:n})]})});d.displayName="ButtonWithInfoTooltip";var c=d},5746:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var o=n(85893),s=n(19521),r=n(67294),l=n(9008),i=n.n(l),a=n(9911),d=n(11163),c=n(65148),u=n(9754),m=n(24959),p=n(90805),h=n(87536),f=n(56312),x=n(37419),w=n(86780),g=n(9324),v=n(50586),y=n(28565);let b={volumeType:c.lf.New};var j=n(42045),_=n(99983),k=n(34747),N=n(75650),C=n(49531),T=n(93788),P=n(72882),S=r.memo(function(){let{control:e,address:t,accountBalance:n,isCreateButtonDisabled:s,errors:l,cost:S,handleSubmit:A,handleBack:E}=function(){let e=(0,d.useRouter)(),[t,n]=(0,u.mr)(),{account:o,balance:s=0}=t.connection,l=(0,p.B)(),{next:i,stop:j}=(0,w.A)({}),_=(0,r.useCallback)(async t=>{if(!l)throw v.Z.ConnectYourWallet;let o=await l.getAddSteps(t),s=o.map(e=>w.n[e]),r=l.addSteps(t);try{let t;for(;!t;){let{value:e,done:n}=await r.next();if(n){t=e[0];break}await i(s)}n(new g.Wy({name:"volume",entities:t})),await e.replace(a.cr.console.home)}finally{await j()}},[n,l,i,e,j]),{control:k,handleSubmit:N,formState:{errors:C}}=(0,m.c)({defaultValues:b,onSubmit:_,resolver:(0,f.F)(c.l8.addSchema)}),T=(0,h.qo)({control:k}),P=(0,r.useMemo)(()=>T,[T]),S=(0,r.useMemo)(()=>({entityType:a.py.Volume,props:{volume:P}}),[P]),Z=(0,x.F)(S),{isCreateButtonDisabled:A}=(0,y.U)({cost:Z,accountBalance:s});return{address:(null==o?void 0:o.address)||"",accountBalance:s,isCreateButtonDisabled:A,values:T,control:k,errors:C,cost:Z,handleSubmit:N,handleBack:()=>{e.push(a.cr.console.storage.home)}}}();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(i(),{children:[(0,o.jsx)("title",{children:"Console | New Volume | Aleph Cloud"}),(0,o.jsx)("meta",{name:"description",content:"Create a new persistent storage volume on Aleph Cloud"})]}),(0,o.jsx)(T.Z,{handleBack:E}),(0,o.jsxs)(N.l,{onSubmit:A,errors:l,children:[(0,o.jsx)(Z,{children:(0,o.jsxs)(_.F,{children:[(0,o.jsx)(C.N,{number:"1",children:"Add volume"}),(0,o.jsx)(k.n,{control:e})]})}),(0,o.jsx)(j.Z,{address:t,cost:S,unlockedAmount:n,paymentMethod:a.XL.Hold,description:(0,o.jsx)(o.Fragment,{children:"This amount needs to be present in your wallet until the volume is removed. Tokens won 't be locked nor consumed. The volume will be garbage collected once funds are removed from the wallet."}),button:(0,o.jsx)(P.ZP,{type:"submit",color:"main0",kind:"default",size:"lg",variant:"primary",disabled:s,tooltipContent:s?function(e){let{title:t,description:n}=e;return(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"tp-body3 fs-18 text-base2",children:t}),(0,o.jsx)("p",{className:"tp-body1 fs-14 text-base2",children:n})]})}({title:"Insufficient Funds",description:"You don't have enough ALEPH tokens in your wallet to create this volume. Please add more tokens to your wallet to continue."}):void 0,tooltipPosition:{my:"bottom-center",at:"top-center"},children:"Create volume"})})]})]})}),Z=(0,s.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-171wghn-0"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.5rem",paddingTop:"5rem","@media (min-width: 48rem)":{paddingTop:"2.5rem",paddingBottom:"2.5rem"}})}},function(e){e.O(0,[7536,5992,1129,4747,9774,2888,179],function(){return e(e.s=90477)}),_N_E=e.O()}]);