(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[134],{90477:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/console/storage/volume/new",function(){return n(5746)}])},72882:function(e,t,n){"use strict";n.d(t,{ZP:function(){return c}});var o=n(85893),s=n(67294),r=n(79632),i=n(43251),l=n(19521);let a=(0,l.ZP)(r.JO).attrs(e=>{let{buttonSize:t}=e;return{size:(()=>{switch(t){case"xs":return"xs";case"sm":return"sm";case"lg":return"md-lg";case"xl":return"lg";default:return"md"}})()}}).withConfig({displayName:"styles__InfoIcon",componentId:"sc-15zds0b-0"})(["opacity:0.8;"]),d=(0,s.forwardRef)((e,t)=>{let{tooltipContent:n,tooltipPosition:l,children:d,disabled:c,size:u,...m}=e,[p,f]=(0,s.useState)(!1);(0,s.useEffect)(()=>{f(!0)},[]);let h=(0,s.useRef)(null),x=t||h;return(0,o.jsxs)("div",{className:"inline-flex relative",children:[(0,o.jsx)(r.zx,{ref:x,disabled:c,size:u,...m,children:(0,o.jsxs)(o.Fragment,{children:[d,c&&n&&(0,o.jsx)(a,{name:"info-circle",buttonSize:u})]})}),p&&c&&n&&(0,o.jsx)(i.Z,{my:(null==l?void 0:l.my)||"bottom-center",at:(null==l?void 0:l.at)||"top-center",targetRef:x,content:n})]})});d.displayName="ButtonWithInfoTooltip";var c=d},5746:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var o=n(85893),s=n(19521),r=n(67294),i=n(9911),l=n(11163),a=n(65148),d=n(28417),c=n(24959),u=n(90805),m=n(87536),p=n(56312),f=n(37419),h=n(86780),x=n(9324),w=n(50586),y=n(28565);let g={volumeType:a.lf.New};var v=n(68805),b=n(99983),j=n(34747),_=n(75650),k=n(49531),N=n(93788),T=n(72882),P=r.memo(function(){let{control:e,address:t,accountBalance:n,isCreateButtonDisabled:s,errors:P,cost:C,handleSubmit:Z,handleBack:E}=function(){let e=(0,l.useRouter)(),[t,n]=(0,d.mr)(),{account:o,balance:s=0}=t.connection,v=(0,u.B)(),{next:b,stop:j}=(0,h.A)({}),_=(0,r.useCallback)(async t=>{if(!v)throw w.Z.ConnectYourWallet;let o=await v.getAddSteps(t),s=o.map(e=>h.n[e]),r=v.addSteps(t);try{let t;for(;!t;){let{value:e,done:n}=await r.next();if(n){t=e[0];break}await b(s)}n(new x.Wy({name:"volume",entities:t})),await e.replace("/console")}finally{await j()}},[n,v,b,e,j]),{control:k,handleSubmit:N,formState:{errors:T}}=(0,c.c)({defaultValues:g,onSubmit:_,resolver:(0,p.F)(a.l8.addSchema)}),P=(0,m.qo)({control:k}),S=(0,r.useMemo)(()=>P,[P]),C=(0,r.useMemo)(()=>({entityType:i.py.Volume,props:{volume:S}}),[S]),Z=(0,f.F)(C),{isCreateButtonDisabled:E}=(0,y.U)({cost:Z,accountBalance:s});return{address:(null==o?void 0:o.address)||"",accountBalance:s,isCreateButtonDisabled:E,values:P,control:k,errors:T,cost:Z,handleSubmit:N,handleBack:()=>{e.push("/console/storage/")}}}();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(N.Z,{handleBack:E}),(0,o.jsxs)(_.l,{onSubmit:Z,errors:P,children:[(0,o.jsx)(S,{children:(0,o.jsxs)(b.F,{children:[(0,o.jsx)(k.N,{number:"1",children:"Add volume"}),(0,o.jsx)(j.n,{control:e})]})}),(0,o.jsx)(v.Z,{address:t,cost:C,unlockedAmount:n,paymentMethod:i.XL.Hold,description:(0,o.jsx)(o.Fragment,{children:"This amount needs to be present in your wallet until the volume is removed. Tokens won 't be locked nor consumed. The volume will be garbage collected once funds are removed from the wallet."}),button:(0,o.jsx)(T.ZP,{type:"submit",color:"main0",kind:"default",size:"lg",variant:"primary",disabled:s,tooltipContent:s?function(e){let{title:t,description:n}=e;return(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"tp-body3 fs-18 text-base2",children:t}),(0,o.jsx)("p",{className:"tp-body1 fs-14 text-base2",children:n})]})}({title:"Insufficient Funds",description:"You don't have enough ALEPH tokens in your wallet to create this volume. Please add more tokens to your wallet to continue."}):void 0,tooltipPosition:{my:"bottom-center",at:"top-center"},children:"Create volume"})})]})]})}),S=(0,s.ZP)("section").withConfig({displayName:"cmp___StyledSection",componentId:"sc-171wghn-0"})({paddingLeft:"0px",paddingRight:"0px",paddingBottom:"1.5rem",paddingTop:"5rem","@media (min-width: 48rem)":{paddingTop:"2.5rem",paddingBottom:"2.5rem"}})}},function(e){e.O(0,[7536,5992,9019,4747,9774,2888,179],function(){return e(e.s=90477)}),_N_E=e.O()}]);