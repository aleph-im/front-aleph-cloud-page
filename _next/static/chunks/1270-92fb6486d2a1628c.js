"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1270],{95029:function(e,t,n){n.d(t,{Z:function(){return cmp}});var i=n(85893),r=n(57833),a=n(73899),cmp=function(e){let{children:t,...n}=e;return(0,i.jsx)(s,{variant:"functional",size:"sm",className:"bg-purple0 text-main0",...n,children:t})},s=(0,r.ZP)(a.zx).withConfig({displayName:"cmp___StyledButton",componentId:"sc-1cgsxvk-0"})({display:"flex",alignItems:"center",justifyContent:"center",columnGap:"0.75rem",borderRadius:"9999px",paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",fontWeight:"700",lineHeight:"1",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"200ms","&:disabled":{cursor:"not-allowed",opacity:"0.5"}})},62394:function(e,t,n){n.d(t,{h:function(){return SidePanel},Z:function(){return m}});var i=n(85893),r=n(57833),a=n(67294);let s=r.ZP.div.withConfig({displayName:"styles__StyledBackdrop",componentId:"sc-1j8r6n5-0"})(["",""],e=>{let{theme:t,$isOpen:n,$order:i=0}=e;return(0,r.iv)(["position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.5);transition:opacity ","ms ease-in-out,visibility ","ms ease-in-out;opacity:0;visibility:hidden;z-index:",";",""],t.transition.duration.normal,t.transition.duration.normal,28+i,n&&(0,r.iv)(["opacity:1;visibility:visible;"]))}),o=r.ZP.div.withConfig({displayName:"styles__StyledHeader",componentId:"sc-1j8r6n5-1"})(["",""],e=>{let{theme:t}=e;return(0,r.iv)([""," background:",";"],{top:"0px",paddingBottom:"1rem",paddingTop:"2.5rem"},t.color.background)}),l=r.ZP.div.withConfig({displayName:"styles__StyledContent",componentId:"sc-1j8r6n5-2"})([""," overflow-y:auto;"],{flex:"1 1 0%",padding:"3rem",paddingBottom:"0px"}),d=r.ZP.div.withConfig({displayName:"styles__StyledFooter",componentId:"sc-1j8r6n5-3"})(["",""],e=>{let{theme:t,$isOpen:n}=e;return(0,r.iv)([""," background:","99;max-height:5.375rem;"," @keyframes slideUp{from{transform:translateY(100%);opacity:0;}to{transform:translateY(0);opacity:1;}}"],{position:"fixed",bottom:"0px",left:"0px",right:"0px",padding:"1.5rem"},t.color.background,n&&(0,r.iv)(["animation:slideUp ","ms "," forwards;"],t.transition.duration.normal,t.transition.timing))}),c=r.ZP.div.withConfig({displayName:"styles__StyledSidePanel",componentId:"sc-1j8r6n5-4"})(["",""],e=>{let{theme:t,$isOpen:n,$order:i=0,$width:a="43rem",$mobileHeight:s="80vh"}=e;return(0,r.iv)(["position:fixed;background-color:",";overflow:hidden;display:flex;flex-direction:column;top:1rem;right:1rem;bottom:1rem;width:calc("," - ","px);transform:translateX(100%);transition:transform ","ms ease-in-out;z-index:",";"," @media (max-width:768px){top:auto;bottom:0;left:0.5rem;right:0.5 rem;height:calc("," - ","px);width:initial;border-radius:1.5rem 1.5rem 0 0;transform:translateY(100%);transition:transform ","ms ease-in-out;","}"],t.color.background,a,20*i,t.transition.duration.normal,29+2*i,n?(0,r.iv)(["transform:translateX(0);"]):(0,r.iv)(["transform:translateX(100%);"]),s,20*i,t.transition.duration.normal,n?(0,r.iv)(["transform:translateY(0);"]):(0,r.iv)(["transform:translateY(100%);"]))}),SidePanel=e=>{let{children:t,title:n,isOpen:r,onClose:a,footer:m,order:h=0,width:x,mobileHeight:f}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s,{$isOpen:r,$order:h,onClick:a}),(0,i.jsxs)(c,{$isOpen:r,$order:h,$width:x,$mobileHeight:f,children:[(0,i.jsx)(o,{children:(0,i.jsx)(u,{className:"tp-h5",children:n})}),(0,i.jsxs)(l,{children:[t,m&&(0,i.jsx)(p,{})]}),m&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(d,{$isOpen:r,children:m})})]})]})};SidePanel.displayName="SidePanel";var m=(0,a.memo)(SidePanel),u=(0,r.ZP)("div")({display:"flex",width:"100%",alignItems:"center",justifyContent:"flex-start",paddingLeft:"3rem",paddingRight:"3rem"}),p=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-e5voeh-0"})({height:"5.375rem"})},45866:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(85893),r=n(67294),a=n(73899),s=n(57833);let o=s.ZP.div.withConfig({displayName:"styles__StyledSpinnerContainer",componentId:"sc-1ktdfah-0"})(["",""],e=>{let{theme:t,$fullScreen:n,$show:i,$center:r}=e;return(0,s.iv)([""," position:",";backdrop-filter:blur(3px);border-radius:inherit;opacity:",";align-items:",";padding-top:",";z-index:99;transition:all ease-in-out 250ms 250ms;background-color:","0C;"],{inset:"0px",display:"flex",height:"100%",minHeight:"11rem",justifyContent:"center",paddingTop:"2.5rem",paddingBottom:"2.5rem"},n?"fixed":"absolute",i?"1":"0",r?"center":"flex-start",r?"2.5rem":"6rem",t.color.contentBackground)});var l=n(73935);let SpinnerOverlay=e=>{let{show:t,center:n=!1,fullScreen:r=!1,color:d="main0",...c}=e,{shouldMount:m,stage:u}=(0,a.Yz)(t,500),p=(0,s.Fg)();d=p.color[d]||d;let h=(0,i.jsx)(i.Fragment,{children:m&&(0,i.jsx)(o,{$show:"enter"===u,$center:n,$fullScreen:r,children:(0,i.jsx)(a.$j,{color:d,...c})})});return(0,i.jsx)(i.Fragment,{children:r&&"object"==typeof document?(0,l.createPortal)(h,document.body):h})};SpinnerOverlay.displayName="SpinnerOverlay";var d=(0,r.memo)(SpinnerOverlay)},27917:function(e,t,n){n.d(t,{Z:function(){return v}});var i=n(85893),r=n(57833),a=n(67294),s=n(73899),o=n(28540),l=n(76696),d=n(77541),c=n(14685),m=n(11163),u=n(90805),p=n(7770),h=n(36541),x=n(50586),f=n(86780),g=n(9911),y=n(47104);let VolumeDetail=e=>{let{volumeId:t,showDelete:n=!1}=e,{volume:v,theme:O,handleDelete:T,handleCopyHash:A,handleDownload:M}=function(e){let{volumeId:t}=e,n=(0,r.Fg)(),i=(0,m.useRouter)(),{dispatchDeleteEntity:o}=(0,h.w)({entityName:"volume"}),{entities:l}=(0,p.S)({ids:t}),[d]=l||[],c=(0,u.B)(),{next:g,stop:y,noti:v}=(0,f.A)({}),j=(0,s.vx)((null==d?void 0:d.id)||""),w=(0,a.useCallback)(async()=>{if(!c)throw x.Z.ConnectYourWallet;if(!d)throw x.Z.WebsiteNotFound;let e=await c.getDelSteps(d),t=e.map(e=>f.n[e]),n=c.delSteps(d);try{for(;;){let{done:e}=await n.next();if(e)break;await g(t)}o(d.id),await i.replace("/console")}catch(i){console.error(i);let e=i.message,t=null==i?void 0:i.cause,n="string"==typeof t?t:null==t?void 0:t.message;null==v||v.add({variant:"error",title:"Error",text:e,detail:n})}finally{await y()}},[o,c,d,i,g,v,y]),Z=(0,a.useCallback)(async()=>{if(!c)throw x.Z.ConnectYourWallet;if(!d)throw x.Z.WebsiteNotFound;await c.download(d)},[c,d]);return{volume:d,theme:n,handleDelete:w,handleDownload:Z,handleCopyHash:j}}({volumeId:t});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(j,{children:[(0,i.jsxs)(w,{children:[(0,i.jsx)(Z,{name:"floppy-disk",className:"text-main0"}),(0,i.jsx)("div",{className:"tp-body2",children:v?(0,c.zN)(v.id):(0,i.jsx)(y.Z,{width:"10rem"})}),(0,i.jsx)(C,{kind:"secondary",variant:(null==v?void 0:v.confirmed)?"success":"warning",children:v?v.confirmed?"READY":(0,i.jsxs)(b,{children:[(0,i.jsx)(P,{children:"CONFIRMING"}),(0,i.jsx)(o.s5,{strokeColor:O.color.base2,width:".8rem"})]}):"LOADING"})]}),(0,i.jsxs)(N,{children:[(0,i.jsx)(s.zx,{size:"md",variant:"tertiary",color:"main0",kind:"default",forwardedAs:"a",onClick:M,children:(0,i.jsx)(s.JO,{name:"download"})}),n&&(0,i.jsx)(s.zx,{kind:"functional",variant:"error",size:"md",onClick:T,children:(0,i.jsx)(s.JO,{name:"trash"})})]})]}),(0,i.jsxs)(s.Jy,{children:[(0,i.jsxs)(S,{children:[(0,i.jsx)(E,{variant:"accent",children:v?g.K_[v.type]:(0,i.jsx)(y.Z,{width:"5rem",height:"1.3em"})}),(0,i.jsxs)(k,{children:[(0,i.jsx)("div",{className:"tp-info text-main0",children:"ITEM HASH"}),(0,i.jsx)(l.Z,{iconName:"copy",onClick:A,children:v?v.id:(0,i.jsx)(y.Z,{width:"12rem"})})]})]}),(0,i.jsx)(d.Z0,{}),(0,i.jsxs)(I,{children:[(0,i.jsx)("div",{className:"tp-info text-main0",children:"EXPLORER"}),(0,i.jsx)("div",{children:v?(0,i.jsx)("a",{className:"tp-body1 fs-16",href:v.url,target:"_blank",referrerPolicy:"no-referrer",children:(0,i.jsx)(l.Z,{iconName:"square-up-right",children:(0,i.jsx)(d.xv,{children:(0,c.bs)(v.url,80)})})}):(0,i.jsx)(y.Z,{width:"10rem"})})]}),(0,i.jsxs)(D,{children:[(0,i.jsxs)(_,{children:[(0,i.jsx)("div",{className:"tp-info text-main0",children:"SIZE"}),(0,i.jsx)("div",{children:(0,i.jsx)(d.xv,{className:"fs-10 tp-body1",children:v?(0,c.eB)(v.size,"MiB"):(0,i.jsx)(y.Z,{width:"2rem"})})})]}),(0,i.jsxs)(R,{children:[(0,i.jsx)("div",{className:"tp-info text-main0",children:"CREATED ON"}),(0,i.jsx)("div",{children:(0,i.jsx)(d.xv,{className:"fs-10 tp-body1",children:v?v.date:(0,i.jsx)(y.Z,{width:"5rem"})})})]})]})]})]})};VolumeDetail.displayName="VolumeDetail";var v=(0,a.memo)(VolumeDetail),j=(0,r.ZP)("div")({display:"flex",justifyContent:"space-between",paddingBottom:"1.25rem"}),w=(0,r.ZP)("div")({display:"flex",alignItems:"center"}),Z=(0,r.ZP)(s.JO)({marginRight:"1rem"}),C=(0,r.ZP)(s.__)({marginLeft:"1rem"}),b=(0,r.ZP)("div")({display:"flex",alignItems:"center"}),P=(0,r.ZP)("div")({marginRight:"0.5rem"}),N=(0,r.ZP)("div")({display:"flex",flexWrap:"wrap",justifyContent:"flex-end",gap:"0.5rem","@media (min-width: 36rem)":{gap:"1rem"}}),S=(0,r.ZP)("div")({display:"flex",alignItems:"center",justifyContent:"flex-start",overflow:"hidden"}),E=(0,r.ZP)(s.Vp)({marginRight:"1rem",whiteSpace:"nowrap"}),k=(0,r.ZP)("div")({flex:"1 1 auto"}),I=(0,r.ZP)("div")({marginTop:"1.25rem",marginBottom:"1.25rem"}),D=(0,r.ZP)("div")({marginTop:"1.25rem",marginBottom:"1.25rem",display:"flex"}),_=(0,r.ZP)("div")({marginRight:"1.25rem"}),R=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv1",componentId:"sc-72i0ie-0"})({marginRight:"1.25rem"})},24541:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(85893),r=n(57833),a=n(67294),s=n(73899),o=n(47104),l=n(77541),d=n(29159),c=n(9911),m=n(43251),u=n(33697),p=n(95029);let DomainCard=e=>{let{domain:t,onDomainClick:n}=e,r=(0,a.useRef)(null),{id:o,name:p,status:h}=t;return(0,i.jsxs)(d.Z,{onClick:()=>{n(t)},children:[(0,i.jsx)(x,{id:c.DA[c.py.Domain],color:"base2",size:"2.5rem"}),(0,i.jsxs)("div",{children:[(0,i.jsx)(u.Z,{children:"DOMAIN"}),(0,i.jsxs)(f,{children:[(0,i.jsx)(l.xv,{children:p}),h?!h.status&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{ref:r,children:(0,i.jsx)(s.JO,{size:"md",name:"warning",color:"warning"})}),(0,i.jsx)(m.Z,{my:"bottom-right",at:"top-center",targetRef:r,content:h.help})]}):(0,i.jsx)(g,{color:"main0",size:"3em"})]})]}),(0,i.jsx)(y,{name:"eye",className:"openEntityIcon"})]},o)},EntityCustomDomains=e=>{let{isLoadingCustomDomains:t,customDomains:n,onCustomDomainClick:r,onAddDomain:a}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v,{className:"tp-h7 fs-24",children:"CUSTOM DOMAINS"}),(0,i.jsx)(s.Jy,{children:(0,i.jsx)(j,{children:t?(0,i.jsxs)(d.Z,{disabled:!0,onClick:()=>null,children:[(0,i.jsx)(w,{id:c.DA[c.py.Domain],color:"base2",size:"2.5rem"}),(0,i.jsxs)("div",{children:[(0,i.jsx)(u.Z,{children:"DOMAIN"}),(0,i.jsx)(l.xv,{children:(0,i.jsx)(o.Z,{width:"7rem"})})]}),(0,i.jsx)(Z,{name:"eye",className:"openEntityIcon"})]}):n.length?n.map(e=>e&&(0,i.jsx)(DomainCard,{domain:e,onDomainClick:r},e.id)):(0,i.jsxs)(C,{children:[(0,i.jsx)("div",{children:(0,i.jsxs)(p.Z,{onClick:a,children:[(0,i.jsx)(s.JO,{name:"globe"}),"set custom domain"]})}),(0,i.jsxs)(b,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(u.Z,{children:"INFO"}),(0,i.jsx)(l.xv,{children:"You'll need to add DNS records at your domain provider to verify ownership and route traffic to this instance."})]}),(0,i.jsx)(l.J3,{children:"(Changes usually propagate within a few minutes, but may take longer depending on your provider)."})]})]})})})]})};EntityCustomDomains.displayName="EntityCustomDomains";var h=(0,a.memo)(EntityCustomDomains),x=(0,r.ZP)(s._7)({minHeight:"3rem",minWidth:"3rem"}),f=(0,r.ZP)("div")({display:"flex",alignItems:"center",gap:"0.5rem"}),g=(0,r.ZP)(s.$j)({margin:"-1rem"}),y=(0,r.ZP)(s.JO)({position:"absolute",right:"0.5rem",top:"0.5rem"}),v=(0,r.ZP)("div")({marginBottom:"0.5rem",textTransform:"uppercase"}),j=(0,r.ZP)("div")({display:"flex",flexWrap:"wrap",gap:"1rem"}),w=(0,r.ZP)(s._7)({minHeight:"3rem",minWidth:"3rem"}),Z=(0,r.ZP)(s.JO)({position:"absolute",right:"0.5rem",top:"0.5rem"}),C=(0,r.ZP)("div")({display:"flex",flexDirection:"column",gap:"1rem"}),b=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-ue1tqr-0"})({display:"flex",flexDirection:"column",gap:"0.625rem"})},25491:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(85893),r=n(57833),a=n(67294);let EntityDataColumns=e=>{let{leftColumnElements:t,rightColumnElements:n}=e,r=(0,a.useCallback)(e=>e.filter(Boolean).map((e,t)=>(0,i.jsx)("div",{children:e},t)),[]);return(0,i.jsxs)(o,{children:[(0,i.jsx)(l,{children:r(t)}),(0,i.jsx)(d,{children:r(n)})]})};EntityDataColumns.displayName="EntityDataColumns";var s=(0,a.memo)(EntityDataColumns),o=(0,r.ZP)("div")({display:"flex",width:"100%",flexWrap:"wrap",columnGap:"6rem",rowGap:"2.25rem",paddingLeft:"3rem",paddingRight:"3rem",paddingTop:"1.5rem",paddingBottom:"1.5rem"}),l=(0,r.ZP)("div")({display:"flex",width:"50%",flex:"1 1 0%",flexDirection:"column",rowGap:"2.25rem"}),d=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1vr25hv-0"})({display:"flex",width:"50%",flex:"1 1 0%",flexDirection:"column",rowGap:"2.25rem"})},21204:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(85893),r=n(57833),a=n(67294),s=n(73899),o=n(47104),l=n(77541),d=n(76696),c=n(14685),m=n(1801),u=n(33697);let EntityHostingCRN=e=>{let{nodeDetails:t,termsAndConditionsHash:n}=e,r=(0,m.c)(),[p,g]=(0,a.useState)();return(0,a.useEffect)(()=>{let fetchTermsAndConditions=async()=>{if(!r||!n)return g(void 0);try{var e;let{content:t}=await r.get(n);if(!t)return g(void 0);let i=t.item_hash,a=null===(e=t.metadata)||void 0===e?void 0:e.name,s="https://ipfs.aleph.im/ipfs/".concat(i,"?filename=").concat(a);g({cid:i,name:a,url:s})}catch(e){console.error(e)}};fetchTermsAndConditions()},[r,n]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h,{className:"tp-h7 fs-24",children:"HOSTING CRN"}),(0,i.jsx)(s.Jy,{children:(0,i.jsxs)(x,{children:[(0,i.jsxs)(f,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(u.Z,{children:"NAME"}),(0,i.jsx)("div",{children:(0,i.jsx)(l.xv,{children:t?t.name:(0,i.jsx)(o.Z,{width:"7rem"})})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(u.Z,{children:"URL"}),(0,i.jsx)("div",{children:t?(0,i.jsx)("a",{className:"tp-body1 fs-16",href:t.url,target:"_blank",referrerPolicy:"no-referrer",children:(0,i.jsx)(d.Z,{iconName:"square-up-right",children:(0,i.jsx)(l.xv,{children:(0,c.bs)(t.url,80)})})}):(0,i.jsx)(o.Z,{width:"12rem"})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(u.Z,{children:"VERSION"}),(0,i.jsx)("div",{children:(0,i.jsx)(l.xv,{children:t?t.version:(0,i.jsx)(o.Z,{width:"4rem"})})})]})]}),p&&(0,i.jsxs)("div",{children:[(0,i.jsx)(u.Z,{children:"ACCEPTED T&C"}),(0,i.jsx)("div",{children:(0,i.jsx)("a",{className:"tp-body1 fs-16",href:p.url,target:"_blank",referrerPolicy:"no-referrer",children:(0,i.jsx)(d.Z,{iconName:"square-up-right",children:(0,i.jsx)(l.xv,{children:p.name})})})})]})]})})]})};EntityHostingCRN.displayName="EntityHostingCRN";var p=(0,a.memo)(EntityHostingCRN),h=(0,r.ZP)("div")({marginBottom:"0.5rem",textTransform:"uppercase"}),x=(0,r.ZP)("div")({display:"flex",flexDirection:"column",gap:"1rem"}),f=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-6n9s3u-0"})({display:"flex",gap:"1rem"})},73635:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(85893),r=n(57833),a=n(67294),s=n(73899),o=n(77541),l=n(29159),d=n(14685),c=n(95029);function LinkedVolumeItem(e){let{volume:t,onClick:n}=e,r=(0,s.vx)(t.id),m=(0,a.useCallback)(e=>{r(),e.preventDefault()},[r]);return(0,i.jsxs)(u,{children:[(0,i.jsxs)(l.Z,{onClick:n,children:[(0,i.jsx)(p,{id:"Object16",color:"base2",size:"2.5rem"}),(0,i.jsxs)(h,{children:[(0,i.jsx)("div",{className:"tp-info",children:t.mount}),(0,i.jsx)(o.xv,{className:"fs-12",children:(0,d.eB)(t.size,"MiB")})]}),(0,i.jsx)(x,{name:"eye",className:"openEntityIcon"})]}),(0,i.jsxs)(c.Z,{onClick:m,children:[(0,i.jsx)(s.JO,{name:"copy"}),"copy hash"]})]})}let EntityLinkedVolumes=e=>{let{linkedVolumes:t,onImmutableVolumeClick:n}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f,{className:"tp-h7 fs-24",children:"LINKED VOLUMES"}),(0,i.jsx)(s.Jy,{children:(0,i.jsx)(g,{children:t.map(e=>e&&(0,i.jsx)(LinkedVolumeItem,{volume:e,onClick:()=>n(e)},"linked-volume-".concat(e.id)))})})]})};EntityLinkedVolumes.displayName="EntityLinkedVolumes";var m=(0,a.memo)(EntityLinkedVolumes),u=(0,r.ZP)("div")({display:"flex",flexWrap:"wrap",alignItems:"center",gap:"1rem"}),p=(0,r.ZP)(s._7)({minHeight:"3rem",minWidth:"3rem"}),h=(0,r.ZP)("div")({display:"flex",flexDirection:"column",alignItems:"flex-start"}),x=(0,r.ZP)(s.JO)({position:"absolute",right:"0.5rem",top:"0.5rem"}),f=(0,r.ZP)("div")({marginBottom:"0.5rem",textTransform:"uppercase"}),g=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-qd3djw-0"})({display:"flex",flexDirection:"column",gap:"1rem"})},85786:function(e,t,n){n.d(t,{W:function(){return p},V:function(){return v}});var i=n(85893),r=n(57833),a=n(67294),s=n(73899),o=n(77541),l=n(45866);function LogsFeed(e){let{logs:t}=e,n=!(null==t?void 0:t.stdout)&&!(null==t?void 0:t.stderr);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.DU,{type:"h7",as:"h2",color:"main0",children:"Stdout"}),(0,i.jsxs)(d,{children:[(0,i.jsx)(l.Z,{show:n,color:"white"}),(0,i.jsx)(c,{readOnly:!0,name:"stdout",placeholder:n?"Loading logs...":"No Stdout logs found",value:null==t?void 0:t.stdout,variant:"code"})]}),(0,i.jsx)(o.Z0,{}),(0,i.jsx)(s.DU,{type:"h7",as:"h2",color:"main0",children:"Stderr"}),(0,i.jsxs)(m,{children:[(0,i.jsx)(l.Z,{show:n,color:"white"}),(0,i.jsx)(u,{readOnly:!0,name:"stderr",placeholder:n?"Loading logs...":"No Stderr logs found",value:null==t?void 0:t.stderr,variant:"code"})]})]})}var d=(0,r.ZP)("div")({position:"relative",borderRadius:"0.75rem"}),c=(0,r.ZP)(s.Kx)({height:"30rem"}),m=(0,r.ZP)("div")({position:"relative",borderRadius:"0.75rem"}),u=(0,r.ZP)(s.Kx).withConfig({displayName:"cmp___StyledTextArea2",componentId:"sc-1x5rn77-0"})({height:"30rem"});let EntityLogsContent=e=>{let{logs:t}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h,{className:"tp-h7",children:"LOGS"}),(0,i.jsx)(x,{children:"Real-time logs of the virtual machine. Use this to debug any issue with the boot of your instance and to monitor the behavior of your instance while it is running."}),(0,i.jsx)(f,{children:(0,i.jsx)(LogsFeed,{logs:t})})]})};EntityLogsContent.displayName="EntityLogsContent";var p=(0,a.memo)(EntityLogsContent),h=(0,r.ZP)("div")({width:"100%",textAlign:"center"}),x=(0,r.ZP)("div")({width:"100%",maxWidth:"48rem"}),f=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1rd4813-0"})({width:"100%",paddingTop:"1rem",paddingBottom:"1rem"}),g=n(95029),y=n(33697);let EntityLogsControl=e=>{let{onViewLogs:t,onDownloadLogs:n,disabled:r=!1,downloadingLogs:a=!1}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(j,{className:"tp-h7 fs-24",children:"LOGS"}),(0,i.jsx)(s.Jy,{children:(0,i.jsxs)(w,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(y.Z,{children:"INFO"}),(0,i.jsx)(o.xv,{children:"Real-time logs of the virtual machine. Use this to debug any issue with the boot of your instance and to monitor the behavior of your instance while it is running."})]}),(0,i.jsxs)(Z,{children:[(0,i.jsxs)(g.Z,{onClick:t,disabled:r,children:[(0,i.jsx)(s.JO,{name:"eye"}),"view"]}),(0,i.jsxs)(g.Z,{onClick:n,disabled:r||a,children:[(0,i.jsx)(s.JO,{name:a?"spinner":"download",spin:a}),a?"downloading...":"download logs"]})]})]})})]})};EntityLogsControl.displayName="EntityLogsControl";var v=(0,a.memo)(EntityLogsControl),j=(0,r.ZP)("div")({marginBottom:"0.5rem",textTransform:"uppercase"}),w=(0,r.ZP)("div")({display:"flex",flexDirection:"column",gap:"1rem"}),Z=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-8l9wsv-0"})({display:"flex",flexWrap:"wrap",gap:"1.5rem"})},91986:function(e,t,n){n.d(t,{Z:function(){return x}});var i=n(85893),r=n(57833),a=n(67294),s=n(73899),o=n(77541),l=n(60566),d=n(72077),c=n(9911);function getTimeComponents(e){let t=e%86400;return{days:Math.floor(e/86400),hours:Math.floor(t/3600),minutes:Math.floor(t%3600/60),seconds:Math.floor(t%60)}}var m=n(47104),u=n(76696),p=n(14685),h=n(33697);let PaymentCard=e=>{let{paymentData:t}=e,{isStream:n,totalSpent:r,formattedBlockchain:x,formattedFlowRate:C,formattedStartDate:b,formattedDuration:P,loading:N,receiverAddress:S,receiverType:E,handleCopyReceiverAddress:k}=function(e){let{cost:t,paymentType:n,runningTime:i,startTime:r,blockchain:o,loading:m=!1}=e,u=(0,a.useMemo)(()=>{if(n===l.uG.superfluid)return e.receiver},[e,n]),p=(0,a.useMemo)(()=>n===l.uG.superfluid,[n]),h=(0,a.useMemo)(()=>{if(!t)return;if(!p)return t.toString();if(!i)return;let{days:e,hours:n,minutes:r}=getTimeComponents(i);return(t*(24*e+n+r/60)).toFixed(6)},[t,p,i]),x=(0,a.useMemo)(()=>{if(o)return d.DR[o].name},[o]),f=(0,a.useMemo)(()=>{if(!p||!t)return;let e=24*t;return"~".concat(e.toFixed(4),"/day")},[t,p]),g=(0,a.useMemo)(()=>{if(!r)return;let e=new Date(1e3*r);return e.toLocaleString("en-US",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})},[r]),y=(0,a.useMemo)(()=>{if(!i)return;let{days:e,hours:t,minutes:n,seconds:r}=getTimeComponents(i),a=t.toString().padStart(2,"0"),s=n.toString().padStart(2,"0"),o=r.toString().padStart(2,"0");return e>0?"".concat(e," ").concat(1===e?"Day":"Days"," ").concat(a,":").concat(s,":").concat(o):"".concat(a,":").concat(s,":").concat(o)},[i]),v=(0,a.useMemo)(()=>{if(u)return u==c.qq?"Community Wallet (20%)":"Node Operator (80%)"},[u]),j=(0,s.vx)(u||"");return{isStream:p,totalSpent:h,formattedBlockchain:x,formattedFlowRate:f,formattedStartDate:g,formattedDuration:y,loading:m,receiverAddress:u,receiverType:v,handleCopyReceiverAddress:j}}(t);return(0,i.jsx)(s.Jy,{children:(0,i.jsxs)(f,{children:[(0,i.jsxs)(g,{children:[(0,i.jsxs)(y,{className:"bg-main0 text-base0",children:[(0,i.jsx)(s.TR,{img:"aleph",color:"base0",byAleph:!1}),(0,i.jsx)(v,{children:"ALEPH"})]}),(0,i.jsx)(j,{className:"text-base2 fs-18",children:r||(0,i.jsx)(m.Z,{width:"5rem"})})]}),(0,i.jsxs)(w,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(h.Z,{children:"TYPE"}),(0,i.jsx)(o.xv,{children:N?(0,i.jsx)(m.Z,{width:"5rem"}):n?"Stream":"Holding"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(h.Z,{children:"BLOCKCHAIN"}),(0,i.jsx)(o.xv,{children:x||(0,i.jsx)(m.Z,{width:"3rem"})})]}),E&&(0,i.jsxs)("div",{children:[(0,i.jsx)(h.Z,{children:"RECEIVER"}),(0,i.jsx)(o.xv,{children:E})]}),S&&(0,i.jsxs)("div",{children:[(0,i.jsx)(h.Z,{children:"RECEIVER ADDRESS"}),(0,i.jsx)(u.Z,{iconName:"copy",onClick:k,children:(0,p.zN)(S)})]})]}),(0,i.jsxs)(Z,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(h.Z,{children:"START DATE"}),(0,i.jsx)(o.xv,{children:b||(0,i.jsx)(m.Z,{width:"8rem"})})]}),n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(h.Z,{children:"FLOW RATE"}),(0,i.jsx)(o.xv,{children:C||(0,i.jsx)(m.Z,{width:"5rem"})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(h.Z,{children:"TIME ELAPSED"}),(0,i.jsx)(o.xv,{children:P||(0,i.jsx)(m.Z,{width:"4rem"})})]})]})]})]})})},EntityPayment=e=>{let{payments:t}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(C,{className:"tp-h7 fs-24",children:"PAYMENT"}),(0,i.jsx)(b,{children:t.map((e,t)=>(0,i.jsx)(PaymentCard,{paymentData:e},"payment-".concat(t,"-").concat(e.paymentType)))})]})};EntityPayment.displayName="EntityPayment";var x=(0,a.memo)(EntityPayment),f=(0,r.ZP)("div")({display:"flex",flexDirection:"column",gap:"1rem",padding:"1rem"}),g=(0,r.ZP)("div")({display:"flex",alignItems:"center",gap:"1rem"}),y=(0,r.ZP)("div")({display:"flex",alignItems:"center",gap:"0.25rem",paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"}),v=(0,r.ZP)("div")({fontWeight:"700",textTransform:"uppercase",lineHeight:"1.625"}),j=(0,r.ZP)("p")({fontWeight:"700"}),w=(0,r.ZP)("div")({display:"flex",flexWrap:"wrap",columnGap:"1.5rem",rowGap:"1rem"}),Z=(0,r.ZP)("div")({display:"flex",flexWrap:"wrap",columnGap:"1.5rem",rowGap:"1rem"}),C=(0,r.ZP)("div")({marginBottom:"0.5rem",textTransform:"uppercase"}),b=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv8",componentId:"sc-1uiuq9y-0"})({display:"flex",flexDirection:"column",gap:"1rem"})},36943:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(85893),r=n(57833),a=n(67294),s=n(73899),o=n(77541),l=n(14685);let EntityPersistentStorage=e=>{let{persistentVolumes:t}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c,{className:"tp-h7 fs-24",children:"PERSISTENT STORAGE"}),(0,i.jsx)(s.Jy,{children:(0,i.jsxs)(m,{children:[(0,i.jsx)(u,{id:"Object16",color:"main0",size:"3rem"}),(0,i.jsx)(p,{children:t.map((e,t)=>e&&(0,i.jsx)("div",{children:(0,i.jsx)(h,{className:"bg-base1",children:(0,i.jsxs)(x,{children:[(0,i.jsx)("div",{className:"tp-info fs-12",children:e.name}),(0,i.jsx)("div",{className:"tp-info",children:e.mount}),(0,i.jsx)(f,{children:(0,i.jsx)(o.xv,{className:"fs-12",children:(0,l.eB)(e.size_mib,"MiB")})})]})})},"persistent-volume-".concat(t)))})]})})]})};EntityPersistentStorage.displayName="EntityPersistentStorage";var d=(0,a.memo)(EntityPersistentStorage),c=(0,r.ZP)("div")({marginBottom:"0.5rem",textTransform:"uppercase"}),m=(0,r.ZP)("div")({display:"flex",gap:"1rem"}),u=(0,r.ZP)(s._7)({minHeight:"4rem",minWidth:"4rem"}),p=(0,r.ZP)("div")({display:"flex",flexWrap:"wrap",gap:"1rem"}),h=(0,r.ZP)("div")({display:"flex",gap:"0.5rem",padding:"0.75rem",opacity:"0.6"}),x=(0,r.ZP)("div")({display:"flex",flexDirection:"column",gap:"0.25rem"}),f=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv6",componentId:"sc-sjix65-0"})({display:"flex",alignItems:"center",justifyContent:"space-between",gap:"1rem"})},33697:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(85893),r=n(57833),a=n(67294);let InfoTitle=e=>{let{children:t}=e;return(0,i.jsx)(o,{className:"tp-info text-main0 fs-12",children:t})};InfoTitle.displayName="InfoTitle";var s=(0,a.memo)(InfoTitle),o=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-19molqx-0"})({textAlign:"left"})},30425:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(85893),r=n(57833),a=n(67294),s=n(73899),o=n(19584),l=n(47104),d=n(28540);let EntityStatusV2=e=>{let{theme:t,calculatedStatus:n}=e,r=(0,a.useMemo)(()=>{switch(n){case"not-allocated":case"stopping":case"preparing":return"warning";case"stopped":return"error";case"running":return"success"}},[n]),o=(0,a.useMemo)(()=>{switch(n){case"not-allocated":return"NOT ALLLOCATED";case"stopped":return"STOPPED";case"stopping":return"STOPPING";case"running":return"RUNNING";case"preparing":return"PREPARING"}},[n]),l=(0,a.useMemo)(()=>{switch(n){case"not-allocated":case"stopped":case"running":return!1;case"stopping":case"preparing":return!0}},[n]);return(0,i.jsx)(s.__,{kind:"secondary",variant:r,children:(0,i.jsxs)(m,{children:[(0,i.jsx)(s.JO,{name:"alien-8bit",className:"text-".concat(r)}),(0,i.jsx)("div",{children:o}),l&&(0,i.jsx)(d.s5,{strokeColor:t.color.base2,width:".8rem"})]})})},EntityStatusV1=e=>{let{entity:t,isAllocated:n,theme:r}=e,o=(0,a.useMemo)(()=>t&&t.time<Date.now()-45e3&&n?"success":"warning",[t,n]);return(0,i.jsx)(s.__,{kind:"secondary",variant:o,children:(0,i.jsxs)(u,{children:[(0,i.jsx)(s.JO,{name:"alien-8bit",className:"text-".concat(o)}),n?"ALLOCATED":(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{children:t?"CONFIRMING":"LOADING"}),(0,i.jsx)(d.s5,{strokeColor:r.color.base2,width:".8rem"})]})]})})},EntityStatus=e=>{let{entity:t,isAllocated:n,calculatedStatus:r,theme:a}=e;return"loading"!==r&&t?"v1"===r?(0,i.jsx)(EntityStatusV1,{entity:t,isAllocated:n,theme:a}):(0,i.jsx)(EntityStatusV2,{calculatedStatus:r,theme:a}):(0,i.jsx)(s.__,{kind:"secondary",variant:"warning",children:(0,i.jsxs)(p,{children:[(0,i.jsx)("div",{children:"Loading"}),(0,i.jsx)(d.s5,{strokeColor:a.color.base2,width:".8rem"})]})})};EntityStatus.displayName="EntityStatus";var c=(0,a.memo)(EntityStatus),m=(0,r.ZP)("div")({display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"}),u=(0,r.ZP)("div")({display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"}),p=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-15v116s-0"})({display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"});let ManageEntityHeader=e=>{let{name:t,isAllocated:n,entity:a,type:m,calculatedStatus:u,showStop:p=!1,stopDisabled:h,stopLoading:w=!1,onStop:Z,showStart:C=!1,startDisabled:b,startLoading:P=!1,onStart:N,showReboot:S=!1,rebootDisabled:E,rebootLoading:k=!1,onReboot:I,showDelete:D=!1,deleteDisabled:_,deleteLoading:R=!1,onDelete:O,showDownload:T=!1,downloadDisabled:A,downloadLoading:M=!1,onDownload:L,onBack:B}=e,F=(0,r.Fg)();return(0,i.jsx)(x,{children:(0,i.jsxs)(f,{children:[(0,i.jsx)(g,{children:(0,i.jsx)(o.Z,{handleBack:B})}),(0,i.jsxs)(y,{children:[(0,i.jsx)(c,{calculatedStatus:u,entity:a,isAllocated:n,theme:F}),(0,i.jsx)(v,{className:"tp-h7 fs-18",children:a?t:(0,i.jsx)(l.Z,{width:"20rem"})})]}),(0,i.jsxs)(j,{children:[p&&(0,i.jsx)(s.u,{content:"Stop ".concat(m),my:"bottom-center",at:"top-center",children:(0,i.jsx)(s.zx,{kind:"functional",variant:"secondary",size:"sm",onClick:Z,disabled:h||w,children:w?(0,i.jsx)(d.s5,{strokeColor:F.color.base2,width:".8rem"}):(0,i.jsx)(s.JO,{name:"stop"})})}),C&&(0,i.jsx)(s.u,{content:"Reallocate ".concat(m),my:"bottom-center",at:"top-center",children:(0,i.jsx)(s.zx,{kind:"functional",variant:"secondary",size:"sm",onClick:N,disabled:b||P,children:P?(0,i.jsx)(d.s5,{strokeColor:F.color.base2,width:".8rem"}):(0,i.jsx)(s.JO,{name:"play"})})}),S&&(0,i.jsx)(s.u,{content:"Reboot ".concat(m),my:"bottom-center",at:"top-center",children:(0,i.jsx)(s.zx,{kind:"functional",variant:"secondary",size:"sm",onClick:I,disabled:E||k,children:k?(0,i.jsx)(d.s5,{strokeColor:F.color.base2,width:".8rem"}):(0,i.jsx)(s.JO,{name:"arrow-rotate-backward"})})}),T&&(0,i.jsx)(s.u,{content:"Download ".concat(m),my:"bottom-center",at:"top-center",children:(0,i.jsx)(s.zx,{variant:"tertiary",color:"main0",kind:"default",forwardedAs:"a",size:"sm",onClick:L,disabled:A||M,children:M?(0,i.jsx)(d.s5,{strokeColor:F.color.base2,width:".8rem"}):(0,i.jsx)(s.JO,{name:"download"})})}),D&&(0,i.jsx)(s.u,{content:"Remove ".concat(m),my:"bottom-center",at:"top-center",children:(0,i.jsx)(s.zx,{kind:"functional",variant:"error",size:"sm",onClick:O,disabled:_||R,children:R?(0,i.jsx)(d.s5,{strokeColor:F.color.base2,width:".8rem"}):(0,i.jsx)(s.JO,{name:"trash"})})})]})]})})};ManageEntityHeader.displayName="ManageEntityHeader";var h=(0,a.memo)(ManageEntityHeader),x=(0,r.ZP)("section")({paddingTop:"0px !important",paddingBottom:"1.5rem",paddingLeft:"3rem",paddingRight:"3rem","@media (min-width: 48rem)":{paddingTop:"2.5rem !important"}}),f=(0,r.ZP)("div")({display:"flex",alignItems:"center",justifyContent:"space-between",gap:"2rem",paddingTop:"0px !important",paddingBottom:"0px !important",paddingLeft:"0px",paddingRight:"0px","@media (min-width: 48rem)":{paddingTop:"2.5rem !important"}}),g=(0,r.ZP)("div")({flex:"1 1 0%"}),y=(0,r.ZP)("div")({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.5rem",textAlign:"center","@media (min-width: 48rem)":{flexDirection:"row"}}),v=(0,r.ZP)("div")({textTransform:"uppercase"}),j=(0,r.ZP)("div").withConfig({displayName:"cmp___StyledDiv5",componentId:"sc-aqirr5-0"})({display:"flex",flex:"1 1 0%",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-end",gap:"1rem","@media (min-width: 48rem)":{flexWrap:"nowrap"}})},29159:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(85893),r=n(57833),a=n(67294),s=n(73899);let o=r.ZP.button.withConfig({displayName:"styles__StyledRelatedEntityCard",componentId:"sc-vpko2b-0"})([""," ",""],{position:"relative",display:"flex",width:"fit-content",alignItems:"center",gap:"1rem",padding:"0.5rem",paddingRight:"2rem"},e=>{let{theme:t,$disabled:n}=e;return(0,r.iv)(["transition-property:all;transition-duration:","ms;transition-timing-function:",";.openEntityIcon{transition-property:all;transition-duration:","ms;transition-timing-function:",";}",""],t.transition.duration.fast,t.transition.timing,t.transition.duration.fast,t.transition.timing,n?(0,r.iv)(["background-color:",";opacity:0.5;cursor:not-allowed;"],t.color.base1):(0,r.iv)(["background-color:",";.openEntityIcon{color:",";}&:hover{background-color:","30;.openEntityIcon{color:",";}}"],t.color.base1,t.color.purple2,t.color.purple4,t.color.main0))}),RelatedEntityCard=e=>{let{children:t,disabled:n=!1,onClick:r}=e,s=(0,a.useCallback)(()=>{n||r()},[n,r]);return(0,i.jsxs)(o,{onClick:s,$disabled:n,children:[t,(0,i.jsx)(d,{name:"eye",className:"openEntityIcon"})]})};RelatedEntityCard.displayName="RelatedEntityCard";var l=(0,a.memo)(RelatedEntityCard),d=(0,r.ZP)(s.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-1pmn4kk-0"})({position:"absolute",right:"0.5rem",top:"0.5rem"})},65785:function(e,t,n){n.d(t,{D:function(){return calculateExecutableStatus}});var i=n(9911);function calculateExecutableStatus(e,t,n){if(!e)return"loading";if((null==t?void 0:t.version)==="v1"||n===i.py.Program)return"v1";let r=function(e){let t;if(!(null==e?void 0:e.status))return;let n=-1/0;for(let[i,r]of Object.entries(e.status)){if(!i.endsWith("At")||null===r)continue;let e=new Date(r).getTime();e>n&&(n=e,t=i)}if(t)return{latestKey:t,latestTime:n}}(t);if(!r)return"not-allocated";switch(r.latestKey){case"stoppedAt":return"stopped";case"stoppingAt":return"stopping";case"startedAt":return"running";case"preparingAt":return"preparing";default:return"not-allocated"}}},50090:function(e,t,n){n.d(t,{Z:function(){return useClassifyMachineVolumes}});var i=n(14685),r=n(67294),a=n(90805);function useClassifyMachineVolumes(e){let{volumes:t}=e,n=(0,a.B)(),[s,o]=(0,r.useState)([]),l=(0,r.useMemo)(()=>t?t.filter(e=>(0,i.w2)(e)):[],[t]);return(0,r.useEffect)(()=>{if(!t||!n)return;let buildVolumes=async()=>{let e=t.filter(e=>!(0,i.w2)(e)&&!(0,i.Py)(e)),r=await Promise.all(e.map(async e=>{let t=await n.get(e.ref);return{...e,...t}}));o(r)};buildVolumes()},[t,n]),{persistentVolumes:l,immutableVolumes:s}}},37850:function(e,t,n){n.d(t,{Z:function(){return useDownloadLogs}});var i=n(14685),r=n(73899),a=n(67294);function useDownloadLogs(e){let{fileName:t,logs:n}=e,s=(0,r.lm)(),[o,l]=(0,a.useState)(!1),[d,c]=(0,a.useState)(!1),m=(0,a.useRef)(),u=(0,a.useCallback)(()=>{if(!d&&!o)try{c(!0),l(!0),m.current=setTimeout(()=>{l(!1),c(!1),null==s||s.add({variant:"warning",title:"Download failed",text:"Logs could not be retrieved in time. Please try again."})},3e4)}catch(e){console.error("Error initiating logs download:",e),null==s||s.add({variant:"error",title:"Error downloading logs",text:null==e?void 0:e.message}),l(!1),c(!1),m.current&&(clearTimeout(m.current),m.current=void 0)}},[d,o,s]);return(0,a.useEffect)(()=>{if(o&&n){let{stdout:e,stderr:r}=n;(e.length>0||r.length>0)&&(((e,t,n)=>{let r=new Date().toISOString().replace(/[:.]/g,"-"),a=e.replace(/\s+/g,"_").toLowerCase();t.trim()&&(0,i.lm)(new Blob([t],{type:"text/plain"}),"stdout_".concat(a,"_").concat(r,".log")),n.trim()&&(0,i.lm)(new Blob([n],{type:"text/plain"}),"stderr_".concat(a,"_").concat(r,".log"))})(t,e,r),m.current&&(clearTimeout(m.current),m.current=void 0),l(!1),c(!1))}return()=>{m.current&&clearTimeout(m.current)}},[o,n,t]),{handleDownloadLogs:u,isDownloadingLogs:o||d}}},63831:function(e,t,n){var i=n(67294),r=n(80380),a=n(36924);t.Z=function(e){let{entityId:t}=e,n=(0,r.A)(),{entities:s,loading:o}=(0,a.d)(),[l,d]=(0,i.useState)([]),[c,m]=(0,i.useState)(!0),u=(0,i.useMemo)(()=>t&&s?s.filter(e=>e.ref&&t.includes(e.ref)):[],[t,s]);return(0,i.useEffect)(()=>{if(!n||0===u.length){m(!1);return}let fetchDomainStatuses=async()=>{try{let e=await Promise.all(u.map(async e=>{let t=await n.checkStatus(e);return{...e,status:t}}));d(e)}finally{m(!1)}};fetchDomainStatuses();let e=setInterval(fetchDomainStatuses,3e4);return()=>clearInterval(e)},[u,n]),{customDomains:l.length?l:u,isLoading:o||c,isLoadingDomains:o,isLoadingDomainStatus:c}}},57125:function(e,t,n){n.d(t,{y:function(){return useExecutableActions}});var i=n(67294),r=n(73899),a=n(68885),s=n(50586),o=n(60566),l=n(72077),d=n(9754),c=n(80987),m=n(65785),u=n(14685),p=n(99978),h=n(86780),x=n(9324),f=n(36541),g=n(11163),y=n(85704),v=n(62283),j=n(2877);let StaticEVMAccount=class StaticEVMAccount extends v.TM{getChainMetadata(){let e=this.chain===l.Ek.AVAX?v.Nd.AVAX:this.chain===l.Ek.BASE?v.Nd.BASE:void 0;if(!e)throw Error("Invalid RPC network");return v.l2[e]}async getChainId(){let e=this.getChain();return l.DR[e].chainId}getChain(){return this.chain}async askPubKey(){}async sign(){return""}constructor(e,t){super(e),this.address=e,this.chain=t,this.wallet=Object.create(v.u6.prototype),this.wallet.connect=async()=>void 0,this.wallet.getCurrentChainId=async()=>this.getChainId();let{rpcUrls:n,chainName:i,chainId:r}=this.getChainMetadata(),a=new j.r(n.at(0),{name:i,chainId:(0,v.RW)(r)});this.wallet.provider=a}};var w=n(9911);function useExecutableActions(e){var t,n;let{manager:v,executable:j,subscribeLogs:Z}=e,C=(null==j?void 0:null===(t=j.payment)||void 0===t?void 0:t.type)===o.uG.superfluid,b=null==j?void 0:j.id,{status:P,calculatedStatus:N,triggerBoostPolling:S}=function(e){let{executable:t,manager:n}=e,[r,a]=(0,i.useState)(void 0),[s,o]=(0,i.useState)(!1),l=(0,i.useRef)(),d=(0,i.useRef)(0),c=(0,i.useRef)(!1),u=(0,i.useRef)(),p=(0,i.useMemo)(()=>(0,m.D)(s,r,null==t?void 0:t.type),[s,r,null==t?void 0:t.type]),h=(0,i.useRef)(p);h.current=p,(0,i.useEffect)(()=>{if(!n||!t)return;async function request(){if(n&&t&&!c.current)try{let e=await n.checkStatus(t);a(e)}finally{o(!0)}}request();let e=setInterval(()=>{"running"!==h.current&&request()},1e4);return()=>clearInterval(e)},[t,n]);let x=(0,i.useCallback)(e=>{if(!n||!t)return;let{expectedStatuses:i,onComplete:r}=e||{};l.current&&clearInterval(l.current),d.current=0,c.current=!0,u.current=r;let stopBoostPolling=()=>{var e;l.current&&clearInterval(l.current),c.current=!1,null===(e=u.current)||void 0===e||e.call(u),u.current=void 0},boostRequest=async()=>{if(n&&t){if(d.current++,d.current>=10){stopBoostPolling();return}try{let e=await n.checkStatus(t);if(a(e),o(!0),null==i?void 0:i.length){let n=(0,m.D)(!0,e,null==t?void 0:t.type);i.includes(n)&&stopBoostPolling()}}catch(e){}}};boostRequest(),l.current=setInterval(boostRequest,2e3)},[n,t]);return(0,i.useEffect)(()=>()=>{l.current&&clearInterval(l.current)},[]),{status:r,calculatedStatus:p,triggerBoostPolling:x}}({executable:j,manager:v}),[E,k]=(0,d.mr)(),{account:I,blockchain:D}=E.connection,{dispatchDeleteEntity:_}=(0,f.w)({entityName:(null==j?void 0:j.type)||""}),R=(0,r.lm)(),[O,T]=(0,i.useState)(),[A,M]=(0,i.useState)(!1),[L,B]=(0,i.useState)(!1),[F,z]=(0,i.useState)(!1),[W,V]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=!1;return async function(){if(T(void 0),!v||!j)return;let t=await v.getAllocationCRN(j);e||T(t)}(),()=>{e=!0}},[j,v]);let G=(0,i.useMemo)(()=>{if(O)return{name:O.name||O.hash,url:O.address||"",version:O.version||"unknown"}},[O]),J=(0,i.useMemo)(()=>{let{url:e=""}=G||{};return a.B.normalizeUrl(e)},[G]),H=(0,i.useCallback)(e=>{if(!e||e===D)return;let t=l.DR[e];return(null==t?void 0:t.name)||e.toString()},[D]),q=(0,i.useCallback)(async(e,t,n)=>{try{if(!v)throw s.Z.ConnectYourWallet;if(!J||!b)throw s.Z.InvalidNode;null==t||t(!0),await v.sendPostOperation({hostname:J,operation:e,vmId:b}),S({expectedStatuses:n,onComplete:()=>null==t?void 0:t(!1)})}catch(e){null==t||t(!1),null==R||R.add({variant:"error",title:"Error",text:null==e?void 0:e.message})}},[v,J,R,b,S]),Y=(0,i.useCallback)(async()=>{if(!v)throw s.Z.ConnectYourWallet;if(!j)throw s.Z.InstanceNotFound;if(!C)throw s.Z.StreamNotSupported;try{var e;B(!0);let t=null===(e=j.payment)||void 0===e?void 0:e.chain,n=H(t);if(n)throw s.Z.NetworkMismatch(n);if(C&&!(0,y.G)(I)||!O)throw s.Z.ConnectYourPaymentWallet;C&&await v.notifyCRNAllocation(O,j.id),S({expectedStatuses:["running"],onComplete:()=>B(!1)})}catch(e){B(!1),null==R||R.add({variant:"error",title:"Error",text:null==e?void 0:e.message})}},[O,j,C,v,R,H,I,S]),$=!!(null==P?void 0:P.ipv6Parsed),U=(0,i.useMemo)(()=>{if(!C||!O)return!0;switch(N){case"v1":return!$;case"running":return!1;default:return!0}},[N,O,$,C]),K=(0,i.useMemo)(()=>{if(!O)return!0;switch(N){case"v1":return $;case"stopped":case"not-allocated":return!1;default:return!0}},[N,O,$]),X=(0,i.useMemo)(()=>{if(!O)return!0;switch(N){case"v1":return!$;case"running":return!1;default:return!0}},[N,O,$]),Q=(0,i.useMemo)(()=>!j,[j]),ee=(0,i.useCallback)(()=>q("stop",M,["stopped","not-allocated"]),[q]),et=(0,i.useCallback)(()=>q("reboot",z),[q]),en=function(e){let{nodeUrl:t,vmId:n,tail:a=100,subscribe:s=!0}=e,o=(0,p.U)(),[l,d]=(0,i.useState)([]),[c,m]=(0,i.useState)([]),h=(0,r.$P)(l,200),x=(0,r.$P)(c,200),f=(0,i.useMemo)(()=>h.join("\n"),[h]),g=(0,i.useMemo)(()=>x.join("\n"),[x]),y=(0,i.useMemo)(()=>!o||!t||!n,[o,t,n]);return(0,i.useEffect)(()=>{let e=new u.ol,subscribeFeed=async()=>{if(!s||!o||!t||!n)return;let i=o.subscribeLogs({abort:e.promise,vmId:n,hostname:t});try{for await(let e of i){let t="stdout"===e.type?d:m;t(t=>{let n=t.concat(e.message);return n.slice(Math.max(n.length-a,0))})}}catch(e){console.error(e)}};return subscribeFeed(),()=>e.resolve()},[o,t,n,a,s]),y?void 0:{stdout:f,stderr:g}}({nodeUrl:J,vmId:b,subscribe:Z}),ei=(0,g.useRouter)(),{next:er,stop:ea}=(0,h.A)({}),es=(0,i.useCallback)(async()=>{if(!v)throw s.Z.ConnectYourWallet;if(!j)throw s.Z.InstanceNotFound;try{var e,t;V(!0);let n=j.chain||(null===(e=j.payment)||void 0===e?void 0:e.chain),i=(null===(t=j.payment)||void 0===t?void 0:t.type)===o.uG.superfluid,r=H(n);if(r)throw s.Z.NetworkMismatch(r);if(i&&!(0,y.G)(I))throw s.Z.ConnectYourPaymentWallet;let a=i?await (0,c.OH)(I):void 0;_(j.id);try{let e=await v.getDelSteps(j),t=e.map(e=>h.n[e]),n=v.delSteps(j,a);for(;;){let{done:e}=await n.next();if(e)break;await er(t)}}catch(e){throw k(new x.Wy({name:j.type,entities:[j]})),e}await ei.replace(w.cr.console.home)}catch(i){console.error(i);let e=i.message,t=null==i?void 0:i.cause,n="string"==typeof t?t:null==t?void 0:t.message;null==R||R.add({variant:"error",title:"Error",text:e,detail:n})}finally{V(!1),await ea()}},[_,k,j,v,er,ei,ea,R,I,H]),eo=null==j?void 0:j.address,el=null==j?void 0:null===(n=j.payment)||void 0===n?void 0:n.chain,{data:ed}=(0,r.GO)({doRequest:async()=>{if(!v||!j||!C||!eo||!el)return;let e=new StaticEVMAccount(eo,el);return v.getStreamPaymentDetails(j,e)},onSuccess:()=>null,flushData:!0,triggerOnMount:!0,triggerDeps:[null==j?void 0:j.id,C,eo,el]});return{logs:en,nodeDetails:G,streamDetails:ed,status:P,calculatedStatus:N,isAllocated:$,stopDisabled:U,startDisabled:K,rebootDisabled:X,deleteDisabled:Q,logsDisabled:!en,stopLoading:A,startLoading:L,rebootLoading:F,deleteLoading:W,handleStop:ee,handleStart:Y,handleReboot:et,handleDelete:es}}},7770:function(e,t,n){n.d(t,{S:function(){return useRequestVolumes}});var i=n(90805),r=n(77205);function useRequestVolumes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,i.B)();return(0,r.F)({...e,manager:t,name:"volume"})}}}]);