"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6946],{34517:function(e,r,s){s.d(r,{Z:function(){return p}});var l=s(85893),d=s(67294),c=s(41664),u=s.n(c),m=s(79632);let ButtonLink=e=>{let{href:r,variant:s="secondary",color:d="main0",kind:c="default",size:p="md",disabled:f,children:h,...v}=e,y=(0,l.jsx)(m.zx,{as:f?void 0:"a",variant:s,color:d,kind:c,size:p,disabled:f,...v,children:h});return f?y:(0,l.jsx)(u(),{href:r,passHref:!0,legacyBehavior:!0,children:y})};ButtonLink.displayName="ButtonLink";var p=(0,d.memo)(ButtonLink)},72882:function(e,r,s){s.d(r,{ZP:function(){return h}});var l=s(85893),d=s(67294),c=s(79632),u=s(43251),m=s(19521);let p=(0,m.ZP)(c.JO).attrs(e=>{let{buttonSize:r}=e;return{size:(()=>{switch(r){case"xs":return"xs";case"sm":return"sm";case"lg":return"md-lg";case"xl":return"lg";default:return"md"}})()}}).withConfig({displayName:"styles__InfoIcon",componentId:"sc-15zds0b-0"})(["opacity:0.8;"]),f=(0,d.forwardRef)((e,r)=>{let{tooltipContent:s,tooltipPosition:m,children:f,disabled:h,size:v,...y}=e,[g,w]=(0,d.useState)(!1);(0,d.useEffect)(()=>{w(!0)},[]);let x=(0,d.useRef)(null),N=r||x;return(0,l.jsxs)("div",{className:"inline-flex relative",children:[(0,l.jsx)(c.zx,{ref:N,disabled:h,size:v,...y,children:(0,l.jsxs)(l.Fragment,{children:[f,h&&s&&(0,l.jsx)(p,{name:"info-circle",buttonSize:v})]})}),g&&h&&s&&(0,l.jsx)(u.Z,{my:(null==m?void 0:m.my)||"bottom-center",at:(null==m?void 0:m.at)||"top-center",targetRef:N,content:s})]})});f.displayName="ButtonWithInfoTooltip";var h=f},90255:function(e,r,s){s.d(r,{HC:function(){return h},ZP:function(){return v}});var l=s(85893),d=s(19521),c=s(67294),u=s(79632);let m=(0,d.ZP)(u.Jy).attrs({type:"grain-3"}).withConfig({displayName:"styles__StyledContainer",componentId:"sc-1yk7f0v-0"})(["",""],{position:"relative",display:"flex",flexDirection:"column",gap:"1.5rem",padding:"1.5rem"}),p=d.ZP.div.attrs((0,u.PT)("tp-info text-main0")).withConfig({displayName:"styles__StyledTitle",componentId:"sc-1yk7f0v-1"})(["",""],{textTransform:"uppercase"});var f=s(11505);let Card2Field=e=>{let{name:r,value:s,big:c=!1,...u}=e,m=(0,d.Fg)();return(0,l.jsxs)(y,{...u,children:[(0,l.jsx)(g,{className:"tp-body3 fs-10",children:r}),(0,l.jsx)(w,{className:"".concat(c?"tp-body3 fs-16":"tp-body fs-12"),children:s||(0,l.jsx)(f.g4,{width:"1em",height:"1em",color:m.color.info})})]})};Card2Field.displayName="Card2Field";let Card2=e=>{let{title:r,children:s,...d}=e;return(0,l.jsxs)(m,{...d,children:[(0,l.jsx)(p,{children:r}),s]})};Card2.displayName="Card2";let h=(0,c.memo)(Card2Field);var v=(0,c.memo)(Card2),y=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-dwnz0o-0"})({display:"flex",alignItems:"center"}),g=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-dwnz0o-1"})({marginRight:"1rem",whiteSpace:"nowrap",textTransform:"uppercase",opacity:"0.6"}),w=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-dwnz0o-2"})({marginLeft:"auto",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"})},99983:function(e,r,s){s.d(r,{F:function(){return u}});var l=s(19521);let d={xl:90,lg:60.0625,md:44.6875},c=l.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-1bpjbi2-0"})(["",""],e=>{let{$variant:r="lg"}=e;return(0,l.iv)([""," max-width:","rem;"],{marginLeft:"auto",marginRight:"auto",width:"100%",paddingLeft:"1.5rem",paddingRight:"1.5rem","@media (min-width: 62rem)":{paddingLeft:"4rem",paddingRight:"4rem"}},d[r])});var u=c},64885:function(e,r,s){s.d(r,{Z:function(){return m}});var l=s(85893),d=s(19521),c=s(67294),u=s(79632);let NodeDetailEditableField=e=>{let{children:r,isOwner:s,value:d,onChange:u,onBlur:m,onKeyDown:g,wrap:w=!1,...x}=e,[N,_]=(0,c.useState)(),C=(0,c.useRef)(null),k=(0,c.useCallback)(()=>{_(e=>e||!e)},[]),b=(0,c.useCallback)(e=>{_(!1),m&&m(e)},[m]),j=(0,c.useCallback)(e=>{["Escape","Enter","NumpadEnter"].includes(e.code)&&(_(!1),g&&g(e))},[g]),I=(0,c.useCallback)(e=>{var r;let s=null===(r=e.currentTarget)||void 0===r?void 0:r.textContent;u&&u(s)},[u]);return(0,c.useEffect)(()=>{if(!C.current)return;let e=d+"";C.current.textContent!==e&&(C.current.textContent=e||null)},[d,N]),(0,c.useEffect)(()=>{C.current&&(C.current.focus(),function(e){if(!document.createRange)return;let r=document.createRange();r.selectNodeContents(e),r.collapse(!1);let s=window.getSelection();null==s||s.removeAllRanges(),null==s||s.addRange(r)}(C.current),C.current.scrollLeft=C.current.scrollWidth)},[N]),(0,l.jsxs)(p,{...x,children:[N?(0,l.jsx)(f,{ref:C,type:"text",disabled:!s,contentEditable:!0,onInput:I,onBlur:b,onKeyDown:j,suppressContentEditableWarning:!0,...x,$_css:[{minWidth:"1px",borderStyle:"none",outline:"2px solid transparent",outlineOffset:"2px"},!w&&{maxWidth:"100%",overflow:"hidden",whiteSpace:"nowrap"}]}):(0,l.jsx)(h,{$_css2:[!w&&{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}],children:r||d||"NONE"}),s&&(0,l.jsx)(v,{$_css3:[{display:"flex",flexShrink:"0",alignItems:"center",justifyContent:"flex-end",overflow:"hidden"},{maxWidth:N?"0":"1.75rem",transition:"max-width ease-in-out 0.25s 0s"}],children:(0,l.jsx)(y,{name:"edit",onClick:k})})]})};NodeDetailEditableField.displayName="NodeDetailEditableField";var m=(0,c.memo)(NodeDetailEditableField),p=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1usbvk1-0"})({display:"flex",alignItems:"baseline",overflow:"hidden"}),f=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1usbvk1-1"})(["",""],e=>e.$_css),h=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1usbvk1-2"})(["",""],e=>e.$_css2),v=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv4",componentId:"sc-1usbvk1-3"})(["",""],e=>e.$_css3),y=(0,d.ZP)(u.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-1usbvk1-4"})({marginLeft:"0.75rem",height:"0.875rem",width:"0.875rem",cursor:"pointer"})},84550:function(e,r,s){s.d(r,{Z:function(){return I}});var l=s(85893),d=s(67294),c=s(79632),u=s(19521);let m=u.ZP.input.attrs({type:"file"}).withConfig({displayName:"styles__StyledHiddenFileInput",componentId:"sc-vome1k-0"})(["display:none;"]),p=(0,d.forwardRef)((e,r)=>{let{value:s,onChange:u,accept:p,children:f,error:h,label:v,resetValue:y="",...g}=e,w=(0,d.useRef)(null),x=(0,d.useCallback)(()=>{if(w.current){if(void 0!==y&&s&&s!==y){w.current.value="",u(y);return}w.current.click()}},[u,y,s]),N=(0,d.useCallback)(e=>{let r=e.target,{files:s}=r;if(s){let e=s[0];u(e)}},[u]);return(0,l.jsxs)("div",{tabIndex:-1,ref:r,onClick:x,...g,children:[v&&(0,l.jsx)(c.lX,{label:v,error:h,required:!0}),f,h&&(0,l.jsx)(c.Xq,{error:h}),(0,l.jsx)(m,{type:"file",ref:w,onChange:N,accept:p})]})});p.displayName="HiddenFileInput";var f=(0,d.memo)(p),h=s(25675),v=s.n(h);let y=(0,u.ZP)(f).attrs(e=>({accept:"*.png,*.jpg,*.jpeg,*.svg",...e})).withConfig({displayName:"styles__StyledBackgroundEditInput",componentId:"sc-h8kwva-0"})(["",";"],e=>{let{theme:r}=e;return(0,u.iv)([""," transition:all ease-in-out 0.25s 0s;background-color:","66;border-bottom-left-radius:100%;"],{position:"absolute",right:"-1rem",top:"-1rem",display:"flex",height:"3.5rem",width:"5rem",cursor:"pointer",alignItems:"center",justifyContent:"center",paddingBottom:"1.25rem",paddingLeft:"1.5rem",opacity:"0"},r.color.base1)}),g=u.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-h8kwva-1"})(["",""],e=>{let{$backgroundUrl:r,$hash:s,theme:l}=e,d=Object.keys(l.gradient),c=(s||"").split("").reduce((e,r)=>r.charCodeAt(0)+e,0)%d.length,[m,p]=l.gradient[d[c]].colors,f=r?"url(".concat(r,")"):"linear-gradient(90deg, ".concat(m,"cc 0%, ").concat(p,"cc 100%)");return(0,u.iv)([""," background-image:",";background-position:center;background-size:cover;&:before{"," content:'';background:inherit;transition:transform 0.4s ease-in-out;}&:hover{&:before{","}& > ","{","}}"],{position:"relative",zIndex:"0",display:"flex",height:"12.5rem",flexDirection:"column",justifyContent:"flex-end",overflow:"hidden"},f,{position:"absolute",inset:"0px",transformOrigin:"center","--tw-scale-x":"1","--tw-scale-y":"1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"},{"--tw-scale-x":"1.1","--tw-scale-y":"1.1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"},y,{right:"0px",top:"0px",opacity:"1"})}),w=u.ZP.h1.attrs((0,c.PT)("tp-h5")).withConfig({displayName:"styles__StyledTitle",componentId:"sc-h8kwva-2"})(["",";"],e=>{let{theme:r}=e;return(0,u.iv)([""," color:",";background-color:","E5;"],{zIndex:"10",margin:"0px",paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"0.125rem",paddingBottom:"0.125rem"},r.color.text,r.color.base1)}),x=u.ZP.h2.attrs((0,c.PT)("tp-body3")).withConfig({displayName:"styles__StyledDescription",componentId:"sc-h8kwva-3"})(["",";"],e=>{let{theme:r}=e;return(0,u.iv)([""," color:",";"],{margin:"0px",paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"0.75rem",paddingBottom:"0.75rem"},r.color.text)}),N=(0,u.ZP)(f).attrs(e=>({accept:"*.png,*.jpg,*.jpeg,*.svg",...e})).withConfig({displayName:"styles__StyledNodeAvatarEditInput",componentId:"sc-h8kwva-4"})(["",";"],e=>{let{theme:r}=e;return(0,u.iv)([""," transition:all ease-in-out 0.25s 0s;background-color:","66;border-radius:50%;"],{position:"absolute",inset:"0px",display:"flex",cursor:"pointer",alignItems:"center",justifyContent:"center",opacity:"0"},r.color.base1)}),_=u.ZP.div.withConfig({displayName:"styles__StyledNodeAvatarContainer",componentId:"sc-h8kwva-5"})([""," &:hover > ","{","}"],{position:"relative",zIndex:"10",marginLeft:"1.5rem",marginRight:"1.5rem",marginTop:"1rem",marginBottom:"1rem",display:"inline-flex",overflow:"hidden"},N,{opacity:"1"}),C=(0,u.ZP)(c.pN).attrs(e=>({size:"lg",Image:v(),...e})).withConfig({displayName:"styles__StyledNodeAvatar",componentId:"sc-h8kwva-6"})([""]);var k=s(64885),b=s(9911),j=s(49107);function useFileToImg(e){let{file:r}=e,[s,l]=(0,d.useState)();return(0,d.useEffect)(()=>{(async function(){let e;if(!r){l(void 0);return}r instanceof File&&(e=await (0,j.s5)(r)),"string"==typeof r&&((e=new Image).src="".concat(b.pf,"/api/v0/storage/raw/").concat(r)),e&&l(e)})()},[r]),{img:s}}let NodeDetailHeader=e=>{let{nameCtrl:r,descriptionCtrl:s,bannerCtrl:d,pictureCtrl:u,isOwner:m,node:p,...f}=e,{img:h}=useFileToImg({file:u.field.value}),{img:v}=useFileToImg({file:d.field.value});return(0,l.jsxs)("div",{...f,children:[(0,l.jsxs)(g,{$hash:null==p?void 0:p.hash,$backgroundUrl:null==v?void 0:v.src,children:[m&&(0,l.jsx)(y,{...d.field,...d.fieldState,resetValue:null==p?void 0:p.banner,children:d.field.value!==(null==p?void 0:p.banner)?(0,l.jsx)(c.JO,{name:"trash"}):(0,l.jsx)(c.JO,{name:"edit"})}),(0,l.jsx)("div",{children:(0,l.jsxs)(_,{children:[(0,l.jsx)(C,{src:null==h?void 0:h.src}),m&&(0,l.jsx)(N,{...u.field,...u.fieldState,resetValue:null==p?void 0:p.picture,children:u.field.value!==(null==p?void 0:p.picture)?(0,l.jsx)(c.JO,{name:"trash"}):(0,l.jsx)(c.JO,{name:"edit"})})]})}),(0,l.jsx)(w,{children:(0,l.jsx)(k.Z,{...r.field,...r.fieldState,placeholder:"name",isOwner:m})})]}),(s.field.value||m)&&(0,l.jsx)(x,{children:(0,l.jsx)(k.Z,{...s.field,...s.fieldState,placeholder:"description",isOwner:m,wrap:!0})})]})};NodeDetailHeader.displayName="NodeDetailHeader";var I=(0,d.memo)(NodeDetailHeader)},44270:function(e,r,s){s.d(r,{Z:function(){return v}});var l=s(85893),d=s(19521),c=s(67294),u=s(41664),m=s.n(u),p=s(79632);let f=(0,d.ZP)(p.JO).withConfig({displayName:"styles__StyledCopytoClipboardIcon",componentId:"sc-6b2rpy-0"})(["",""],e=>{let{theme:r}=e;return(0,d.iv)([""," transition-property:color;transition-duration:","ms;transition-timing-function:",";&:hover{color:",";}"],{cursor:"pointer"},r.transition.duration.fast,r.transition.timing,r.color.main0)}),CopytoClipboardIcon=e=>{let{text:r}=e,s=(0,p.vx)(r||"");return(0,l.jsx)(f,{name:"copy",onClick:s})};CopytoClipboardIcon.displayName="CopytoClipboardIcon";var h=(0,c.memo)(CopytoClipboardIcon);let NodeDetailLink=e=>{let{href:r,children:s,isOwner:d,textToCopy:c,...u}=e,m=(0,l.jsx)(y,{children:s||"NONE"});return(0,l.jsxs)(g,{children:[r?(0,l.jsxs)(w,{href:r,target:"_blank",...u,children:[m,!d&&(0,l.jsx)(x,{name:"external-link-square-alt"})]}):(0,l.jsx)(N,{children:m}),c&&(0,l.jsx)(h,{text:c})]})};NodeDetailLink.displayName="NodeDetailLink";var v=(0,c.memo)(NodeDetailLink),y=(0,d.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-1fri0r3-0"})({flex:"1 1 0%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),g=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1fri0r3-1"})({display:"flex",alignItems:"center",gap:"0.5rem"}),w=(0,d.ZP)(m()).withConfig({displayName:"cmp___StyledLink",componentId:"sc-1fri0r3-2"})({display:"flex",width:"100%",minWidth:"0px",alignItems:"center",gap:"0.5rem"}),x=(0,d.ZP)(p.JO).withConfig({displayName:"cmp___StyledIcon",componentId:"sc-1fri0r3-3"})({height:"0.875rem",width:"0.875rem"}),N=(0,d.ZP)("span").withConfig({displayName:"cmp___StyledSpan2",componentId:"sc-1fri0r3-4"})({display:"flex",width:"100%",alignItems:"center"})},16434:function(e,r,s){s.d(r,{Z:function(){return y}});var l=s(85893),d=s(67294),c=s(19521),u=s(79632);let m=(0,c.ZP)(u.cu).attrs(e=>{let{$status:r,...s}=e;return{$color:"active"===r||"linked"===r?"main0":"main1",...s}}).withConfig({displayName:"styles__StyledStatusIcon",componentId:"sc-23wgwz-0"})([""]),NodeStatus=e=>{let{status:r,...s}=e;return(0,l.jsxs)(f,{...s,children:[(0,l.jsx)(m,{$status:r}),(0,l.jsx)(h,{className:"tp-body3",children:r})]})};NodeStatus.displayName="NodeStatus";var p=(0,d.memo)(NodeStatus),f=(0,c.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-18kkg70-0"})({display:"flex",alignItems:"center",gap:"0.375rem",paddingTop:"0.375rem"}),h=(0,c.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-18kkg70-1"})({textTransform:"capitalize"});let v=c.ZP.div.withConfig({displayName:"styles__StyledContainer",componentId:"sc-akpept-0"})(["",""],e=>{let{theme:r}=e;return(0,c.iv)([""," background:","10;"],{paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.375rem",paddingBottom:"0.375rem"},r.color.main0)});c.ZP.div.withConfig({displayName:"styles__StyledContent",componentId:"sc-akpept-1"})([""," ",""],{maxWidth:"100%"},e=>{let{$disabled:r}=e;return r&&(0,c.iv)(["opacity:0.4;filter:grayscale(100%);"])});let NodeDetailStatus=e=>{let{status:r,...s}=e;return(0,l.jsxs)(v,{...s,children:[(0,l.jsx)("div",{className:"tp-body fs-10",children:"STATUS"}),(0,l.jsx)(p,{status:r||"waiting"})]})};NodeDetailStatus.displayName="NodeDetailStatus";var y=(0,d.memo)(NodeDetailStatus)},33910:function(e,r,s){s.d(r,{Rr:function(){return u},ZP:function(){return p}});var l=s(85893),d=s(19521),c=s(67294);let u=d.ZP.div.withConfig({displayName:"styles__StyledDotIcon",componentId:"sc-aeyx1g-0"})(e=>{let{theme:r,$score:s}=e,l=void 0===s?r.color.disabled2:s>=.8?r.color.success:s>=.5?r.color.info:r.color.error;return[{height:"0.75rem",width:"0.5rem"},(0,d.iv)(["background-color:",";"],l)]});var m=s(68885);let NodeLinkedNodes=e=>{let{nodes:r,subfix:s,...d}=e,c=m.B.maxLinkedPerNode;return(0,l.jsxs)(f,{...d,children:[(0,l.jsx)(h,{children:Array.from({length:c},(e,s)=>{var d;return(0,l.jsx)(u,{$score:null==r?void 0:null===(d=r[s])||void 0===d?void 0:d.score},s)})}),(0,l.jsxs)(v,{className:"fs-10",children:[null==r?void 0:r.length," ",(0,l.jsxs)(y,{children:["of ",c,s]})]})]})};NodeLinkedNodes.displayName="NodeLinkedNodes";var p=(0,c.memo)(NodeLinkedNodes),f=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv",componentId:"sc-1umj7n-0"})({display:"inline-flex",alignItems:"center",gap:"0.75rem"}),h=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv2",componentId:"sc-1umj7n-1"})({display:"flex",alignItems:"stretch",gap:"0.125rem"}),v=(0,d.ZP)("div").withConfig({displayName:"cmp___StyledDiv3",componentId:"sc-1umj7n-2"})({whiteSpace:"nowrap",lineHeight:"1rem"}),y=(0,d.ZP)("span").withConfig({displayName:"cmp___StyledSpan",componentId:"sc-1umj7n-3"})({opacity:"0.2"})},29039:function(e,r,s){s.d(r,{t:function(){return Price},Z:function(){return f}});var l=s(85893),d=s(67294),c=s(19521);let u=c.ZP.span.withConfig({displayName:"styles__StyledPrice",componentId:"sc-tdptuh-0"})(["",""],{display:"inline-flex",alignItems:"center",gap:"0.25rem",whiteSpace:"nowrap"});var m=s(79632),p=s(49107);let Price=e=>{let{value:r,duration:s,iconSize:d="0.75em",...c}=e;return(0,l.jsxs)(u,{...c,children:[(0,p.RK)(r),(0,l.jsx)(m.TR,{color:"currentColor",img:"aleph",size:d}),s&&(0,l.jsxs)("span",{children:["/ ",s]})]})};Price.displayName="Price";var f=(0,d.memo)(Price)},91489:function(e,r,s){s.d(r,{Z:function(){return l.Z}});var l=s(29039)},43251:function(e,r,s){s.d(r,{Z:function(){return m}});var l=s(85893),d=s(19521),c=s(67294),u=s(79632);let ResponsiveTooltip=e=>{let r=(0,u._K)("md");return(0,l.jsx)(p,{...e,$_css:r?{position:"fixed !important",left:"0px !important",top:"0px !important",zIndex:"20 !important",margin:"1.5rem",height:"calc(100% - 3rem) !important",width:"calc(100% - 3rem) !important",maxWidth:"100% !important",transform:"none !important"}:""})};ResponsiveTooltip.displayName="ResponsiveTooltip";var m=(0,c.memo)(ResponsiveTooltip),p=(0,d.ZP)(u.u).withConfig({displayName:"cmp___StyledTooltip",componentId:"sc-vdmo8c-0"})(["",""],e=>e.$_css)},81990:function(e,r,s){s.d(r,{P:function(){return unsupportedNetworkDisabledMessage}});var l=s(85893);function unsupportedNetworkDisabledMessage(e){return function(e){let{title:r,description:s}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"tp-body3 fs-18 text-base2",children:r}),(0,l.jsx)("p",{className:"tp-body1 fs-14 text-base2",children:s})]})}({title:"Ethereum network required",description:(0,l.jsxs)(l.Fragment,{children:[e," doesn't support this action. Please switch to the"," ",(0,l.jsx)("strong",{children:"Ethereum"})," chain using the dropdown at the top of the page."]})})}s(67294)},68518:function(e,r,s){s.d(r,{i:function(){return useLinking}});var l=s(9754),d=s(9324),c=s(79632),u=s(67294),m=s(93787),p=s(37940);function useLinking(){let[e,r]=(0,l.mr)(),{entities:s}=e.crns,{entities:f}=e.ccns,h=(0,m.z)(),{isEthereumNetwork:v,getEthereumNetworkTooltip:y}=(0,p.Y)(),g=(0,c.lm)(),w=(0,u.useCallback)(e=>"string"==typeof e?null==s?void 0:s.find(r=>r.hash===e):e,[s]),x=(0,u.useCallback)(e=>"string"==typeof e?null==f?void 0:f.find(r=>r.hash===e):e,[f]),N=(0,u.useCallback)(e=>{let r=w(e);return!!r&&h.isLinked(r)},[w,h]),_=(0,u.useCallback)((e,r)=>{let s=w(e),l=x(r);return!!s&&!!l&&h.isLinkableBy(s,l)[0]},[x,w,h]),C=(0,u.useCallback)(e=>{let r=w(e);if(!r)return!1;let s=x(r.parentData||r.parent||"");return!!s&&h.isUnlinkableBy(r,s)},[x,w,h]),k=(0,u.useCallback)(async(e,s)=>{try{if(!g)throw Error("Notification not ready");let l=w(e);if(!l)throw Error("Invalid CRN node");let c=x(s);if(!c)throw Error("Invalid CCN node");if(!_(l,c))throw Error("Not linkable node");await h.linkComputeResourceNode(l.hash),g.add({variant:"success",title:"Success",text:'Linked resource node "'.concat(l.hash,'" successfully.')});let[u,m]=function(e,r){let s={...r,virtual:Date.now()},l={...e,virtual:Date.now()};s.parent=l.hash,s.parentData=l;let d=l.crnsData.reduce((e,r)=>(e[r.hash]=r,e),{});return d[s.hash]=s,l.crnsData=Object.values(d),l.resource_nodes=Object.keys(d),[l,s]}(c,l);return r(new d.Wy({name:"ccns",entities:[u]})),r(new d.Wy({name:"crns",entities:[m]})),!0}catch(e){null==g||g.add({variant:"error",title:"Error",text:e.message})}return!1},[r,x,w,_,h,g]),b=(0,u.useCallback)(async e=>{try{if(!g)throw Error("Notification not ready");let s=w(e);if(!s)throw Error("Invalid CRN node");let l=x(s.parentData||s.parent||"");if(!l)throw Error("Invalid CCN node");if(!C(s))throw Error("Not unlinkable node");await h.unlinkComputeResourceNode(s.hash),g.add({variant:"success",title:"Success",text:'Unlinked resource node "'.concat(s.hash,'" successfully.')});let[c,u]=function(e,r){let s={...r,virtual:Date.now()},l={...e,virtual:Date.now()};s.parent="",s.parentData=void 0;let d=l.crnsData.filter(e=>e.hash!==s.hash);return l.crnsData=d,l.resource_nodes=d.map(e=>e.hash),[l,s]}(l,s);return r(new d.Wy({name:"ccns",entities:[c]})),r(new d.Wy({name:"crns",entities:[u]})),!0}catch(e){null==g||g.add({variant:"error",title:"Error",text:e.message})}return!1},[r,x,w,C,h,g]);return{isLinked:N,isLinkableByUser:_,isUnlinkableByUser:C,isEthereumNetwork:v,getEthereumNetworkTooltip:y,handleLink:k,handleUnlink:b}}},50721:function(e,r,s){s.d(r,{_:function(){return useNodeDetail}});var l=s(67294),d=s(11163),c=s(79632),u=s(9754),m=s(93787),p=s(9324);function useNodeDetail(e){var r;let{node:s}=e,f=(0,d.useRouter)(),h=(0,c.lm)(),[{connection:{account:v}},y]=(0,u.mr)(),g=(0,m.z)(),w=(0,l.useMemo)(()=>s?g.isCRN(s):void 0,[g,s]),x=(0,l.useCallback)(async()=>{if(s){if(!h)throw Error("Notification not ready");try{let e=null==s?void 0:s.hash;await g.removeNode(e),h.add({variant:"success",title:"Success",text:'Your node "'.concat(s.hash,'" was deleted successfully.')}),y(new p.gg({name:w?"crns":"ccns",keys:[e]})),f.replace("/account/earn/".concat(w?"crn":"ccn"))}catch(e){null==h||h.add({variant:"error",title:"Error",text:e.message})}}},[y,w,s,g,h,f]),{nodes_with_identical_asn:N}=(null==s?void 0:null===(r=s.scoreData)||void 0===r?void 0:r.measurements)||{},{base_latency:_,measured_at:C}=(null==s?void 0:s.metricsData)||{},k=(0,l.useMemo)(()=>_?"".concat(Number(100*(_||0)).toFixed(2)," %"):void 0,[_]),b=(0,l.useMemo)(()=>{if(!C)return;let e=new Date(1e3*C);return"".concat(e.toLocaleDateString()," (").concat(e.toLocaleTimeString(),")")},[C]),j=(0,l.useMemo)(()=>{if(!s)return;let e=new Date((null==s?void 0:s.time)*1e3);return"".concat(e.toLocaleDateString())},[s]),I=(0,l.useMemo)(()=>s&&g.isUserNode(s),[g,s]);return{account:v,node:s,nodesOnSameASN:N,baseLatency:k,lastMetricsCheck:b,creationDate:j,isOwner:I,handleRemove:x}}},37940:function(e,r,s){s.d(r,{Y:function(){return useEthereumNetwork}});var l=s(67294),d=s(9754),c=s(25819),u=s(81990);function useEthereumNetwork(){let[e]=(0,d.mr)(),{blockchain:r}=e.connection,s=(0,l.useMemo)(()=>r===c.Ek.ETH,[r]),m=(0,l.useMemo)(()=>{var e;return r?null===(e=c.DR[r])||void 0===e?void 0:e.name:"Current network"},[r]),p=(0,l.useMemo)(()=>()=>s?void 0:(0,u.P)(m),[s,m]);return{isEthereumNetwork:s,blockchainName:m,getEthereumNetworkTooltip:p}}},24959:function(e,r,s){s.d(r,{c:function(){return useForm}});var l=s(79632),d=s(67294),c=s(87536),u=s(1604),m=s(50586);function useForm(e){let{onSubmit:r,onSuccess:s,onError:p,readyDeps:f=[],...h}=e,v=(0,c.cI)(h);(0,d.useEffect)(()=>{"object"==typeof h.defaultValues&&v.reset(h.defaultValues)},[...f]);let[y,g]=(0,d.useState)({data:void 0,error:void 0,loading:!1}),[w,{onLoad:x,onSuccess:N,onError:_}]=(0,l.g7)({flushData:!0,state:y,setState:g,onSuccess:s,onError:p}),C=(0,d.useCallback)(async e=>{try{x();let s=await r(e);N(s)}catch(r){let e=r instanceof u.jm?m.Z.ValidationError:(null==r?void 0:r.cause)||r;v.setError("root.serverError",{...e,message:null==e?void 0:e.message}),_(e)}},[v,_,x,r,N]),k=(0,d.useCallback)(async e=>{let r;if(console.log(e),!r){let s=function getFirstError(e){let[r]=Object.entries(e);if(!r)return;let[s,l]=r;if(Array.isArray(l)){let e=l[l.length-1];return getFirstError(e)}return[s,l]}(e);if(s){let[e,l]=s,d="string"==typeof l?l:(null==l?void 0:l.message)?": ".concat(l.message):(null==l?void 0:l.type)?': "'.concat(null==l?void 0:l.type,'" validation not satisfied'):"";r=m.Z.FieldError(e,d)}}r||(r=m.Z.ValidationError),_(r)},[_]),b=(0,d.useMemo)(()=>v.handleSubmit(C,k),[v,C,k]);return{...v,requestState:w,handleSubmit:b}}},56312:function(e,r,s){s.d(r,{F:function(){return zod_t}});var l=s(87536),t=function(e,r,s){if(e&&"reportValidity"in e){var d=(0,l.U2)(s,r);e.setCustomValidity(d&&d.message||""),e.reportValidity()}},resolvers_i=function(e,r){var i=function(s){var l=r.fields[s];l&&l.ref&&"reportValidity"in l.ref?t(l.ref,s,e):l.refs&&l.refs.forEach(function(r){return t(r,s,e)})};for(var s in r.fields)i(s)},n=function(e,r){r.shouldUseNativeValidation&&resolvers_i(e,r);var s={};for(var d in e){var c=(0,l.U2)(r.fields,d),u=Object.assign(e[d]||{},{ref:c&&c.ref});if(a(r.names||Object.keys(e),d)){var m=Object.assign({},o((0,l.U2)(s,d)));(0,l.t8)(m,"root",u),(0,l.t8)(s,d,m)}else(0,l.t8)(s,d,u)}return s},o=function(e){return Array.isArray(e)?e.filter(Boolean):[]},a=function(e,r){return e.some(function(e){return e.startsWith(r+".")})},zod_n=function(e,r){for(var s={};e.length;){var d=e[0],c=d.code,u=d.message,m=d.path.join(".");if(!s[m]){if("unionErrors"in d){var p=d.unionErrors[0].errors[0];s[m]={message:p.message,type:p.code}}else s[m]={message:u,type:c}}if("unionErrors"in d&&d.unionErrors.forEach(function(r){return r.errors.forEach(function(r){return e.push(r)})}),r){var f=s[m].types,h=f&&f[d.code];s[m]=(0,l.KN)(m,r,s,c,h?[].concat(h,d.message):d.message)}e.shift()}return s},zod_t=function(e,r,s){return void 0===s&&(s={}),function(l,d,c){try{return Promise.resolve(function(d,u){try{var m=Promise.resolve(e["sync"===s.mode?"parse":"parseAsync"](l,r)).then(function(e){return c.shouldUseNativeValidation&&resolvers_i({},c),{errors:{},values:s.raw?l:e}})}catch(e){return u(e)}return m&&m.then?m.then(void 0,u):m}(0,function(e){if(null!=e.errors)return{values:{},errors:n(zod_n(e.errors,!c.shouldUseNativeValidation&&"all"===c.criteriaMode),c)};throw e}))}catch(e){return Promise.reject(e)}}}}}]);